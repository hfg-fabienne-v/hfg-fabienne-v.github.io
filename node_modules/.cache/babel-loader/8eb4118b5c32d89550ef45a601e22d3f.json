{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport mitt from 'mitt';\nimport { inject, computed, defineComponent, reactive, ref, getCurrentInstance, provide, onBeforeMount, onMounted, onBeforeUnmount, h, Fragment, withDirectives, vShow } from 'vue';\nimport ElCollapseTransition from '../el-collapse-transition';\nimport ElPopper from '../el-popper';\n\nfunction useMenu(instance, currentIndex) {\n  var rootMenu = inject(\"rootMenu\");\n  var indexPath = computed(function () {\n    var parent = instance.parent;\n    var path = [currentIndex];\n\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n\n      parent = parent.parent;\n    }\n\n    return path;\n  });\n  var parentMenu = computed(function () {\n    var parent = instance.parent;\n\n    while (parent && [\"ElMenu\", \"ElSubmenu\"].indexOf(parent.type.name) === -1) {\n      parent = parent.parent;\n    }\n\n    return parent;\n  });\n  var paddingStyle = computed(function () {\n    var parent = instance.parent;\n    if (rootMenu.props.mode !== \"vertical\") return {};\n    var padding = 20;\n\n    if (rootMenu.props.collapse) {\n      padding = 20;\n    } else {\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubmenu\") {\n          padding += 20;\n        }\n\n        parent = parent.parent;\n      }\n    }\n\n    return {\n      paddingLeft: padding + \"px\"\n    };\n  });\n  return {\n    parentMenu: parentMenu,\n    paddingStyle: paddingStyle,\n    indexPath: indexPath\n  };\n}\n\nvar script = defineComponent({\n  name: \"ElSubmenu\",\n  componentName: \"ElSubmenu\",\n  props: {\n    index: {\n      type: String,\n      required: true\n    },\n    showTimeout: {\n      type: Number,\n      default: 300\n    },\n    hideTimeout: {\n      type: Number,\n      default: 300\n    },\n    popperClass: String,\n    disabled: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: void 0\n    }\n  },\n  setup: function setup(props) {\n    var data = reactive({\n      popperJS: null,\n      timeout: null,\n      items: {},\n      submenus: {},\n      currentPlacement: \"\",\n      mouseInChild: false,\n      opened: false\n    });\n    var verticalTitleRef = ref(null);\n    var popperVnode = ref(null);\n    var instance = getCurrentInstance();\n\n    var _useMenu = useMenu(instance, props.index),\n        paddingStyle = _useMenu.paddingStyle,\n        indexPath = _useMenu.indexPath,\n        parentMenu = _useMenu.parentMenu;\n\n    var _inject = inject(\"rootMenu\"),\n        openedMenus = _inject.openedMenus,\n        isMenuPopup = _inject.isMenuPopup,\n        rootHoverBackground = _inject.hoverBackground,\n        rootMethods = _inject.methods,\n        rootProps = _inject.props,\n        closeMenu = _inject.methods.closeMenu,\n        rootMenuOn = _inject.rootMenuOn,\n        rootMenuEmit = _inject.rootMenuEmit;\n\n    var _inject2 = inject(\"subMenu:\".concat(parentMenu.value.uid)),\n        parentAddSubmenu = _inject2.addSubMenu,\n        parentRemoveSubmenu = _inject2.removeSubMenu,\n        parentHandleMouseleave = _inject2.handleMouseleave;\n\n    var submenuTitleIcon = computed(function () {\n      return mode.value === \"horizontal\" && isFirstLevel.value || mode.value === \"vertical\" && !rootProps.collapse ? \"el-icon-arrow-down\" : \"el-icon-arrow-right\";\n    });\n    var isFirstLevel = computed(function () {\n      var isFirstLevel2 = true;\n      var parent = instance.parent;\n\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if ([\"ElSubmenu\", \"ElMenuItemGroup\"].includes(parent.type.name)) {\n          isFirstLevel2 = false;\n          break;\n        } else {\n          parent = parent.parent;\n        }\n      }\n\n      return isFirstLevel2;\n    });\n    var appendToBody = computed(function () {\n      return props.popperAppendToBody === void 0 ? isFirstLevel.value : Boolean(props.popperAppendToBody);\n    });\n    var menuTransitionName = computed(function () {\n      return rootProps.collapse ? \"el-zoom-in-left\" : \"el-zoom-in-top\";\n    });\n    var opened = computed(function () {\n      return openedMenus.value.includes(props.index);\n    });\n    var active = computed(function () {\n      var isActive = false;\n      var submenus = data.submenus;\n      var items = data.items;\n      Object.keys(items).forEach(function (index) {\n        if (items[index].active) {\n          isActive = true;\n        }\n      });\n      Object.keys(submenus).forEach(function (index) {\n        if (submenus[index].active) {\n          isActive = true;\n        }\n      });\n      return isActive;\n    });\n    var backgroundColor = computed(function () {\n      return rootProps.backgroundColor || \"\";\n    });\n    var activeTextColor = computed(function () {\n      return rootProps.activeTextColor || \"\";\n    });\n    var textColor = computed(function () {\n      return rootProps.textColor || \"\";\n    });\n    var mode = computed(function () {\n      return rootProps.mode;\n    });\n    var titleStyle = computed(function () {\n      if (mode.value !== \"horizontal\") {\n        return {\n          color: textColor.value\n        };\n      }\n\n      return {\n        borderBottomColor: active.value ? rootProps.activeTextColor ? activeTextColor.value : \"\" : \"transparent\",\n        color: active.value ? activeTextColor.value : textColor.value\n      };\n    });\n    var subMenuEmitter = mitt();\n\n    var doDestroy = function doDestroy() {\n      var _a;\n\n      (_a = popperVnode.value) == null ? void 0 : _a.doDestroy();\n    };\n\n    var handleCollapseToggle = function handleCollapseToggle(value) {\n      if (value) {\n        updatePlacement();\n      } else {\n        doDestroy();\n      }\n    };\n\n    var addItem = function addItem(item) {\n      data.items[item.index] = item;\n    };\n\n    var removeItem = function removeItem(item) {\n      delete data.items[item.index];\n    };\n\n    var addSubMenu = function addSubMenu(item) {\n      data.submenus[item.index] = item;\n    };\n\n    var removeSubMenu = function removeSubMenu(item) {\n      delete data.submenus[item.index];\n    };\n\n    var handleClick = function handleClick() {\n      var disabled = props.disabled;\n\n      if (rootProps.menuTrigger === \"hover\" && rootProps.mode === \"horizontal\" || rootProps.collapse && rootProps.mode === \"vertical\" || disabled) {\n        return;\n      }\n\n      rootMenuEmit(\"submenu:submenu-click\", {\n        index: props.index,\n        indexPath: indexPath\n      });\n    };\n\n    var handleMouseenter = function handleMouseenter(event) {\n      var showTimeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.showTimeout;\n\n      if (!(\"ActiveXObject\" in window) && event.type === \"focus\" && !event.relatedTarget) {\n        return;\n      }\n\n      var disabled = props.disabled;\n\n      if (rootProps.menuTrigger === \"click\" && rootProps.mode === \"horizontal\" || !rootProps.collapse && rootProps.mode === \"vertical\" || disabled) {\n        return;\n      }\n\n      subMenuEmitter.emit(\"submenu:mouse-enter-child\");\n      clearTimeout(data.timeout);\n      data.timeout = setTimeout(function () {\n        rootMethods.openMenu(props.index, indexPath);\n      }, showTimeout);\n\n      if (appendToBody.value) {\n        parentMenu.value.vnode.el.dispatchEvent(new MouseEvent(\"mouseenter\"));\n      }\n    };\n\n    var handleMouseleave = function handleMouseleave() {\n      var deepDispatch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (rootProps.menuTrigger === \"click\" && rootProps.mode === \"horizontal\" || !rootProps.collapse && rootProps.mode === \"vertical\") {\n        return;\n      }\n\n      subMenuEmitter.emit(\"submenu:mouse-leave-child\");\n      clearTimeout(data.timeout);\n      data.timeout = setTimeout(function () {\n        !data.mouseInChild && closeMenu(props.index);\n      }, props.hideTimeout);\n\n      if (appendToBody.value && deepDispatch) {\n        if (instance.parent.type.name === \"ElSubmenu\") {\n          parentHandleMouseleave(true);\n        }\n      }\n    };\n\n    var handleTitleMouseenter = function handleTitleMouseenter() {\n      var _a;\n\n      if (mode.value === \"horizontal\" && !rootProps.backgroundColor) return;\n      var title = ((_a = popperVnode.value) == null ? void 0 : _a.triggerRef) || verticalTitleRef.value;\n      title && (title.style.backgroundColor = rootHoverBackground.value);\n    };\n\n    var handleTitleMouseleave = function handleTitleMouseleave() {\n      var _a;\n\n      if (mode.value === \"horizontal\" && !rootProps.backgroundColor) return;\n      var title = ((_a = popperVnode.value) == null ? void 0 : _a.triggerRef) || verticalTitleRef.value;\n      title && (title.style.backgroundColor = rootProps.backgroundColor || \"\");\n    };\n\n    var updatePlacement = function updatePlacement() {\n      data.currentPlacement = mode.value === \"horizontal\" && isFirstLevel.value ? \"bottom-start\" : \"right-start\";\n    };\n\n    provide(\"subMenu:\".concat(instance.uid), {\n      addSubMenu: addSubMenu,\n      removeSubMenu: removeSubMenu,\n      handleMouseleave: handleMouseleave\n    });\n    onBeforeMount(function () {\n      rootMenuOn(\"rootMenu:toggle-collapse\", function (val) {\n        handleCollapseToggle(val);\n      });\n      subMenuEmitter.on(\"submenu:mouse-enter-child\", function () {\n        data.mouseInChild = true;\n        clearTimeout(data.timeout);\n      });\n      subMenuEmitter.on(\"submenu:mouse-leave-child\", function () {\n        data.mouseInChild = false;\n        clearTimeout(data.timeout);\n      });\n    });\n    onMounted(function () {\n      rootMethods.addSubMenu({\n        index: props.index,\n        indexPath: indexPath,\n        active: active\n      });\n      parentAddSubmenu({\n        index: props.index,\n        indexPath: indexPath,\n        active: active\n      });\n      updatePlacement();\n    });\n    onBeforeUnmount(function () {\n      parentRemoveSubmenu({\n        index: props.index,\n        indexPath: indexPath,\n        active: active\n      });\n      rootMethods.removeSubMenu({\n        index: props.index,\n        indexPath: indexPath,\n        active: active\n      });\n    });\n    return {\n      data: data,\n      props: props,\n      mode: mode,\n      active: active,\n      isMenuPopup: isMenuPopup,\n      opened: opened,\n      paddingStyle: paddingStyle,\n      titleStyle: titleStyle,\n      backgroundColor: backgroundColor,\n      rootProps: rootProps,\n      menuTransitionName: menuTransitionName,\n      submenuTitleIcon: submenuTitleIcon,\n      appendToBody: appendToBody,\n      handleClick: handleClick,\n      handleMouseenter: handleMouseenter,\n      handleMouseleave: handleMouseleave,\n      handleTitleMouseenter: handleTitleMouseenter,\n      handleTitleMouseleave: handleTitleMouseleave,\n      addItem: addItem,\n      removeItem: removeItem,\n      addSubMenu: addSubMenu,\n      removeSubMenu: removeSubMenu,\n      popperVnode: popperVnode,\n      verticalTitleRef: verticalTitleRef\n    };\n  },\n  render: function render() {\n    var _this = this;\n\n    var _a, _b;\n\n    var titleTag = [(_b = (_a = this.$slots).title) == null ? void 0 : _b.call(_a), h(\"i\", {\n      class: [\"el-submenu__icon-arrow\", this.submenuTitleIcon]\n    }, null)];\n    var ulStyle = {\n      backgroundColor: this.rootProps.backgroundColor || \"\"\n    };\n    var child = this.isMenuPopup ? h(ElPopper, {\n      ref: \"popperVNode\",\n      manualMode: true,\n      visible: this.opened,\n      \"onUpdate:visible\": function onUpdateVisible(val) {\n        return _this.opened = val;\n      },\n      effect: \"light\",\n      pure: true,\n      offset: 6,\n      showArrow: false,\n      popperClass: this.popperClass,\n      placement: this.data.currentPlacement,\n      appendToBody: this.appendToBody,\n      transition: this.menuTransitionName,\n      gpuAcceleration: false\n    }, {\n      default: function _default() {\n        var _a2, _b2;\n\n        return h(\"div\", {\n          ref: \"menu\",\n          class: [\"el-menu--\".concat(_this.mode), _this.popperClass],\n          onMouseenter: function onMouseenter($event) {\n            return _this.handleMouseenter($event, 100);\n          },\n          onMouseleave: function onMouseleave() {\n            return _this.handleMouseleave(true);\n          },\n          onFocus: function onFocus($event) {\n            return _this.handleMouseenter($event, 100);\n          }\n        }, [h(\"ul\", {\n          class: [\"el-menu el-menu--popup\", \"el-menu--popup-\".concat(_this.data.currentPlacement)],\n          style: ulStyle\n        }, [(_b2 = (_a2 = _this.$slots).default) == null ? void 0 : _b2.call(_a2)])]);\n      },\n      trigger: function trigger() {\n        return h(\"div\", {\n          class: \"el-submenu__title\",\n          style: [_this.paddingStyle, _this.titleStyle, {\n            backgroundColor: _this.backgroundColor\n          }],\n          onClick: _this.handleClick,\n          onMouseenter: _this.handleTitleMouseenter,\n          onMouseleave: _this.handleTitleMouseleave\n        }, titleTag);\n      }\n    }) : h(Fragment, {}, [h(\"div\", {\n      class: \"el-submenu__title\",\n      style: [this.paddingStyle, this.titleStyle, {\n        backgroundColor: this.backgroundColor\n      }],\n      ref: \"verticalTitleRef\",\n      onClick: this.handleClick,\n      onMouseenter: this.handleTitleMouseenter,\n      onMouseleave: this.handleTitleMouseleave\n    }, titleTag), h(ElCollapseTransition, {}, {\n      default: function _default() {\n        var _a2, _b2;\n\n        return withDirectives(h(\"ul\", {\n          role: \"menu\",\n          class: \"el-menu el-menu--inline\",\n          style: ulStyle\n        }, [(_b2 = (_a2 = _this.$slots).default) == null ? void 0 : _b2.call(_a2)]), [[vShow, _this.opened]]);\n      }\n    })]);\n    return h(\"li\", {\n      class: [\"el-submenu\", {\n        \"is-active\": this.active,\n        \"is-opened\": this.opened,\n        \"is-disabled\": this.disabled\n      }],\n      role: \"menuitem\",\n      ariaHaspopup: true,\n      ariaExpanded: this.opened,\n      onMouseenter: this.handleMouseenter,\n      onMouseleave: function onMouseleave() {\n        return _this.handleMouseleave(true);\n      },\n      onFocus: this.handleMouseenter\n    }, [child]);\n  }\n});\nscript.__file = \"packages/menu/src/submenu.vue\";\n\nscript.install = function (app) {\n  app.component(script.name, script);\n};\n\nvar _Submenu = script;\nexport default _Submenu;","map":{"version":3,"sources":["/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/element-plus/es/el-submenu/index.js"],"names":["mitt","inject","computed","defineComponent","reactive","ref","getCurrentInstance","provide","onBeforeMount","onMounted","onBeforeUnmount","h","Fragment","withDirectives","vShow","ElCollapseTransition","ElPopper","useMenu","instance","currentIndex","rootMenu","indexPath","parent","path","type","name","props","index","unshift","parentMenu","indexOf","paddingStyle","mode","padding","collapse","paddingLeft","script","componentName","String","required","showTimeout","Number","default","hideTimeout","popperClass","disabled","Boolean","popperAppendToBody","setup","data","popperJS","timeout","items","submenus","currentPlacement","mouseInChild","opened","verticalTitleRef","popperVnode","openedMenus","isMenuPopup","rootHoverBackground","hoverBackground","rootMethods","methods","rootProps","closeMenu","rootMenuOn","rootMenuEmit","value","uid","parentAddSubmenu","addSubMenu","parentRemoveSubmenu","removeSubMenu","parentHandleMouseleave","handleMouseleave","submenuTitleIcon","isFirstLevel","isFirstLevel2","includes","appendToBody","menuTransitionName","active","isActive","Object","keys","forEach","backgroundColor","activeTextColor","textColor","titleStyle","color","borderBottomColor","subMenuEmitter","doDestroy","_a","handleCollapseToggle","updatePlacement","addItem","item","removeItem","handleClick","menuTrigger","handleMouseenter","event","window","relatedTarget","emit","clearTimeout","setTimeout","openMenu","vnode","el","dispatchEvent","MouseEvent","deepDispatch","handleTitleMouseenter","title","triggerRef","style","handleTitleMouseleave","val","on","render","_b","titleTag","$slots","call","class","ulStyle","child","manualMode","visible","effect","pure","offset","showArrow","placement","transition","gpuAcceleration","_a2","_b2","onMouseenter","$event","onMouseleave","onFocus","trigger","onClick","role","ariaHaspopup","ariaExpanded","__file","install","app","component","_Submenu"],"mappings":"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","sourcesContent":["import mitt from 'mitt';\nimport { inject, computed, defineComponent, reactive, ref, getCurrentInstance, provide, onBeforeMount, onMounted, onBeforeUnmount, h, Fragment, withDirectives, vShow } from 'vue';\nimport ElCollapseTransition from '../el-collapse-transition';\nimport ElPopper from '../el-popper';\n\nfunction useMenu(instance, currentIndex) {\n  const rootMenu = inject(\"rootMenu\");\n  const indexPath = computed(() => {\n    let parent = instance.parent;\n    const path = [currentIndex];\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n      parent = parent.parent;\n    }\n    return path;\n  });\n  const parentMenu = computed(() => {\n    let parent = instance.parent;\n    while (parent && [\"ElMenu\", \"ElSubmenu\"].indexOf(parent.type.name) === -1) {\n      parent = parent.parent;\n    }\n    return parent;\n  });\n  const paddingStyle = computed(() => {\n    let parent = instance.parent;\n    if (rootMenu.props.mode !== \"vertical\")\n      return {};\n    let padding = 20;\n    if (rootMenu.props.collapse) {\n      padding = 20;\n    } else {\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubmenu\") {\n          padding += 20;\n        }\n        parent = parent.parent;\n      }\n    }\n    return { paddingLeft: padding + \"px\" };\n  });\n  return { parentMenu, paddingStyle, indexPath };\n}\n\nvar script = defineComponent({\n  name: \"ElSubmenu\",\n  componentName: \"ElSubmenu\",\n  props: {\n    index: {\n      type: String,\n      required: true\n    },\n    showTimeout: {\n      type: Number,\n      default: 300\n    },\n    hideTimeout: {\n      type: Number,\n      default: 300\n    },\n    popperClass: String,\n    disabled: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: void 0\n    }\n  },\n  setup(props) {\n    const data = reactive({\n      popperJS: null,\n      timeout: null,\n      items: {},\n      submenus: {},\n      currentPlacement: \"\",\n      mouseInChild: false,\n      opened: false\n    });\n    const verticalTitleRef = ref(null);\n    const popperVnode = ref(null);\n    const instance = getCurrentInstance();\n    const { paddingStyle, indexPath, parentMenu } = useMenu(instance, props.index);\n    const {\n      openedMenus,\n      isMenuPopup,\n      hoverBackground: rootHoverBackground,\n      methods: rootMethods,\n      props: rootProps,\n      methods: { closeMenu },\n      rootMenuOn,\n      rootMenuEmit\n    } = inject(\"rootMenu\");\n    const {\n      addSubMenu: parentAddSubmenu,\n      removeSubMenu: parentRemoveSubmenu,\n      handleMouseleave: parentHandleMouseleave\n    } = inject(`subMenu:${parentMenu.value.uid}`);\n    const submenuTitleIcon = computed(() => {\n      return mode.value === \"horizontal\" && isFirstLevel.value || mode.value === \"vertical\" && !rootProps.collapse ? \"el-icon-arrow-down\" : \"el-icon-arrow-right\";\n    });\n    const isFirstLevel = computed(() => {\n      let isFirstLevel2 = true;\n      let parent = instance.parent;\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if ([\"ElSubmenu\", \"ElMenuItemGroup\"].includes(parent.type.name)) {\n          isFirstLevel2 = false;\n          break;\n        } else {\n          parent = parent.parent;\n        }\n      }\n      return isFirstLevel2;\n    });\n    const appendToBody = computed(() => {\n      return props.popperAppendToBody === void 0 ? isFirstLevel.value : Boolean(props.popperAppendToBody);\n    });\n    const menuTransitionName = computed(() => {\n      return rootProps.collapse ? \"el-zoom-in-left\" : \"el-zoom-in-top\";\n    });\n    const opened = computed(() => {\n      return openedMenus.value.includes(props.index);\n    });\n    const active = computed(() => {\n      let isActive = false;\n      const submenus = data.submenus;\n      const items = data.items;\n      Object.keys(items).forEach((index) => {\n        if (items[index].active) {\n          isActive = true;\n        }\n      });\n      Object.keys(submenus).forEach((index) => {\n        if (submenus[index].active) {\n          isActive = true;\n        }\n      });\n      return isActive;\n    });\n    const backgroundColor = computed(() => {\n      return rootProps.backgroundColor || \"\";\n    });\n    const activeTextColor = computed(() => {\n      return rootProps.activeTextColor || \"\";\n    });\n    const textColor = computed(() => {\n      return rootProps.textColor || \"\";\n    });\n    const mode = computed(() => {\n      return rootProps.mode;\n    });\n    const titleStyle = computed(() => {\n      if (mode.value !== \"horizontal\") {\n        return {\n          color: textColor.value\n        };\n      }\n      return {\n        borderBottomColor: active.value ? rootProps.activeTextColor ? activeTextColor.value : \"\" : \"transparent\",\n        color: active.value ? activeTextColor.value : textColor.value\n      };\n    });\n    const subMenuEmitter = mitt();\n    const doDestroy = () => {\n      var _a;\n      (_a = popperVnode.value) == null ? void 0 : _a.doDestroy();\n    };\n    const handleCollapseToggle = (value) => {\n      if (value) {\n        updatePlacement();\n      } else {\n        doDestroy();\n      }\n    };\n    const addItem = (item) => {\n      data.items[item.index] = item;\n    };\n    const removeItem = (item) => {\n      delete data.items[item.index];\n    };\n    const addSubMenu = (item) => {\n      data.submenus[item.index] = item;\n    };\n    const removeSubMenu = (item) => {\n      delete data.submenus[item.index];\n    };\n    const handleClick = () => {\n      const disabled = props.disabled;\n      if (rootProps.menuTrigger === \"hover\" && rootProps.mode === \"horizontal\" || rootProps.collapse && rootProps.mode === \"vertical\" || disabled) {\n        return;\n      }\n      rootMenuEmit(\"submenu:submenu-click\", { index: props.index, indexPath });\n    };\n    const handleMouseenter = (event, showTimeout = props.showTimeout) => {\n      if (!(\"ActiveXObject\" in window) && event.type === \"focus\" && !event.relatedTarget) {\n        return;\n      }\n      const disabled = props.disabled;\n      if (rootProps.menuTrigger === \"click\" && rootProps.mode === \"horizontal\" || !rootProps.collapse && rootProps.mode === \"vertical\" || disabled) {\n        return;\n      }\n      subMenuEmitter.emit(\"submenu:mouse-enter-child\");\n      clearTimeout(data.timeout);\n      data.timeout = setTimeout(() => {\n        rootMethods.openMenu(props.index, indexPath);\n      }, showTimeout);\n      if (appendToBody.value) {\n        parentMenu.value.vnode.el.dispatchEvent(new MouseEvent(\"mouseenter\"));\n      }\n    };\n    const handleMouseleave = (deepDispatch = false) => {\n      if (rootProps.menuTrigger === \"click\" && rootProps.mode === \"horizontal\" || !rootProps.collapse && rootProps.mode === \"vertical\") {\n        return;\n      }\n      subMenuEmitter.emit(\"submenu:mouse-leave-child\");\n      clearTimeout(data.timeout);\n      data.timeout = setTimeout(() => {\n        !data.mouseInChild && closeMenu(props.index);\n      }, props.hideTimeout);\n      if (appendToBody.value && deepDispatch) {\n        if (instance.parent.type.name === \"ElSubmenu\") {\n          parentHandleMouseleave(true);\n        }\n      }\n    };\n    const handleTitleMouseenter = () => {\n      var _a;\n      if (mode.value === \"horizontal\" && !rootProps.backgroundColor)\n        return;\n      const title = ((_a = popperVnode.value) == null ? void 0 : _a.triggerRef) || verticalTitleRef.value;\n      title && (title.style.backgroundColor = rootHoverBackground.value);\n    };\n    const handleTitleMouseleave = () => {\n      var _a;\n      if (mode.value === \"horizontal\" && !rootProps.backgroundColor)\n        return;\n      const title = ((_a = popperVnode.value) == null ? void 0 : _a.triggerRef) || verticalTitleRef.value;\n      title && (title.style.backgroundColor = rootProps.backgroundColor || \"\");\n    };\n    const updatePlacement = () => {\n      data.currentPlacement = mode.value === \"horizontal\" && isFirstLevel.value ? \"bottom-start\" : \"right-start\";\n    };\n    provide(`subMenu:${instance.uid}`, {\n      addSubMenu,\n      removeSubMenu,\n      handleMouseleave\n    });\n    onBeforeMount(() => {\n      rootMenuOn(\"rootMenu:toggle-collapse\", (val) => {\n        handleCollapseToggle(val);\n      });\n      subMenuEmitter.on(\"submenu:mouse-enter-child\", () => {\n        data.mouseInChild = true;\n        clearTimeout(data.timeout);\n      });\n      subMenuEmitter.on(\"submenu:mouse-leave-child\", () => {\n        data.mouseInChild = false;\n        clearTimeout(data.timeout);\n      });\n    });\n    onMounted(() => {\n      rootMethods.addSubMenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      parentAddSubmenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      updatePlacement();\n    });\n    onBeforeUnmount(() => {\n      parentRemoveSubmenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      rootMethods.removeSubMenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n    });\n    return {\n      data,\n      props,\n      mode,\n      active,\n      isMenuPopup,\n      opened,\n      paddingStyle,\n      titleStyle,\n      backgroundColor,\n      rootProps,\n      menuTransitionName,\n      submenuTitleIcon,\n      appendToBody,\n      handleClick,\n      handleMouseenter,\n      handleMouseleave,\n      handleTitleMouseenter,\n      handleTitleMouseleave,\n      addItem,\n      removeItem,\n      addSubMenu,\n      removeSubMenu,\n      popperVnode,\n      verticalTitleRef\n    };\n  },\n  render() {\n    var _a, _b;\n    const titleTag = [\n      (_b = (_a = this.$slots).title) == null ? void 0 : _b.call(_a),\n      h(\"i\", {\n        class: [\"el-submenu__icon-arrow\", this.submenuTitleIcon]\n      }, null)\n    ];\n    const ulStyle = {\n      backgroundColor: this.rootProps.backgroundColor || \"\"\n    };\n    const child = this.isMenuPopup ? h(ElPopper, {\n      ref: \"popperVNode\",\n      manualMode: true,\n      visible: this.opened,\n      \"onUpdate:visible\": (val) => this.opened = val,\n      effect: \"light\",\n      pure: true,\n      offset: 6,\n      showArrow: false,\n      popperClass: this.popperClass,\n      placement: this.data.currentPlacement,\n      appendToBody: this.appendToBody,\n      transition: this.menuTransitionName,\n      gpuAcceleration: false\n    }, {\n      default: () => {\n        var _a2, _b2;\n        return h(\"div\", {\n          ref: \"menu\",\n          class: [\n            `el-menu--${this.mode}`,\n            this.popperClass\n          ],\n          onMouseenter: ($event) => this.handleMouseenter($event, 100),\n          onMouseleave: () => this.handleMouseleave(true),\n          onFocus: ($event) => this.handleMouseenter($event, 100)\n        }, [\n          h(\"ul\", {\n            class: [\n              \"el-menu el-menu--popup\",\n              `el-menu--popup-${this.data.currentPlacement}`\n            ],\n            style: ulStyle\n          }, [(_b2 = (_a2 = this.$slots).default) == null ? void 0 : _b2.call(_a2)])\n        ]);\n      },\n      trigger: () => h(\"div\", {\n        class: \"el-submenu__title\",\n        style: [this.paddingStyle, this.titleStyle, { backgroundColor: this.backgroundColor }],\n        onClick: this.handleClick,\n        onMouseenter: this.handleTitleMouseenter,\n        onMouseleave: this.handleTitleMouseleave\n      }, titleTag)\n    }) : h(Fragment, {}, [\n      h(\"div\", {\n        class: \"el-submenu__title\",\n        style: [this.paddingStyle, this.titleStyle, { backgroundColor: this.backgroundColor }],\n        ref: \"verticalTitleRef\",\n        onClick: this.handleClick,\n        onMouseenter: this.handleTitleMouseenter,\n        onMouseleave: this.handleTitleMouseleave\n      }, titleTag),\n      h(ElCollapseTransition, {}, {\n        default: () => {\n          var _a2, _b2;\n          return withDirectives(h(\"ul\", {\n            role: \"menu\",\n            class: \"el-menu el-menu--inline\",\n            style: ulStyle\n          }, [(_b2 = (_a2 = this.$slots).default) == null ? void 0 : _b2.call(_a2)]), [[vShow, this.opened]]);\n        }\n      })\n    ]);\n    return h(\"li\", {\n      class: [\n        \"el-submenu\",\n        {\n          \"is-active\": this.active,\n          \"is-opened\": this.opened,\n          \"is-disabled\": this.disabled\n        }\n      ],\n      role: \"menuitem\",\n      ariaHaspopup: true,\n      ariaExpanded: this.opened,\n      onMouseenter: this.handleMouseenter,\n      onMouseleave: () => this.handleMouseleave(true),\n      onFocus: this.handleMouseenter\n    }, [child]);\n  }\n});\n\nscript.__file = \"packages/menu/src/submenu.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _Submenu = script;\n\nexport default _Submenu;\n"]},"metadata":{},"sourceType":"module"}