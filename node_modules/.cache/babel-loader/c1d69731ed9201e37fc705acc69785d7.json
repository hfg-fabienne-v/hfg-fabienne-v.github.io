{"ast":null,"code":"import _slicedToArray from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _defineProperty from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _createForOfIteratorHelper from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _typeof from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/typeof.js\";\n\nvar _ScrollbarDirKey, _LayoutKeys;\n\nimport \"core-js/modules/es.object.freeze.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.number.is-finite.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { isNumber, $, isString } from '../utils/util';\nimport throwError from '../utils/error';\nimport { defineComponent, ref, reactive, computed, watch, onMounted, onBeforeUnmount, h, withModifiers, getCurrentInstance, onUpdated, resolveDynamicComponent, nextTick } from 'vue';\nimport memo from 'lodash/memoize';\nimport isServer from '../utils/isServer';\nimport { cAF, rAF } from '../utils/raf';\nimport { on, off } from '../utils/dom';\nimport getScrollBarWidth from '../utils/scrollbar-width';\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\n\nvar EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nvar EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\n\nvar NOOP = function NOOP() {};\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar hasOwn = function hasOwn(val, key) {\n  return hasOwnProperty.call(val, key);\n};\n\nvar isFunction = function isFunction(val) {\n  return typeof val === 'function';\n};\n\nvar isObject = function isObject(val) {\n  return val !== null && _typeof(val) === 'object';\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues = function __spreadValues(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols) {\n    var _iterator = _createForOfIteratorHelper(__getOwnPropSymbols(b)),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var prop = _step.value;\n        if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  return a;\n};\n\nvar __spreadProps = function __spreadProps(a, b) {\n  return __defProps(a, __getOwnPropDescs(b));\n};\n\nvar DEFAULT_DYNAMIC_LIST_ITEM_SIZE = 50;\nvar ITEM_RENDER_EVT = \"item-rendered\";\nvar SCROLL_EVT = \"scroll\";\nvar FORWARD = \"forward\";\nvar BACKWARD = \"backward\";\nvar AUTO_ALIGNMENT = \"auto\";\nvar SMART_ALIGNMENT = \"smart\";\nvar START_ALIGNMENT = \"start\";\nvar CENTERED_ALIGNMENT = \"center\";\nvar END_ALIGNMENT = \"end\";\nvar HORIZONTAL = \"horizontal\";\nvar VERTICAL = \"vertical\";\nvar LTR = \"ltr\";\nvar RTL = \"rtl\";\nvar RTL_OFFSET_NAG = \"negative\";\nvar RTL_OFFSET_POS_ASC = \"positive-ascending\";\nvar RTL_OFFSET_POS_DESC = \"positive-descending\";\nvar DefaultListProps = {\n  cache: {\n    type: Number,\n    default: 2\n  },\n  className: {\n    type: String,\n    default: \"\"\n  },\n  containerElement: {\n    type: [String, Object],\n    default: \"div\"\n  },\n  data: {\n    type: [Array],\n    default: function _default() {\n      return [];\n    }\n  },\n  direction: {\n    type: String,\n    default: \"ltr\",\n    validator: function validator(val) {\n      return val === LTR || val === RTL;\n    }\n  },\n  estimatedItemSize: {\n    type: [Number]\n  },\n  height: {\n    type: [String, Number],\n    required: true\n  },\n  layout: {\n    type: String,\n    default: VERTICAL\n  },\n  initScrollOffset: {\n    type: Number,\n    default: 0\n  },\n  innerElement: {\n    type: [String, Object],\n    default: \"div\"\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  itemSize: {\n    type: [Number, Function],\n    required: true\n  },\n  style: {\n    type: [Object, String, Array],\n    default: function _default() {\n      return {};\n    }\n  },\n  useIsScrolling: {\n    type: Boolean,\n    default: false\n  },\n  width: {\n    type: [Number, String],\n    required: true\n  }\n};\nvar DefaultGridProps = {\n  className: DefaultListProps.className,\n  columnCache: DefaultListProps.cache,\n  columnWidth: DefaultListProps.itemSize,\n  containerElement: DefaultListProps.containerElement,\n  data: DefaultListProps.data,\n  direction: DefaultListProps.direction,\n  estimatedColumnWidth: DefaultListProps.estimatedItemSize,\n  estimatedRowHeight: DefaultListProps.estimatedItemSize,\n  height: __spreadProps(__spreadValues({}, DefaultListProps.height), {\n    validator: function validator(val) {\n      return isNumber(val);\n    }\n  }),\n  initScrollLeft: DefaultListProps.initScrollOffset,\n  initScrollTop: DefaultListProps.initScrollOffset,\n  innerElement: DefaultListProps.innerElement,\n  rowCache: DefaultListProps.cache,\n  rowHeight: DefaultListProps.itemSize,\n  style: DefaultListProps.style,\n  useIsScrolling: DefaultListProps.useIsScrolling,\n  width: __spreadProps(__spreadValues({}, DefaultListProps.width), {\n    validator: function validator(val) {\n      return isNumber(val);\n    }\n  }),\n  totalColumn: DefaultListProps.total,\n  totalRow: DefaultListProps.total\n};\nvar DefaultScrollBarProps = {\n  layout: DefaultListProps.layout,\n  total: Number,\n  ratio: Number,\n  clientSize: Number,\n  scrollFrom: Number,\n  visible: Boolean\n};\nvar ScrollbarDirKey = (_ScrollbarDirKey = {}, _defineProperty(_ScrollbarDirKey, HORIZONTAL, \"left\"), _defineProperty(_ScrollbarDirKey, VERTICAL, \"top\"), _ScrollbarDirKey);\nvar SCROLLBAR_MIN_SIZE = 20;\n\nvar getScrollDir = function getScrollDir(prev, cur) {\n  return prev < cur ? FORWARD : BACKWARD;\n};\n\nvar isHorizontal = function isHorizontal(dir) {\n  return dir === LTR || dir === RTL || dir === HORIZONTAL;\n};\n\nvar isRTL = function isRTL(dir) {\n  return dir === RTL;\n};\n\nvar cachedRTLResult = null;\n\nfunction getRTLOffsetType() {\n  var recalculate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement(\"div\");\n    var outerStyle = outerDiv.style;\n    outerStyle.width = \"50px\";\n    outerStyle.height = \"50px\";\n    outerStyle.overflow = \"scroll\";\n    outerStyle.direction = \"rtl\";\n    var innerDiv = document.createElement(\"div\");\n    var innerStyle = innerDiv.style;\n    innerStyle.width = \"100px\";\n    innerStyle.height = \"100px\";\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = RTL_OFFSET_POS_DESC;\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = RTL_OFFSET_NAG;\n      } else {\n        cachedRTLResult = RTL_OFFSET_POS_ASC;\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nfunction renderThumbStyle(_ref, layout) {\n  var move = _ref.move,\n      size = _ref.size,\n      bar = _ref.bar;\n  var style = {};\n  var translate = \"translate\".concat(bar.axis, \"(\").concat(move, \"px)\");\n  style[bar.size] = size;\n  style.transform = translate;\n  style.msTransform = translate;\n  style.webkitTransform = translate;\n\n  if (layout === \"horizontal\") {\n    style.height = \"100%\";\n  } else {\n    style.width = \"100%\";\n  }\n\n  return style;\n}\n\nvar isFF = typeof navigator !== \"undefined\" && isObject(navigator) && /Firefox/i.test(navigator.userAgent);\nvar LayoutKeys = (_LayoutKeys = {}, _defineProperty(_LayoutKeys, HORIZONTAL, \"deltaX\"), _defineProperty(_LayoutKeys, VERTICAL, \"deltaY\"), _LayoutKeys);\n\nvar useWheel = function useWheel(_ref2, onWheelDelta) {\n  var atEndEdge = _ref2.atEndEdge,\n      atStartEdge = _ref2.atStartEdge,\n      layout = _ref2.layout;\n  var frameHandle = null;\n  var offset = 0;\n\n  var hasReachedEdge = function hasReachedEdge(offset2) {\n    var edgeReached = offset2 < 0 && atStartEdge.value || offset2 > 0 && atEndEdge.value;\n    return edgeReached;\n  };\n\n  var onWheel = function onWheel(e) {\n    cAF(frameHandle);\n    var newOffset = e[LayoutKeys[layout.value]];\n    if (hasReachedEdge(offset) && hasReachedEdge(offset + newOffset)) return;\n    offset += newOffset;\n\n    if (!isFF) {\n      e.preventDefault();\n    }\n\n    frameHandle = rAF(function () {\n      onWheelDelta(offset);\n      offset = 0;\n    });\n  };\n\n  return {\n    hasReachedEdge: hasReachedEdge,\n    onWheel: onWheel\n  };\n};\n\nvar BAR_MAP = {\n  vertical: {\n    offset: \"offsetHeight\",\n    scroll: \"scrollTop\",\n    scrollSize: \"scrollHeight\",\n    size: \"height\",\n    key: \"vertical\",\n    axis: \"Y\",\n    client: \"clientY\",\n    direction: \"top\"\n  },\n  horizontal: {\n    offset: \"offsetWidth\",\n    scroll: \"scrollLeft\",\n    scrollSize: \"scrollWidth\",\n    size: \"width\",\n    key: \"horizontal\",\n    axis: \"X\",\n    client: \"clientX\",\n    direction: \"left\"\n  }\n};\nvar ScrollBar = defineComponent({\n  name: \"ElVirtualScrollBar\",\n  props: DefaultScrollBarProps,\n  emits: [\"scroll\", \"start-move\", \"stop-move\"],\n  setup: function setup(props, _ref3) {\n    var emit = _ref3.emit;\n    var trackRef = ref(null);\n    var thumbRef = ref(null);\n    var frameHandle = null;\n    var onselectstartStore = null;\n    var state = reactive({\n      isDragging: false,\n      traveled: 0\n    });\n    var bar = computed(function () {\n      return BAR_MAP[props.layout];\n    });\n    var trackStyle = computed(function () {\n      var _ref4;\n\n      return _ref4 = {\n        display: props.visible ? null : \"none\",\n        position: \"absolute\",\n        width: HORIZONTAL === props.layout ? \"100%\" : \"6px\",\n        height: HORIZONTAL === props.layout ? \"6px\" : \"100%\"\n      }, _defineProperty(_ref4, ScrollbarDirKey[props.layout], \"2px\"), _defineProperty(_ref4, \"right\", \"2px\"), _defineProperty(_ref4, \"bottom\", \"2px\"), _defineProperty(_ref4, \"borderRadius\", \"4px\"), _ref4;\n    });\n    var thumbSize = computed(function () {\n      if (props.ratio >= 100) {\n        return Number.POSITIVE_INFINITY;\n      }\n\n      if (props.ratio >= 50) {\n        return props.ratio * props.clientSize / 100;\n      }\n\n      var SCROLLBAR_MAX_SIZE = props.clientSize / 3;\n      return Math.floor(Math.min(Math.max(props.ratio * props.clientSize, SCROLLBAR_MIN_SIZE), SCROLLBAR_MAX_SIZE));\n    });\n    var thumbStyle = computed(function () {\n      if (!Number.isFinite(thumbSize.value)) {\n        return {\n          display: \"none\"\n        };\n      }\n\n      var thumb = \"\".concat(thumbSize.value, \"px\");\n      var style = renderThumbStyle({\n        bar: bar.value,\n        size: thumb,\n        move: state.traveled\n      }, props.layout);\n      return style;\n    });\n    var totalSteps = computed(function () {\n      return Math.floor(props.clientSize - thumbSize.value - 4);\n    });\n\n    var attachEvents = function attachEvents() {\n      on(window, \"mousemove\", onMouseMove);\n      on(window, \"mouseup\", onMouseUp);\n      var thumbEl = thumbRef.value;\n      onselectstartStore = document.onselectstart;\n\n      document.onselectstart = function () {\n        return false;\n      };\n\n      on(thumbEl, \"touchmove\", onMouseMove);\n      on(thumbEl, \"touchend\", onMouseUp);\n    };\n\n    var detachEvents = function detachEvents() {\n      off(window, \"mousemove\", onMouseMove);\n      off(window, \"mouseup\", onMouseUp);\n      document.onselectstart = onselectstartStore;\n      onselectstartStore = null;\n      var thumbEl = thumbRef.value;\n      off(thumbEl, \"touchmove\", onMouseMove);\n      off(thumbEl, \"touchend\", onMouseUp);\n    };\n\n    var onThumbMouseDown = function onThumbMouseDown(e) {\n      e.stopImmediatePropagation();\n\n      if (e.ctrlKey || [1, 2].includes(e.button)) {\n        return;\n      }\n\n      state.isDragging = true;\n      state[bar.value.axis] = e.currentTarget[bar.value.offset] - (e[bar.value.client] - e.currentTarget.getBoundingClientRect()[bar.value.direction]);\n      emit(\"start-move\");\n      attachEvents();\n    };\n\n    var onMouseUp = function onMouseUp() {\n      state.isDragging = false;\n      state[bar.value.axis] = 0;\n      emit(\"stop-move\");\n      detachEvents();\n    };\n\n    var onMouseMove = function onMouseMove(e) {\n      var isDragging = state.isDragging;\n      if (!isDragging) return;\n      var prevPage = state[bar.value.axis];\n      if (!prevPage) return;\n      cAF(frameHandle);\n      var offset = (trackRef.value.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]) * -1;\n      var thumbClickPosition = thumbRef.value[bar.value.offset] - prevPage;\n      var distance = offset - thumbClickPosition;\n      frameHandle = rAF(function () {\n        state.traveled = Math.max(2, Math.min(distance, totalSteps.value));\n        emit(\"scroll\", distance, totalSteps.value);\n      });\n    };\n\n    var onScrollbarTouchStart = function onScrollbarTouchStart(e) {\n      return e.preventDefault();\n    };\n\n    watch(function () {\n      return props.scrollFrom;\n    }, function (v) {\n      if (state.isDragging) return;\n      state.traveled = Math.ceil(v * props.clientSize / (props.clientSize / totalSteps.value));\n    });\n    onMounted(function () {\n      if (isServer) return;\n      on(trackRef.value, \"touchstart\", onScrollbarTouchStart);\n      on(thumbRef.value, \"touchstart\", onThumbMouseDown);\n    });\n    onBeforeUnmount(function () {\n      off(trackRef.value, \"touchstart\", onScrollbarTouchStart);\n      detachEvents();\n    });\n    return function () {\n      return h(\"div\", {\n        role: \"presentation\",\n        ref: trackRef,\n        class: \"el-virtual-scrollbar\",\n        style: trackStyle.value,\n        onMousedown: withModifiers(NOOP, [\"stop\", \"prevent\"])\n      }, h(\"div\", {\n        ref: thumbRef,\n        class: \"el-scrollbar__thumb\",\n        style: thumbStyle.value,\n        onMousedown: onThumbMouseDown\n      }, null));\n    };\n  }\n});\nvar __defProp$1 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$1 = function __defNormalProp$1(obj, key, value) {\n  return key in obj ? __defProp$1(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues$1 = function __spreadValues$1(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols$1) {\n    var _iterator2 = _createForOfIteratorHelper(__getOwnPropSymbols$1(b)),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var prop = _step2.value;\n        if (__propIsEnum$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return a;\n};\n\nvar __spreadProps$1 = function __spreadProps$1(a, b) {\n  return __defProps$1(a, __getOwnPropDescs$1(b));\n};\n\nvar createList = function createList(_ref5) {\n  var name = _ref5.name,\n      getOffset = _ref5.getOffset,\n      getItemSize = _ref5.getItemSize,\n      getItemOffset = _ref5.getItemOffset,\n      getEstimatedTotalSize = _ref5.getEstimatedTotalSize,\n      getStartIndexForOffset = _ref5.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref5.getStopIndexForStartIndex,\n      initCache = _ref5.initCache,\n      clearCache = _ref5.clearCache,\n      validateProps = _ref5.validateProps;\n  return defineComponent({\n    name: name != null ? name : \"ElVirtualList\",\n    props: DefaultListProps,\n    emits: [ITEM_RENDER_EVT, SCROLL_EVT],\n    setup: function setup(props, _ref6) {\n      var emit = _ref6.emit,\n          expose = _ref6.expose;\n      validateProps(props);\n      var instance = getCurrentInstance();\n      var dynamicSizeCache = ref(initCache(props, instance));\n      var windowRef = ref(null);\n      var innerRef = ref(null);\n      var scrollbarRef = ref(null);\n      var states = ref({\n        isScrolling: false,\n        scrollDir: \"forward\",\n        scrollOffset: isNumber(props.initScrollOffset) ? props.initScrollOffset : 0,\n        updateRequested: false,\n        isScrollbarDragging: false\n      });\n      var itemsToRender = computed(function () {\n        var total = props.total,\n            cache = props.cache;\n\n        var _$ = $(states),\n            isScrolling = _$.isScrolling,\n            scrollDir = _$.scrollDir,\n            scrollOffset = _$.scrollOffset;\n\n        if (total === 0) {\n          return [0, 0, 0, 0];\n        }\n\n        var startIndex = getStartIndexForOffset(props, scrollOffset, $(dynamicSizeCache));\n        var stopIndex = getStopIndexForStartIndex(props, startIndex, scrollOffset, $(dynamicSizeCache));\n        var cacheBackward = !isScrolling || scrollDir === BACKWARD ? Math.max(1, cache) : 1;\n        var cacheForward = !isScrolling || scrollDir === FORWARD ? Math.max(1, cache) : 1;\n        return [Math.max(0, startIndex - cacheBackward), Math.max(0, Math.min(total - 1, stopIndex + cacheForward)), startIndex, stopIndex];\n      });\n      var estimatedTotalSize = computed(function () {\n        return getEstimatedTotalSize(props, $(dynamicSizeCache));\n      });\n\n      var _isHorizontal = computed(function () {\n        return isHorizontal(props.layout);\n      });\n\n      var windowStyle = computed(function () {\n        return [{\n          position: \"relative\",\n          overflow: \"hidden\",\n          WebkitOverflowScrolling: \"touch\",\n          willChange: \"transform\"\n        }, __spreadValues$1({\n          direction: props.direction,\n          height: isNumber(props.height) ? \"\".concat(props.height, \"px\") : props.height,\n          width: isNumber(props.width) ? \"\".concat(props.width, \"px\") : props.width\n        }, props.style)];\n      });\n      var innerStyle = computed(function () {\n        var size = $(estimatedTotalSize);\n        var horizontal = $(_isHorizontal);\n        return {\n          height: horizontal ? \"100%\" : \"\".concat(size, \"px\"),\n          pointerEvents: $(states).isScrolling ? \"none\" : void 0,\n          width: horizontal ? \"\".concat(size, \"px\") : \"100%\"\n        };\n      });\n      var clientSize = computed(function () {\n        return _isHorizontal.value ? props.width : props.height;\n      });\n\n      var _useWheel = useWheel({\n        atStartEdge: computed(function () {\n          return states.value.scrollOffset <= 0;\n        }),\n        atEndEdge: computed(function () {\n          return states.value.scrollOffset >= estimatedTotalSize.value;\n        }),\n        layout: computed(function () {\n          return props.layout;\n        })\n      }, function (offset) {\n        var _a, _b;\n\n        (_b = (_a = scrollbarRef.value).onMouseUp) == null ? void 0 : _b.call(_a);\n        scrollTo(Math.min(states.value.scrollOffset + offset, estimatedTotalSize.value - clientSize.value));\n      }),\n          onWheel = _useWheel.onWheel;\n\n      var emitEvents = function emitEvents() {\n        var total = props.total;\n\n        if (total > 0) {\n          var _$2 = $(itemsToRender),\n              _$3 = _slicedToArray(_$2, 4),\n              cacheStart = _$3[0],\n              cacheEnd = _$3[1],\n              visibleStart = _$3[2],\n              visibleEnd = _$3[3];\n\n          emit(ITEM_RENDER_EVT, cacheStart, cacheEnd, visibleStart, visibleEnd);\n        }\n\n        var _$4 = $(states),\n            scrollDir = _$4.scrollDir,\n            scrollOffset = _$4.scrollOffset,\n            updateRequested = _$4.updateRequested;\n\n        emit(SCROLL_EVT, scrollDir, scrollOffset, updateRequested);\n      };\n\n      var scrollVertically = function scrollVertically(e) {\n        var _e$currentTarget = e.currentTarget,\n            clientHeight = _e$currentTarget.clientHeight,\n            scrollHeight = _e$currentTarget.scrollHeight,\n            scrollTop = _e$currentTarget.scrollTop;\n\n        var _states = $(states);\n\n        if (_states.scrollOffset === scrollTop) {\n          return;\n        }\n\n        var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n        states.value = __spreadProps$1(__spreadValues$1({}, _states), {\n          isScrolling: true,\n          scrollDir: getScrollDir(_states.scrollOffset, scrollOffset),\n          scrollOffset: scrollOffset,\n          updateRequested: false\n        });\n        nextTick(resetIsScrolling);\n      };\n\n      var scrollHorizontally = function scrollHorizontally(e) {\n        var _e$currentTarget2 = e.currentTarget,\n            clientWidth = _e$currentTarget2.clientWidth,\n            scrollLeft = _e$currentTarget2.scrollLeft,\n            scrollWidth = _e$currentTarget2.scrollWidth;\n\n        var _states = $(states);\n\n        if (_states.scrollOffset === scrollLeft) {\n          return;\n        }\n\n        var direction = props.direction;\n        var scrollOffset = scrollLeft;\n\n        if (direction === RTL) {\n          switch (getRTLOffsetType()) {\n            case RTL_OFFSET_NAG:\n              {\n                scrollOffset = -scrollLeft;\n                break;\n              }\n\n            case RTL_OFFSET_POS_DESC:\n              {\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n              }\n          }\n        }\n\n        scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n        states.value = __spreadProps$1(__spreadValues$1({}, _states), {\n          isScrolling: true,\n          scrollDir: getScrollDir(_states.scrollOffset, scrollOffset),\n          scrollOffset: scrollOffset,\n          updateRequested: false\n        });\n        nextTick(resetIsScrolling);\n      };\n\n      var onScroll = function onScroll(e) {\n        $(_isHorizontal) ? scrollHorizontally(e) : scrollVertically(e);\n        emitEvents();\n      };\n\n      var onScrollbarScroll = function onScrollbarScroll(distanceToGo, totalSteps) {\n        var offset = (estimatedTotalSize.value - clientSize.value) / totalSteps * distanceToGo;\n        scrollTo(Math.min(estimatedTotalSize.value - clientSize.value, offset));\n      };\n\n      var getItemStyleCache = memo(function (_, __, ___) {\n        return {};\n      });\n\n      var scrollTo = function scrollTo(offset) {\n        offset = Math.max(offset, 0);\n\n        if (offset === $(states).scrollOffset) {\n          return;\n        }\n\n        states.value = __spreadProps$1(__spreadValues$1({}, $(states)), {\n          scrollOffset: offset,\n          scrollDir: getScrollDir($(states).scrollOffset, offset),\n          updateRequested: true\n        });\n        nextTick(resetIsScrolling);\n      };\n\n      var scrollToItem = function scrollToItem(idx) {\n        var alignment = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : AUTO_ALIGNMENT;\n\n        var _$5 = $(states),\n            scrollOffset = _$5.scrollOffset;\n\n        idx = Math.max(0, Math.min(idx, props.total - 1));\n        scrollTo(getOffset(props, idx, alignment, scrollOffset, $(dynamicSizeCache)));\n      };\n\n      var getItemStyle = function getItemStyle(idx) {\n        var direction = props.direction,\n            itemSize = props.itemSize,\n            layout = props.layout;\n        var itemStyleCache = getItemStyleCache(clearCache && itemSize, clearCache && layout, clearCache && direction);\n        var style;\n\n        if (hasOwn(itemStyleCache, String(idx))) {\n          style = itemStyleCache[idx];\n        } else {\n          var offset = getItemOffset(props, idx, $(dynamicSizeCache));\n          var size = getItemSize(props, idx, $(dynamicSizeCache));\n          var horizontal = $(_isHorizontal);\n          var isRtl = direction === RTL;\n          var offsetHorizontal = horizontal ? offset : 0;\n          itemStyleCache[idx] = style = {\n            position: \"absolute\",\n            left: isRtl ? void 0 : \"\".concat(offsetHorizontal, \"px\"),\n            right: isRtl ? \"\".concat(offsetHorizontal, \"px\") : void 0,\n            top: !horizontal ? \"\".concat(offset, \"px\") : 0,\n            height: !horizontal ? \"\".concat(size, \"px\") : \"100%\",\n            width: horizontal ? \"\".concat(size, \"px\") : \"100%\"\n          };\n        }\n\n        return style;\n      };\n\n      var resetIsScrolling = function resetIsScrolling() {\n        states.value.isScrolling = false;\n        nextTick(function () {\n          getItemStyleCache(-1, null, null);\n        });\n      };\n\n      onMounted(function () {\n        if (isServer) return;\n        var initScrollOffset = props.initScrollOffset;\n        var windowElement = $(windowRef);\n\n        if (isNumber(initScrollOffset) && windowElement !== null) {\n          if ($(_isHorizontal)) {\n            windowElement.scrollLeft = initScrollOffset;\n          } else {\n            windowElement.scrollTop = initScrollOffset;\n          }\n        }\n\n        emitEvents();\n      });\n      onUpdated(function () {\n        var direction = props.direction,\n            layout = props.layout;\n\n        var _$6 = $(states),\n            scrollOffset = _$6.scrollOffset,\n            updateRequested = _$6.updateRequested;\n\n        if (updateRequested && $(windowRef) !== null) {\n          var windowElement = $(windowRef);\n\n          if (layout === HORIZONTAL) {\n            if (direction === RTL) {\n              switch (getRTLOffsetType()) {\n                case \"negative\":\n                  {\n                    windowElement.scrollLeft = -scrollOffset;\n                    break;\n                  }\n\n                case \"positive-ascending\":\n                  {\n                    windowElement.scrollLeft = scrollOffset;\n                    break;\n                  }\n\n                default:\n                  {\n                    var clientWidth = windowElement.clientWidth,\n                        scrollWidth = windowElement.scrollWidth;\n                    windowElement.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                    break;\n                  }\n              }\n            } else {\n              windowElement.scrollLeft = scrollOffset;\n            }\n          } else {\n            windowElement.scrollTop = scrollOffset;\n          }\n        }\n      });\n      var api = {\n        clientSize: clientSize,\n        estimatedTotalSize: estimatedTotalSize,\n        windowStyle: windowStyle,\n        windowRef: windowRef,\n        innerRef: innerRef,\n        innerStyle: innerStyle,\n        itemsToRender: itemsToRender,\n        scrollbarRef: scrollbarRef,\n        states: states,\n        getItemStyle: getItemStyle,\n        onScroll: onScroll,\n        onScrollbarScroll: onScrollbarScroll,\n        onWheel: onWheel,\n        scrollTo: scrollTo,\n        scrollToItem: scrollToItem\n      };\n      expose({\n        windowRef: windowRef,\n        innerRef: innerRef,\n        getItemStyleCache: getItemStyleCache,\n        scrollTo: scrollTo,\n        scrollToItem: scrollToItem,\n        states: states\n      });\n      return api;\n    },\n    render: function render(ctx) {\n      var _a;\n\n      var $slots = ctx.$slots,\n          className = ctx.className,\n          clientSize = ctx.clientSize,\n          containerElement = ctx.containerElement,\n          data = ctx.data,\n          getItemStyle = ctx.getItemStyle,\n          innerElement = ctx.innerElement,\n          itemsToRender = ctx.itemsToRender,\n          innerStyle = ctx.innerStyle,\n          layout = ctx.layout,\n          total = ctx.total,\n          onScroll = ctx.onScroll,\n          onScrollbarScroll = ctx.onScrollbarScroll,\n          onWheel = ctx.onWheel,\n          states = ctx.states,\n          useIsScrolling = ctx.useIsScrolling,\n          windowStyle = ctx.windowStyle;\n\n      var _itemsToRender = _slicedToArray(itemsToRender, 2),\n          start = _itemsToRender[0],\n          end = _itemsToRender[1];\n\n      var Container = resolveDynamicComponent(containerElement);\n      var Inner = resolveDynamicComponent(innerElement);\n      var children = [];\n\n      if (total > 0) {\n        for (var i = start; i <= end; i++) {\n          children.push((_a = $slots.default) == null ? void 0 : _a.call($slots, {\n            data: data,\n            key: i,\n            index: i,\n            isScrolling: useIsScrolling ? states.isScrolling : void 0,\n            style: getItemStyle(i)\n          }));\n        }\n      }\n\n      var InnerNode = [h(Inner, {\n        style: innerStyle,\n        ref: \"innerRef\"\n      }, !isString(Inner) ? {\n        default: function _default() {\n          return children;\n        }\n      } : children)];\n      var scrollbar = h(ScrollBar, {\n        ref: \"scrollbarRef\",\n        clientSize: clientSize,\n        layout: layout,\n        onScroll: onScrollbarScroll,\n        ratio: clientSize * 100 / this.estimatedTotalSize,\n        scrollFrom: states.scrollOffset / (this.estimatedTotalSize - clientSize),\n        total: total,\n        visible: true\n      });\n      var listContainer = h(Container, {\n        class: className,\n        style: windowStyle,\n        onScroll: onScroll,\n        onWheel: onWheel,\n        ref: \"windowRef\",\n        key: 0\n      }, !isString(Container) ? {\n        default: function _default() {\n          return [InnerNode];\n        }\n      } : [InnerNode]);\n      return h(\"div\", {\n        key: 0,\n        class: \"el-vl__wrapper\"\n      }, [listContainer, scrollbar]);\n    }\n  });\n};\n\nvar FixedSizeList = createList({\n  name: \"ElFixedSizeList\",\n  getItemOffset: function getItemOffset(_ref7, index) {\n    var itemSize = _ref7.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref8) {\n    var itemSize = _ref8.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref9) {\n    var total = _ref9.total,\n        itemSize = _ref9.itemSize;\n    return itemSize * total;\n  },\n  getOffset: function getOffset(_ref10, index, alignment, scrollOffset) {\n    var height = _ref10.height,\n        total = _ref10.total,\n        itemSize = _ref10.itemSize,\n        layout = _ref10.layout,\n        width = _ref10.width;\n    var size = isHorizontal(layout) ? width : height;\n\n    if (process.env.ENV !== \"production\" && isString(size)) {\n      throwError(\"[ElVirtualList]\", \"\\n        You should set\\n          width/height\\n        to number when your layout is\\n          horizontal/vertical\\n      \");\n    }\n\n    var lastItemOffset = Math.max(0, total * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, (index + 1) * itemSize - size);\n\n    if (alignment === SMART_ALIGNMENT) {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        alignment = AUTO_ALIGNMENT;\n      } else {\n        alignment = CENTERED_ALIGNMENT;\n      }\n    }\n\n    switch (alignment) {\n      case START_ALIGNMENT:\n        {\n          return maxOffset;\n        }\n\n      case END_ALIGNMENT:\n        {\n          return minOffset;\n        }\n\n      case CENTERED_ALIGNMENT:\n        {\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0;\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset;\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case AUTO_ALIGNMENT:\n      default:\n        {\n          if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n            return scrollOffset;\n          } else if (scrollOffset < minOffset) {\n            return minOffset;\n          } else {\n            return maxOffset;\n          }\n        }\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref11, offset) {\n    var total = _ref11.total,\n        itemSize = _ref11.itemSize;\n    return Math.max(0, Math.min(total - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref12, startIndex, scrollOffset) {\n    var height = _ref12.height,\n        total = _ref12.total,\n        itemSize = _ref12.itemSize,\n        layout = _ref12.layout,\n        width = _ref12.width;\n    var offset = startIndex * itemSize;\n    var size = isHorizontal(layout) ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(total - 1, startIndex + numVisibleItems - 1));\n  },\n  initCache: function initCache() {\n    return void 0;\n  },\n  clearCache: true,\n  validateProps: function validateProps() {}\n});\nvar SCOPE = \"ElDynamicSizeList\";\n\nvar getItemFromCache = function getItemFromCache(props, index, listCache) {\n  var itemSize = props.itemSize;\n  var items = listCache.items,\n      lastVisitedIndex = listCache.lastVisitedIndex;\n\n  if (index > lastVisitedIndex) {\n    var offset = 0;\n\n    if (lastVisitedIndex >= 0) {\n      var item = items[lastVisitedIndex];\n      offset = item.offset + item.size;\n    }\n\n    for (var i = lastVisitedIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      items[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    listCache.lastVisitedIndex = index;\n  }\n\n  return items[index];\n};\n\nvar findItem = function findItem(props, listCache, offset) {\n  var items = listCache.items,\n      lastVisitedIndex = listCache.lastVisitedIndex;\n  var lastVisitedOffset = lastVisitedIndex > 0 ? items[lastVisitedIndex].offset : 0;\n\n  if (lastVisitedOffset >= offset) {\n    return bs(props, listCache, 0, lastVisitedIndex, offset);\n  }\n\n  return es(props, listCache, Math.max(0, lastVisitedIndex), offset);\n};\n\nvar bs = function bs(props, listCache, low, high, offset) {\n  while (low <= high) {\n    var mid = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemFromCache(props, mid, listCache).offset;\n\n    if (currentOffset === offset) {\n      return mid;\n    } else if (currentOffset < offset) {\n      low = mid + 1;\n    } else if (currentOffset > offset) {\n      high = mid - 1;\n    }\n  }\n\n  return Math.max(0, low - 1);\n};\n\nvar es = function es(props, listCache, index, offset) {\n  var total = props.total;\n  var exponent = 1;\n\n  while (index < total && getItemFromCache(props, index, listCache).offset < offset) {\n    index += exponent;\n    exponent *= 2;\n  }\n\n  return bs(props, listCache, Math.floor(index / 2), Math.min(index, total - 1), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref13, _ref14) {\n  var total = _ref13.total;\n  var items = _ref14.items,\n      estimatedItemSize = _ref14.estimatedItemSize,\n      lastVisitedIndex = _ref14.lastVisitedIndex;\n  var totalSizeOfMeasuredItems = 0;\n\n  if (lastVisitedIndex >= total) {\n    lastVisitedIndex = total - 1;\n  }\n\n  if (lastVisitedIndex >= 0) {\n    var item = items[lastVisitedIndex];\n    totalSizeOfMeasuredItems = item.offset + item.size;\n  }\n\n  var numUnmeasuredItems = total - lastVisitedIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar DynamicSizeList = createList({\n  name: \"ElDynamicSizeList\",\n  getItemOffset: function getItemOffset(props, index, listCache) {\n    return getItemFromCache(props, index, listCache).offset;\n  },\n  getItemSize: function getItemSize(_, index, _ref15) {\n    var items = _ref15.items;\n    return items[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffset: function getOffset(props, index, alignment, scrollOffset, listCache) {\n    var height = props.height,\n        layout = props.layout,\n        width = props.width;\n    var size = isHorizontal(layout) ? width : height;\n    var item = getItemFromCache(props, index, listCache);\n    var estimatedTotalSize = getEstimatedTotalSize(props, listCache);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, item.offset));\n    var minOffset = Math.max(0, item.offset - size + item.size);\n\n    if (alignment === SMART_ALIGNMENT) {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        alignment = AUTO_ALIGNMENT;\n      } else {\n        alignment = CENTERED_ALIGNMENT;\n      }\n    }\n\n    switch (alignment) {\n      case START_ALIGNMENT:\n        {\n          return maxOffset;\n        }\n\n      case END_ALIGNMENT:\n        {\n          return minOffset;\n        }\n\n      case CENTERED_ALIGNMENT:\n        {\n          return Math.round(minOffset + (maxOffset - minOffset) / 2);\n        }\n\n      case AUTO_ALIGNMENT:\n      default:\n        {\n          if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n            return scrollOffset;\n          } else if (scrollOffset < minOffset) {\n            return minOffset;\n          } else {\n            return maxOffset;\n          }\n        }\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, listCache) {\n    return findItem(props, listCache, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, listCache) {\n    var height = props.height,\n        total = props.total,\n        layout = props.layout,\n        width = props.width;\n    var size = isHorizontal(layout) ? width : height;\n    var item = getItemFromCache(props, startIndex, listCache);\n    var maxOffset = scrollOffset + size;\n    var offset = item.offset + item.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < total - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemFromCache(props, stopIndex, listCache).size;\n    }\n\n    return stopIndex;\n  },\n  initCache: function initCache(_ref16, instance) {\n    var _ref16$estimatedItemS = _ref16.estimatedItemSize,\n        estimatedItemSize = _ref16$estimatedItemS === void 0 ? DEFAULT_DYNAMIC_LIST_ITEM_SIZE : _ref16$estimatedItemS;\n    var cache = {\n      items: {},\n      estimatedItemSize: estimatedItemSize,\n      lastVisitedIndex: -1\n    };\n\n    cache.clearCacheAfterIndex = function (index) {\n      var forceUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      cache.lastVisitedIndex = Math.min(cache.lastVisitedIndex, index - 1);\n      instance.exposed.getItemStyleCache(-1);\n\n      if (forceUpdate) {\n        instance.proxy.$forceUpdate();\n      }\n    };\n\n    return cache;\n  },\n  clearCache: false,\n  validateProps: function validateProps(_ref17) {\n    var itemSize = _ref17.itemSize;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof itemSize !== \"function\") {\n        throwError(SCOPE, \"\\n          itemSize is required as function, but the given value was \".concat(_typeof(itemSize), \"\\n        \"));\n      }\n    }\n  }\n});\nvar __defProp$2 = Object.defineProperty;\nvar __defProps$2 = Object.defineProperties;\nvar __getOwnPropDescs$2 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$2 = function __defNormalProp$2(obj, key, value) {\n  return key in obj ? __defProp$2(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues$2 = function __spreadValues$2(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols$2) {\n    var _iterator3 = _createForOfIteratorHelper(__getOwnPropSymbols$2(b)),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var prop = _step3.value;\n        if (__propIsEnum$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  }\n\n  return a;\n};\n\nvar __spreadProps$2 = function __spreadProps$2(a, b) {\n  return __defProps$2(a, __getOwnPropDescs$2(b));\n};\n\nvar createGrid = function createGrid(_ref18) {\n  var name = _ref18.name,\n      clearCache = _ref18.clearCache,\n      getColumnPosition = _ref18.getColumnPosition,\n      getColumnStartIndexForOffset = _ref18.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref18.getColumnStopIndexForStartIndex,\n      getEstimatedTotalHeight = _ref18.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref18.getEstimatedTotalWidth,\n      getColumnOffset = _ref18.getColumnOffset,\n      getRowOffset = _ref18.getRowOffset,\n      getRowPosition = _ref18.getRowPosition,\n      getRowStartIndexForOffset = _ref18.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref18.getRowStopIndexForStartIndex,\n      initCache = _ref18.initCache,\n      validateProps = _ref18.validateProps;\n  return defineComponent({\n    name: name != null ? name : \"ElVirtualList\",\n    props: DefaultGridProps,\n    emits: [ITEM_RENDER_EVT, SCROLL_EVT],\n    setup: function setup(props, _ref19) {\n      var emit = _ref19.emit,\n          expose = _ref19.expose;\n      validateProps(props);\n      var instance = getCurrentInstance();\n      var cache = ref(initCache(props, instance));\n      var windowRef = ref(null);\n      var innerRef = ref(null);\n      var states = ref({\n        isScrolling: false,\n        scrollLeft: isNumber(props.initScrollLeft) ? props.initScrollLeft : 0,\n        scrollTop: isNumber(props.initScrollTop) ? props.initScrollTop : 0,\n        updateRequested: false,\n        xAxisScrollDir: FORWARD,\n        yAxisScrollDir: FORWARD\n      });\n      var columnsToRender = computed(function () {\n        var totalColumn = props.totalColumn,\n            totalRow = props.totalRow,\n            columnCache = props.columnCache;\n\n        var _$7 = $(states),\n            isScrolling = _$7.isScrolling,\n            xAxisScrollDir = _$7.xAxisScrollDir,\n            scrollLeft = _$7.scrollLeft;\n\n        if (totalColumn === 0 || totalRow === 0) {\n          return [0, 0, 0, 0];\n        }\n\n        var startIndex = getColumnStartIndexForOffset(props, scrollLeft, $(cache));\n        var stopIndex = getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, $(cache));\n        var cacheBackward = !isScrolling || xAxisScrollDir === BACKWARD ? Math.max(1, columnCache) : 1;\n        var cacheForward = !isScrolling || xAxisScrollDir === FORWARD ? Math.max(1, columnCache) : 1;\n        return [Math.max(0, startIndex - cacheBackward), Math.max(0, Math.min(totalColumn - 1, stopIndex + cacheForward)), startIndex, stopIndex];\n      });\n      var rowsToRender = computed(function () {\n        var totalColumn = props.totalColumn,\n            totalRow = props.totalRow,\n            rowCache = props.rowCache;\n\n        var _$8 = $(states),\n            isScrolling = _$8.isScrolling,\n            yAxisScrollDir = _$8.yAxisScrollDir,\n            scrollTop = _$8.scrollTop;\n\n        if (totalColumn === 0 || totalRow === 0) {\n          return [0, 0, 0, 0];\n        }\n\n        var startIndex = getRowStartIndexForOffset(props, scrollTop, $(cache));\n        var stopIndex = getRowStopIndexForStartIndex(props, startIndex, scrollTop, $(cache));\n        var cacheBackward = !isScrolling || yAxisScrollDir === BACKWARD ? Math.max(1, rowCache) : 1;\n        var cacheForward = !isScrolling || yAxisScrollDir === FORWARD ? Math.max(1, rowCache) : 1;\n        return [Math.max(0, startIndex - cacheBackward), Math.max(0, Math.min(totalRow - 1, stopIndex + cacheForward)), startIndex, stopIndex];\n      });\n      var estimatedTotalHeight = computed(function () {\n        return getEstimatedTotalHeight(props, $(cache));\n      });\n      var estimatedTotalWidth = computed(function () {\n        return getEstimatedTotalWidth(props, $(cache));\n      });\n      var windowStyle = computed(function () {\n        return [{\n          position: \"relative\",\n          overflow: \"auto\",\n          WebkitOverflowScrolling: \"touch\",\n          willChange: \"transform\"\n        }, __spreadValues$2({\n          direction: props.direction,\n          height: isNumber(props.height) ? \"\".concat(props.height, \"px\") : props.height,\n          width: isNumber(props.width) ? \"\".concat(props.width, \"px\") : props.width\n        }, props.style)];\n      });\n      var innerStyle = computed(function () {\n        var width = \"\".concat($(estimatedTotalWidth), \"px\");\n        var height = \"\".concat($(estimatedTotalHeight), \"px\");\n        return {\n          height: height,\n          pointerEvents: $(states).isScrolling ? \"none\" : void 0,\n          width: width\n        };\n      });\n\n      var emitEvents = function emitEvents() {\n        var totalColumn = props.totalColumn,\n            totalRow = props.totalRow;\n\n        if (totalColumn > 0 && totalRow > 0) {\n          var _$9 = $(columnsToRender),\n              _$10 = _slicedToArray(_$9, 4),\n              columnCacheStart = _$10[0],\n              columnCacheEnd = _$10[1],\n              columnVisibleStart = _$10[2],\n              columnVisibleEnd = _$10[3];\n\n          var _$11 = $(rowsToRender),\n              _$12 = _slicedToArray(_$11, 4),\n              rowCacheStart = _$12[0],\n              rowCacheEnd = _$12[1],\n              rowVisibleStart = _$12[2],\n              rowVisibleEnd = _$12[3];\n\n          emit(ITEM_RENDER_EVT, columnCacheStart, columnCacheEnd, rowCacheStart, rowCacheEnd, columnVisibleStart, columnVisibleEnd, rowVisibleStart, rowVisibleEnd);\n        }\n\n        var _$13 = $(states),\n            scrollLeft = _$13.scrollLeft,\n            scrollTop = _$13.scrollTop,\n            updateRequested = _$13.updateRequested,\n            xAxisScrollDir = _$13.xAxisScrollDir,\n            yAxisScrollDir = _$13.yAxisScrollDir;\n\n        emit(SCROLL_EVT, xAxisScrollDir, scrollLeft, yAxisScrollDir, scrollTop, updateRequested);\n      };\n\n      var onScroll = function onScroll(e) {\n        var _e$currentTarget3 = e.currentTarget,\n            clientHeight = _e$currentTarget3.clientHeight,\n            clientWidth = _e$currentTarget3.clientWidth,\n            scrollHeight = _e$currentTarget3.scrollHeight,\n            scrollLeft = _e$currentTarget3.scrollLeft,\n            scrollTop = _e$currentTarget3.scrollTop,\n            scrollWidth = _e$currentTarget3.scrollWidth;\n\n        var _states = $(states);\n\n        if (_states.scrollTop === scrollTop && _states.scrollLeft === scrollLeft) {\n          return;\n        }\n\n        var _scrollLeft = scrollLeft;\n\n        if (isRTL(props.direction)) {\n          switch (getRTLOffsetType()) {\n            case RTL_OFFSET_NAG:\n              _scrollLeft = -scrollLeft;\n              break;\n\n            case RTL_OFFSET_POS_DESC:\n              _scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        }\n\n        states.value = __spreadProps$2(__spreadValues$2({}, _states), {\n          isScrolling: true,\n          scrollLeft: _scrollLeft,\n          scrollTop: Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight)),\n          updateRequested: false,\n          xAxisScrollDir: getScrollDir(_states.scrollLeft, _scrollLeft),\n          yAxisScrollDir: getScrollDir(_states.scrollTop, scrollTop)\n        });\n        nextTick(resetIsScrolling);\n        emitEvents();\n      };\n\n      var getItemStyleCache = memo(function (_, __, ___) {\n        return {};\n      });\n\n      var scrollTo = function scrollTo(_ref20) {\n        var scrollLeft = _ref20.scrollLeft,\n            scrollTop = _ref20.scrollTop;\n        scrollLeft = Math.max(scrollLeft, 0);\n        scrollTop = Math.max(scrollTop, 0);\n\n        var _states = $(states);\n\n        if (scrollTop === _states.scrollTop && scrollLeft === _states.scrollLeft) {\n          return;\n        }\n\n        states.value = __spreadProps$2(__spreadValues$2({}, _states), {\n          xAxisScrollDir: getScrollDir(_states.scrollLeft, scrollLeft),\n          yAxisScrollDir: getScrollDir(_states.scrollTop, scrollTop),\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          updateRequested: true\n        });\n        nextTick(resetIsScrolling);\n      };\n\n      var scrollToItem = function scrollToItem() {\n        var rowIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var columnIdx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var alignment = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : AUTO_ALIGNMENT;\n\n        var _states = $(states);\n\n        columnIdx = Math.max(0, Math.min(columnIdx, props.totalColumn - 1));\n        rowIndex = Math.max(0, Math.min(rowIndex, props.totalRow - 1));\n        var scrollBarWidth = getScrollBarWidth();\n\n        var _cache = $(cache);\n\n        var estimatedHeight = getEstimatedTotalHeight(props, _cache);\n        var estimatedWidth = getEstimatedTotalWidth(props, _cache);\n        scrollTo({\n          scrollLeft: getColumnOffset(props, columnIdx, alignment, _states.scrollLeft, _cache, estimatedWidth > props.width ? scrollBarWidth : 0),\n          scrollTop: getRowOffset(props, rowIndex, alignment, _states.scrollTop, _cache, estimatedHeight > props.height ? scrollBarWidth : 0)\n        });\n      };\n\n      var getItemStyle = function getItemStyle(rowIndex, columnIndex) {\n        var columnWidth = props.columnWidth,\n            direction = props.direction,\n            rowHeight = props.rowHeight;\n        var itemStyleCache = getItemStyleCache(clearCache && columnWidth, clearCache && rowHeight, clearCache && direction);\n        var key = \"\".concat(rowIndex, \",\").concat(columnIndex);\n\n        if (hasOwn(itemStyleCache, key)) {\n          return itemStyleCache[key];\n        } else {\n          var _getColumnPosition = getColumnPosition(props, columnIndex, $(cache)),\n              _getColumnPosition2 = _slicedToArray(_getColumnPosition, 2),\n              left = _getColumnPosition2[1];\n\n          var _cache = $(cache);\n\n          var rtl = isRTL(direction);\n\n          var _getRowPosition = getRowPosition(props, rowIndex, _cache),\n              _getRowPosition2 = _slicedToArray(_getRowPosition, 2),\n              height = _getRowPosition2[0],\n              top = _getRowPosition2[1];\n\n          var _getColumnPosition3 = getColumnPosition(props, columnIndex, _cache),\n              _getColumnPosition4 = _slicedToArray(_getColumnPosition3, 1),\n              width = _getColumnPosition4[0];\n\n          itemStyleCache[key] = {\n            position: \"absolute\",\n            left: rtl ? void 0 : \"\".concat(left, \"px\"),\n            right: rtl ? \"\".concat(left, \"px\") : void 0,\n            top: \"\".concat(top, \"px\"),\n            height: \"\".concat(height, \"px\"),\n            width: \"\".concat(width, \"px\")\n          };\n          return itemStyleCache[key];\n        }\n      };\n\n      var resetIsScrolling = function resetIsScrolling() {\n        states.value.isScrolling = false;\n        nextTick(function () {\n          getItemStyleCache(-1, null, null);\n        });\n      };\n\n      onMounted(function () {\n        if (isServer) return;\n        var initScrollLeft = props.initScrollLeft,\n            initScrollTop = props.initScrollTop;\n        var windowElement = $(windowRef);\n\n        if (windowElement !== null) {\n          if (isNumber(initScrollLeft)) {\n            windowElement.scrollLeft = initScrollLeft;\n          }\n\n          if (isNumber(initScrollTop)) {\n            windowElement.scrollTop = initScrollTop;\n          }\n        }\n\n        emitEvents();\n      });\n      onUpdated(function () {\n        var direction = props.direction;\n\n        var _$14 = $(states),\n            scrollLeft = _$14.scrollLeft,\n            scrollTop = _$14.scrollTop,\n            updateRequested = _$14.updateRequested;\n\n        if (updateRequested && $(windowRef) !== null) {\n          var windowElement = $(windowRef);\n\n          if (direction === RTL) {\n            switch (getRTLOffsetType()) {\n              case RTL_OFFSET_NAG:\n                {\n                  windowElement.scrollLeft = -scrollLeft;\n                  break;\n                }\n\n              case RTL_OFFSET_POS_ASC:\n                {\n                  windowElement.scrollLeft = scrollLeft;\n                  break;\n                }\n\n              default:\n                {\n                  var clientWidth = windowElement.clientWidth,\n                      scrollWidth = windowElement.scrollWidth;\n                  windowElement.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n                  break;\n                }\n            }\n          } else {\n            windowElement.scrollLeft = Math.max(0, scrollLeft);\n          }\n\n          windowElement.scrollTop = Math.max(0, scrollTop);\n        }\n      });\n      var api = {\n        windowStyle: windowStyle,\n        windowRef: windowRef,\n        columnsToRender: columnsToRender,\n        innerRef: innerRef,\n        innerStyle: innerStyle,\n        states: states,\n        rowsToRender: rowsToRender,\n        getItemStyle: getItemStyle,\n        onScroll: onScroll,\n        scrollTo: scrollTo,\n        scrollToItem: scrollToItem\n      };\n      expose({\n        windowRef: windowRef,\n        innerRef: innerRef,\n        getItemStyleCache: getItemStyleCache,\n        scrollTo: scrollTo,\n        scrollToItem: scrollToItem,\n        states: states\n      });\n      return api;\n    },\n    render: function render(ctx) {\n      var _a;\n\n      var $slots = ctx.$slots,\n          className = ctx.className,\n          containerElement = ctx.containerElement,\n          columnsToRender = ctx.columnsToRender,\n          data = ctx.data,\n          getItemStyle = ctx.getItemStyle,\n          innerElement = ctx.innerElement,\n          innerStyle = ctx.innerStyle,\n          rowsToRender = ctx.rowsToRender,\n          onScroll = ctx.onScroll,\n          states = ctx.states,\n          useIsScrolling = ctx.useIsScrolling,\n          windowStyle = ctx.windowStyle,\n          totalColumn = ctx.totalColumn,\n          totalRow = ctx.totalRow;\n\n      var _columnsToRender = _slicedToArray(columnsToRender, 2),\n          columnStart = _columnsToRender[0],\n          columnEnd = _columnsToRender[1];\n\n      var _rowsToRender = _slicedToArray(rowsToRender, 2),\n          rowStart = _rowsToRender[0],\n          rowEnd = _rowsToRender[1];\n\n      var Container = resolveDynamicComponent(containerElement);\n      var Inner = resolveDynamicComponent(innerElement);\n      var children = [];\n\n      if (totalRow > 0 && totalColumn > 0) {\n        for (var row = rowStart; row <= rowEnd; row++) {\n          for (var column = columnStart; column <= columnEnd; column++) {\n            children.push((_a = $slots.default) == null ? void 0 : _a.call($slots, {\n              columnIndex: column,\n              data: data,\n              key: column,\n              isScrolling: useIsScrolling ? states.isScrolling : void 0,\n              style: getItemStyle(row, column),\n              rowIndex: row\n            }));\n          }\n        }\n      }\n\n      var InnerNode = [h(Inner, {\n        style: innerStyle,\n        ref: \"innerRef\"\n      }, !isString(Inner) ? {\n        default: function _default() {\n          return children;\n        }\n      } : children)];\n      return h(Container, {\n        class: className,\n        style: windowStyle,\n        onScroll: onScroll,\n        ref: \"windowRef\"\n      }, !isString(Container) ? {\n        default: function _default() {\n          return InnerNode;\n        }\n      } : InnerNode);\n    }\n  });\n};\n\nvar SCOPE$1 = \"ElFixedSizeGrid\";\nvar FixedSizeGrid = createGrid({\n  name: \"ElFixedSizeGrid\",\n  getColumnPosition: function getColumnPosition(_ref21, index) {\n    var columnWidth = _ref21.columnWidth;\n    return [columnWidth, index * columnWidth];\n  },\n  getRowPosition: function getRowPosition(_ref22, index) {\n    var rowHeight = _ref22.rowHeight;\n    return [rowHeight, index * rowHeight];\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref23) {\n    var totalRow = _ref23.totalRow,\n        rowHeight = _ref23.rowHeight;\n    return rowHeight * totalRow;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref24) {\n    var totalColumn = _ref24.totalColumn,\n        columnWidth = _ref24.columnWidth;\n    return columnWidth * totalColumn;\n  },\n  getColumnOffset: function getColumnOffset(_ref25, columnIndex, alignment, scrollLeft, _, scrollBarWidth) {\n    var totalColumn = _ref25.totalColumn,\n        columnWidth = _ref25.columnWidth,\n        width = _ref25.width;\n    width = Number(width);\n    var lastColumnOffset = Math.max(0, totalColumn * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollBarWidth + columnWidth);\n\n    if (alignment === \"smart\") {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        alignment = AUTO_ALIGNMENT;\n      } else {\n        alignment = CENTERED_ALIGNMENT;\n      }\n    }\n\n    switch (alignment) {\n      case START_ALIGNMENT:\n        return maxOffset;\n\n      case END_ALIGNMENT:\n        return minOffset;\n\n      case CENTERED_ALIGNMENT:\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0;\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset;\n        } else {\n          return middleOffset;\n        }\n\n      case AUTO_ALIGNMENT:\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getRowOffset: function getRowOffset(_ref26, rowIndex, align, scrollTop, _, scrollBarWidth) {\n    var rowHeight = _ref26.rowHeight,\n        height = _ref26.height,\n        totalRow = _ref26.totalRow;\n    height = Number(height);\n    var lastRowOffset = Math.max(0, totalRow * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollBarWidth + rowHeight);\n\n    if (align === SMART_ALIGNMENT) {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = AUTO_ALIGNMENT;\n      } else {\n        align = CENTERED_ALIGNMENT;\n      }\n    }\n\n    switch (align) {\n      case START_ALIGNMENT:\n        return maxOffset;\n\n      case END_ALIGNMENT:\n        return minOffset;\n\n      case CENTERED_ALIGNMENT:\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0;\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset;\n        } else {\n          return middleOffset;\n        }\n\n      case AUTO_ALIGNMENT:\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref27, scrollLeft) {\n    var columnWidth = _ref27.columnWidth,\n        totalColumn = _ref27.totalColumn;\n    return Math.max(0, Math.min(totalColumn - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref28, startIndex, scrollLeft) {\n    var columnWidth = _ref28.columnWidth,\n        totalColumn = _ref28.totalColumn,\n        width = _ref28.width;\n    var left = startIndex * columnWidth;\n    var visibleColumnsCount = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(totalColumn - 1, startIndex + visibleColumnsCount - 1));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref29, scrollTop) {\n    var rowHeight = _ref29.rowHeight,\n        totalRow = _ref29.totalRow;\n    return Math.max(0, Math.min(totalRow - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref30, startIndex, scrollTop) {\n    var rowHeight = _ref30.rowHeight,\n        totalRow = _ref30.totalRow,\n        height = _ref30.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(totalRow - 1, startIndex + numVisibleRows - 1));\n  },\n  initCache: function initCache() {\n    return void 0;\n  },\n  clearCache: true,\n  validateProps: function validateProps(_ref31) {\n    var columnWidth = _ref31.columnWidth,\n        rowHeight = _ref31.rowHeight;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!isNumber(columnWidth)) {\n        throwError(SCOPE$1, \"\\n          \\\"columnWidth\\\" must be passed as number,\\n            instead \".concat(_typeof(columnWidth), \" was given.\\n        \"));\n      }\n\n      if (!isNumber(rowHeight)) {\n        throwError(SCOPE$1, \"\\n          \\\"columnWidth\\\" must be passed as number,\\n            instead \".concat(_typeof(rowHeight), \" was given.\\n        \"));\n      }\n    }\n  }\n});\nvar max = Math.max,\n    min = Math.min,\n    floor = Math.floor;\nvar SCOPE$2 = \"ElDynamicSizeGrid\";\nvar ACCESS_SIZER_KEY_MAP = {\n  column: \"columnWidth\",\n  row: \"rowHeight\"\n};\nvar ACCESS_LAST_VISITED_KEY_MAP = {\n  column: \"lastVisitedColumnIndex\",\n  row: \"lastVisitedRowIndex\"\n};\n\nvar getItemFromCache$1 = function getItemFromCache$1(props, index, gridCache, type) {\n  var _ref32 = [gridCache[type], props[ACCESS_SIZER_KEY_MAP[type]], gridCache[ACCESS_LAST_VISITED_KEY_MAP[type]]],\n      cachedItems = _ref32[0],\n      sizer = _ref32[1],\n      lastVisited = _ref32[2];\n\n  if (index > lastVisited) {\n    var offset = 0;\n\n    if (lastVisited >= 0) {\n      var item = cachedItems[lastVisited];\n      offset = item.offset + item.size;\n    }\n\n    for (var i = lastVisited + 1; i <= index; i++) {\n      var size = sizer(i);\n      cachedItems[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    gridCache[ACCESS_LAST_VISITED_KEY_MAP[type]] = index;\n  }\n\n  return cachedItems[index];\n};\n\nvar bs$1 = function bs$1(props, gridCache, low, high, offset, type) {\n  while (low <= high) {\n    var mid = low + floor((high - low) / 2);\n    var currentOffset = getItemFromCache$1(props, mid, gridCache, type).offset;\n\n    if (currentOffset === offset) {\n      return mid;\n    } else if (currentOffset < offset) {\n      low = mid + 1;\n    } else {\n      high = mid - 1;\n    }\n  }\n\n  return max(0, low - 1);\n};\n\nvar es$1 = function es$1(props, gridCache, idx, offset, type) {\n  var total = type === \"column\" ? props.totalColumn : props.totalRow;\n  var exponent = 1;\n\n  while (idx < total && getItemFromCache$1(props, idx, gridCache, type).offset < offset) {\n    idx += exponent;\n    exponent *= 2;\n  }\n\n  return bs$1(props, gridCache, floor(idx / 2), min(idx, total - 1), offset, type);\n};\n\nvar findItem$1 = function findItem$1(props, gridCache, offset, type) {\n  var _ref33 = [gridCache[type], gridCache[ACCESS_LAST_VISITED_KEY_MAP[type]]],\n      cache = _ref33[0],\n      lastVisitedIndex = _ref33[1];\n  var lastVisitedItemOffset = lastVisitedIndex > 0 ? cache[lastVisitedIndex].offset : 0;\n\n  if (lastVisitedItemOffset >= offset) {\n    return bs$1(props, gridCache, 0, lastVisitedIndex, offset, type);\n  }\n\n  return es$1(props, gridCache, max(0, lastVisitedIndex), offset, type);\n};\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref34, _ref35) {\n  var totalRow = _ref34.totalRow;\n  var estimatedRowHeight = _ref35.estimatedRowHeight,\n      lastVisitedRowIndex = _ref35.lastVisitedRowIndex,\n      row = _ref35.row;\n  var sizeOfVisitedRows = 0;\n\n  if (lastVisitedRowIndex >= totalRow) {\n    lastVisitedRowIndex = totalRow - 1;\n  }\n\n  if (lastVisitedRowIndex >= 0) {\n    var item = row[lastVisitedRowIndex];\n    sizeOfVisitedRows = item.offset + item.size;\n  }\n\n  var unvisitedItems = totalRow - lastVisitedRowIndex - 1;\n  var sizeOfUnvisitedItems = unvisitedItems * estimatedRowHeight;\n  return sizeOfVisitedRows + sizeOfUnvisitedItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref36, _ref37) {\n  var totalColumn = _ref36.totalColumn;\n  var column = _ref37.column,\n      estimatedColumnWidth = _ref37.estimatedColumnWidth,\n      lastVisitedColumnIndex = _ref37.lastVisitedColumnIndex;\n  var sizeOfVisitedColumns = 0;\n\n  if (lastVisitedColumnIndex > totalColumn) {\n    lastVisitedColumnIndex = totalColumn - 1;\n  }\n\n  if (lastVisitedColumnIndex >= 0) {\n    var item = column[lastVisitedColumnIndex];\n    sizeOfVisitedColumns = item.offset + item.size;\n  }\n\n  var unvisitedItems = totalColumn - lastVisitedColumnIndex - 1;\n  var sizeOfUnvisitedItems = unvisitedItems * estimatedColumnWidth;\n  return sizeOfVisitedColumns + sizeOfUnvisitedItems;\n};\n\nvar ACCESS_ESTIMATED_SIZE_KEY_MAP = {\n  column: getEstimatedTotalWidth,\n  row: getEstimatedTotalHeight\n};\n\nvar getOffset = function getOffset(props, index, alignment, scrollOffset, cache, type, scrollBarWidth) {\n  var _ref38 = [type === \"row\" ? props.height : props.width, ACCESS_ESTIMATED_SIZE_KEY_MAP[type]],\n      size = _ref38[0],\n      estimatedSizeAssociates = _ref38[1];\n  var item = getItemFromCache$1(props, index, cache, type);\n  var estimatedSize = estimatedSizeAssociates(props, cache);\n  var maxOffset = max(0, min(estimatedSize - size, item.offset));\n  var minOffset = max(0, item.offset - size + scrollBarWidth + item.size);\n\n  if (alignment === SMART_ALIGNMENT) {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      alignment = AUTO_ALIGNMENT;\n    } else {\n      alignment = CENTERED_ALIGNMENT;\n    }\n  }\n\n  switch (alignment) {\n    case START_ALIGNMENT:\n      {\n        return maxOffset;\n      }\n\n    case END_ALIGNMENT:\n      {\n        return minOffset;\n      }\n\n    case CENTERED_ALIGNMENT:\n      {\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n      }\n\n    case AUTO_ALIGNMENT:\n    default:\n      {\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (minOffset > maxOffset) {\n          return minOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n      }\n  }\n};\n\nvar FixedSizeGrid$1 = createGrid({\n  name: \"ElDynamicSizeGrid\",\n  getColumnPosition: function getColumnPosition(props, idx, cache) {\n    var item = getItemFromCache$1(props, idx, cache, \"column\");\n    return [item.size, item.offset];\n  },\n  getRowPosition: function getRowPosition(props, idx, cache) {\n    var item = getItemFromCache$1(props, idx, cache, \"row\");\n    return [item.size, item.offset];\n  },\n  getColumnOffset: function getColumnOffset(props, columnIndex, alignment, scrollLeft, cache, scrollBarWidth) {\n    return getOffset(props, columnIndex, alignment, scrollLeft, cache, \"column\", scrollBarWidth);\n  },\n  getRowOffset: function getRowOffset(props, rowIndex, alignment, scrollTop, cache, scrollBarWidth) {\n    return getOffset(props, rowIndex, alignment, scrollTop, cache, \"row\", scrollBarWidth);\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, cache) {\n    return findItem$1(props, cache, scrollLeft, \"column\");\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, cache) {\n    var item = getItemFromCache$1(props, startIndex, cache, \"column\");\n    var maxOffset = scrollLeft + props.width;\n    var offset = item.offset + item.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < props.totalColumn - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemFromCache$1(props, startIndex, cache, \"column\").size;\n    }\n\n    return stopIndex;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, cache) {\n    return findItem$1(props, cache, scrollTop, \"row\");\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, cache) {\n    var totalRow = props.totalRow,\n        height = props.height;\n    var item = getItemFromCache$1(props, startIndex, cache, \"row\");\n    var maxOffset = scrollTop + height;\n    var offset = item.size + item.offset;\n    var stopIndex = startIndex;\n\n    while (stopIndex < totalRow - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemFromCache$1(props, stopIndex, cache, \"row\").size;\n    }\n\n    return stopIndex;\n  },\n  initCache: function initCache(_ref39) {\n    var _ref39$estimatedColum = _ref39.estimatedColumnWidth,\n        estimatedColumnWidth = _ref39$estimatedColum === void 0 ? DEFAULT_DYNAMIC_LIST_ITEM_SIZE : _ref39$estimatedColum,\n        _ref39$estimatedRowHe = _ref39.estimatedRowHeight,\n        estimatedRowHeight = _ref39$estimatedRowHe === void 0 ? DEFAULT_DYNAMIC_LIST_ITEM_SIZE : _ref39$estimatedRowHe;\n    var cache = {\n      column: {},\n      estimatedColumnWidth: estimatedColumnWidth,\n      estimatedRowHeight: estimatedRowHeight,\n      lastVisitedColumnIndex: -1,\n      lastVisitedRowIndex: -1,\n      row: {}\n    };\n    return cache;\n  },\n  clearCache: true,\n  validateProps: function validateProps(_ref40) {\n    var columnWidth = _ref40.columnWidth,\n        rowHeight = _ref40.rowHeight;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!isFunction(columnWidth)) {\n        throwError(SCOPE$2, \"\\n          \\\"columnWidth\\\" must be passed as function,\\n            instead \".concat(_typeof(columnWidth), \" was given.\\n        \"));\n      }\n\n      if (!isFunction(rowHeight)) {\n        throwError(SCOPE$2, \"\\n          \\\"columnWidth\\\" must be passed as function,\\n            instead \".concat(_typeof(rowHeight), \" was given.\\n        \"));\n      }\n    }\n  }\n});\nexport { FixedSizeGrid$1 as DynamicSizeGrid, DynamicSizeList, FixedSizeGrid, FixedSizeList };","map":{"version":3,"sources":["/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/element-plus/es/el-virtual-list/index.js"],"names":["isNumber","$","isString","throwError","defineComponent","ref","reactive","computed","watch","onMounted","onBeforeUnmount","h","withModifiers","getCurrentInstance","onUpdated","resolveDynamicComponent","nextTick","memo","isServer","cAF","rAF","on","off","getScrollBarWidth","EMPTY_OBJ","process","env","NODE_ENV","Object","freeze","EMPTY_ARR","NOOP","hasOwnProperty","prototype","hasOwn","val","key","call","isFunction","isObject","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","value","enumerable","configurable","writable","__spreadValues","a","b","prop","__spreadProps","DEFAULT_DYNAMIC_LIST_ITEM_SIZE","ITEM_RENDER_EVT","SCROLL_EVT","FORWARD","BACKWARD","AUTO_ALIGNMENT","SMART_ALIGNMENT","START_ALIGNMENT","CENTERED_ALIGNMENT","END_ALIGNMENT","HORIZONTAL","VERTICAL","LTR","RTL","RTL_OFFSET_NAG","RTL_OFFSET_POS_ASC","RTL_OFFSET_POS_DESC","DefaultListProps","cache","type","Number","default","className","String","containerElement","data","Array","direction","validator","estimatedItemSize","height","required","layout","initScrollOffset","innerElement","total","itemSize","Function","style","useIsScrolling","Boolean","width","DefaultGridProps","columnCache","columnWidth","estimatedColumnWidth","estimatedRowHeight","initScrollLeft","initScrollTop","rowCache","rowHeight","totalColumn","totalRow","DefaultScrollBarProps","ratio","clientSize","scrollFrom","visible","ScrollbarDirKey","SCROLLBAR_MIN_SIZE","getScrollDir","prev","cur","isHorizontal","dir","isRTL","cachedRTLResult","getRTLOffsetType","recalculate","outerDiv","document","createElement","outerStyle","overflow","innerDiv","innerStyle","appendChild","body","scrollLeft","removeChild","renderThumbStyle","move","size","bar","translate","axis","transform","msTransform","webkitTransform","isFF","navigator","test","userAgent","LayoutKeys","useWheel","onWheelDelta","atEndEdge","atStartEdge","frameHandle","offset","hasReachedEdge","offset2","edgeReached","onWheel","e","newOffset","preventDefault","BAR_MAP","vertical","scroll","scrollSize","client","horizontal","ScrollBar","name","props","emits","setup","emit","trackRef","thumbRef","onselectstartStore","state","isDragging","traveled","trackStyle","display","position","thumbSize","POSITIVE_INFINITY","SCROLLBAR_MAX_SIZE","Math","floor","min","max","thumbStyle","isFinite","thumb","totalSteps","attachEvents","window","onMouseMove","onMouseUp","thumbEl","onselectstart","detachEvents","onThumbMouseDown","stopImmediatePropagation","ctrlKey","includes","button","currentTarget","getBoundingClientRect","prevPage","thumbClickPosition","distance","onScrollbarTouchStart","v","ceil","role","class","onMousedown","__defProp$1","__defProps$1","__getOwnPropDescs$1","__getOwnPropSymbols$1","__hasOwnProp$1","__propIsEnum$1","__defNormalProp$1","__spreadValues$1","__spreadProps$1","createList","getOffset","getItemSize","getItemOffset","getEstimatedTotalSize","getStartIndexForOffset","getStopIndexForStartIndex","initCache","clearCache","validateProps","expose","instance","dynamicSizeCache","windowRef","innerRef","scrollbarRef","states","isScrolling","scrollDir","scrollOffset","updateRequested","isScrollbarDragging","itemsToRender","startIndex","stopIndex","cacheBackward","cacheForward","estimatedTotalSize","_isHorizontal","windowStyle","WebkitOverflowScrolling","willChange","pointerEvents","_a","_b","scrollTo","emitEvents","cacheStart","cacheEnd","visibleStart","visibleEnd","scrollVertically","clientHeight","scrollHeight","scrollTop","_states","resetIsScrolling","scrollHorizontally","clientWidth","scrollWidth","onScroll","onScrollbarScroll","distanceToGo","getItemStyleCache","_","__","___","scrollToItem","idx","alignment","getItemStyle","itemStyleCache","isRtl","offsetHorizontal","left","right","top","windowElement","api","render","ctx","$slots","start","end","Container","Inner","children","i","push","index","InnerNode","scrollbar","listContainer","FixedSizeList","ENV","lastItemOffset","maxOffset","minOffset","middleOffset","round","numVisibleItems","SCOPE","getItemFromCache","listCache","items","lastVisitedIndex","item","findItem","lastVisitedOffset","bs","es","low","high","mid","currentOffset","exponent","totalSizeOfMeasuredItems","numUnmeasuredItems","totalSizeOfUnmeasuredItems","DynamicSizeList","clearCacheAfterIndex","forceUpdate","exposed","proxy","$forceUpdate","__defProp$2","__defProps$2","__getOwnPropDescs$2","__getOwnPropSymbols$2","__hasOwnProp$2","__propIsEnum$2","__defNormalProp$2","__spreadValues$2","__spreadProps$2","createGrid","getColumnPosition","getColumnStartIndexForOffset","getColumnStopIndexForStartIndex","getEstimatedTotalHeight","getEstimatedTotalWidth","getColumnOffset","getRowOffset","getRowPosition","getRowStartIndexForOffset","getRowStopIndexForStartIndex","xAxisScrollDir","yAxisScrollDir","columnsToRender","rowsToRender","estimatedTotalHeight","estimatedTotalWidth","columnCacheStart","columnCacheEnd","columnVisibleStart","columnVisibleEnd","rowCacheStart","rowCacheEnd","rowVisibleStart","rowVisibleEnd","_scrollLeft","rowIndex","columnIdx","scrollBarWidth","_cache","estimatedHeight","estimatedWidth","columnIndex","rtl","columnStart","columnEnd","rowStart","rowEnd","row","column","SCOPE$1","FixedSizeGrid","lastColumnOffset","align","lastRowOffset","visibleColumnsCount","numVisibleRows","SCOPE$2","ACCESS_SIZER_KEY_MAP","ACCESS_LAST_VISITED_KEY_MAP","getItemFromCache$1","gridCache","cachedItems","sizer","lastVisited","bs$1","es$1","findItem$1","lastVisitedItemOffset","lastVisitedRowIndex","sizeOfVisitedRows","unvisitedItems","sizeOfUnvisitedItems","lastVisitedColumnIndex","sizeOfVisitedColumns","ACCESS_ESTIMATED_SIZE_KEY_MAP","estimatedSizeAssociates","estimatedSize","FixedSizeGrid$1","DynamicSizeGrid"],"mappings":"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","sourcesContent":["import { isNumber, $, isString } from '../utils/util';\nimport throwError from '../utils/error';\nimport { defineComponent, ref, reactive, computed, watch, onMounted, onBeforeUnmount, h, withModifiers, getCurrentInstance, onUpdated, resolveDynamicComponent, nextTick } from 'vue';\nimport memo from 'lodash/memoize';\nimport isServer from '../utils/isServer';\nimport { cAF, rAF } from '../utils/raf';\nimport { on, off } from '../utils/dom';\nimport getScrollBarWidth from '../utils/scrollbar-width';\n\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst NOOP = () => { };\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isObject = (val) => val !== null && typeof val === 'object';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst DEFAULT_DYNAMIC_LIST_ITEM_SIZE = 50;\nconst ITEM_RENDER_EVT = \"item-rendered\";\nconst SCROLL_EVT = \"scroll\";\nconst FORWARD = \"forward\";\nconst BACKWARD = \"backward\";\nconst AUTO_ALIGNMENT = \"auto\";\nconst SMART_ALIGNMENT = \"smart\";\nconst START_ALIGNMENT = \"start\";\nconst CENTERED_ALIGNMENT = \"center\";\nconst END_ALIGNMENT = \"end\";\nconst HORIZONTAL = \"horizontal\";\nconst VERTICAL = \"vertical\";\nconst LTR = \"ltr\";\nconst RTL = \"rtl\";\nconst RTL_OFFSET_NAG = \"negative\";\nconst RTL_OFFSET_POS_ASC = \"positive-ascending\";\nconst RTL_OFFSET_POS_DESC = \"positive-descending\";\nconst DefaultListProps = {\n  cache: {\n    type: Number,\n    default: 2\n  },\n  className: {\n    type: String,\n    default: \"\"\n  },\n  containerElement: {\n    type: [String, Object],\n    default: \"div\"\n  },\n  data: {\n    type: [Array],\n    default: () => []\n  },\n  direction: {\n    type: String,\n    default: \"ltr\",\n    validator: (val) => {\n      return val === LTR || val === RTL;\n    }\n  },\n  estimatedItemSize: {\n    type: [Number]\n  },\n  height: {\n    type: [String, Number],\n    required: true\n  },\n  layout: {\n    type: String,\n    default: VERTICAL\n  },\n  initScrollOffset: {\n    type: Number,\n    default: 0\n  },\n  innerElement: {\n    type: [String, Object],\n    default: \"div\"\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  itemSize: {\n    type: [Number, Function],\n    required: true\n  },\n  style: {\n    type: [Object, String, Array],\n    default: () => ({})\n  },\n  useIsScrolling: {\n    type: Boolean,\n    default: false\n  },\n  width: {\n    type: [Number, String],\n    required: true\n  }\n};\nconst DefaultGridProps = {\n  className: DefaultListProps.className,\n  columnCache: DefaultListProps.cache,\n  columnWidth: DefaultListProps.itemSize,\n  containerElement: DefaultListProps.containerElement,\n  data: DefaultListProps.data,\n  direction: DefaultListProps.direction,\n  estimatedColumnWidth: DefaultListProps.estimatedItemSize,\n  estimatedRowHeight: DefaultListProps.estimatedItemSize,\n  height: __spreadProps(__spreadValues({}, DefaultListProps.height), {\n    validator: (val) => isNumber(val)\n  }),\n  initScrollLeft: DefaultListProps.initScrollOffset,\n  initScrollTop: DefaultListProps.initScrollOffset,\n  innerElement: DefaultListProps.innerElement,\n  rowCache: DefaultListProps.cache,\n  rowHeight: DefaultListProps.itemSize,\n  style: DefaultListProps.style,\n  useIsScrolling: DefaultListProps.useIsScrolling,\n  width: __spreadProps(__spreadValues({}, DefaultListProps.width), {\n    validator: (val) => {\n      return isNumber(val);\n    }\n  }),\n  totalColumn: DefaultListProps.total,\n  totalRow: DefaultListProps.total\n};\nconst DefaultScrollBarProps = {\n  layout: DefaultListProps.layout,\n  total: Number,\n  ratio: Number,\n  clientSize: Number,\n  scrollFrom: Number,\n  visible: Boolean\n};\nconst ScrollbarDirKey = {\n  [HORIZONTAL]: \"left\",\n  [VERTICAL]: \"top\"\n};\nconst SCROLLBAR_MIN_SIZE = 20;\n\nconst getScrollDir = (prev, cur) => prev < cur ? FORWARD : BACKWARD;\nconst isHorizontal = (dir) => dir === LTR || dir === RTL || dir === HORIZONTAL;\nconst isRTL = (dir) => dir === RTL;\nlet cachedRTLResult = null;\nfunction getRTLOffsetType(recalculate = false) {\n  if (cachedRTLResult === null || recalculate) {\n    const outerDiv = document.createElement(\"div\");\n    const outerStyle = outerDiv.style;\n    outerStyle.width = \"50px\";\n    outerStyle.height = \"50px\";\n    outerStyle.overflow = \"scroll\";\n    outerStyle.direction = \"rtl\";\n    const innerDiv = document.createElement(\"div\");\n    const innerStyle = innerDiv.style;\n    innerStyle.width = \"100px\";\n    innerStyle.height = \"100px\";\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = RTL_OFFSET_POS_DESC;\n    } else {\n      outerDiv.scrollLeft = 1;\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = RTL_OFFSET_NAG;\n      } else {\n        cachedRTLResult = RTL_OFFSET_POS_ASC;\n      }\n    }\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n  return cachedRTLResult;\n}\nfunction renderThumbStyle({ move, size, bar }, layout) {\n  const style = {};\n  const translate = `translate${bar.axis}(${move}px)`;\n  style[bar.size] = size;\n  style.transform = translate;\n  style.msTransform = translate;\n  style.webkitTransform = translate;\n  if (layout === \"horizontal\") {\n    style.height = \"100%\";\n  } else {\n    style.width = \"100%\";\n  }\n  return style;\n}\nconst isFF = typeof navigator !== \"undefined\" && isObject(navigator) && /Firefox/i.test(navigator.userAgent);\n\nconst LayoutKeys = {\n  [HORIZONTAL]: \"deltaX\",\n  [VERTICAL]: \"deltaY\"\n};\nconst useWheel = ({\n  atEndEdge,\n  atStartEdge,\n  layout\n}, onWheelDelta) => {\n  let frameHandle = null;\n  let offset = 0;\n  const hasReachedEdge = (offset2) => {\n    const edgeReached = offset2 < 0 && atStartEdge.value || offset2 > 0 && atEndEdge.value;\n    return edgeReached;\n  };\n  const onWheel = (e) => {\n    cAF(frameHandle);\n    const newOffset = e[LayoutKeys[layout.value]];\n    if (hasReachedEdge(offset) && hasReachedEdge(offset + newOffset))\n      return;\n    offset += newOffset;\n    if (!isFF) {\n      e.preventDefault();\n    }\n    frameHandle = rAF(() => {\n      onWheelDelta(offset);\n      offset = 0;\n    });\n  };\n  return {\n    hasReachedEdge,\n    onWheel\n  };\n};\n\nconst BAR_MAP = {\n  vertical: {\n    offset: \"offsetHeight\",\n    scroll: \"scrollTop\",\n    scrollSize: \"scrollHeight\",\n    size: \"height\",\n    key: \"vertical\",\n    axis: \"Y\",\n    client: \"clientY\",\n    direction: \"top\"\n  },\n  horizontal: {\n    offset: \"offsetWidth\",\n    scroll: \"scrollLeft\",\n    scrollSize: \"scrollWidth\",\n    size: \"width\",\n    key: \"horizontal\",\n    axis: \"X\",\n    client: \"clientX\",\n    direction: \"left\"\n  }\n};\n\nconst ScrollBar = defineComponent({\n  name: \"ElVirtualScrollBar\",\n  props: DefaultScrollBarProps,\n  emits: [\"scroll\", \"start-move\", \"stop-move\"],\n  setup(props, { emit }) {\n    const trackRef = ref(null);\n    const thumbRef = ref(null);\n    let frameHandle = null;\n    let onselectstartStore = null;\n    const state = reactive({\n      isDragging: false,\n      traveled: 0\n    });\n    const bar = computed(() => BAR_MAP[props.layout]);\n    const trackStyle = computed(() => ({\n      display: props.visible ? null : \"none\",\n      position: \"absolute\",\n      width: HORIZONTAL === props.layout ? \"100%\" : \"6px\",\n      height: HORIZONTAL === props.layout ? \"6px\" : \"100%\",\n      [ScrollbarDirKey[props.layout]]: \"2px\",\n      right: \"2px\",\n      bottom: \"2px\",\n      borderRadius: \"4px\"\n    }));\n    const thumbSize = computed(() => {\n      if (props.ratio >= 100) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (props.ratio >= 50) {\n        return props.ratio * props.clientSize / 100;\n      }\n      const SCROLLBAR_MAX_SIZE = props.clientSize / 3;\n      return Math.floor(Math.min(Math.max(props.ratio * props.clientSize, SCROLLBAR_MIN_SIZE), SCROLLBAR_MAX_SIZE));\n    });\n    const thumbStyle = computed(() => {\n      if (!Number.isFinite(thumbSize.value)) {\n        return {\n          display: \"none\"\n        };\n      }\n      const thumb = `${thumbSize.value}px`;\n      const style = renderThumbStyle({\n        bar: bar.value,\n        size: thumb,\n        move: state.traveled\n      }, props.layout);\n      return style;\n    });\n    const totalSteps = computed(() => Math.floor(props.clientSize - thumbSize.value - 4));\n    const attachEvents = () => {\n      on(window, \"mousemove\", onMouseMove);\n      on(window, \"mouseup\", onMouseUp);\n      const thumbEl = thumbRef.value;\n      onselectstartStore = document.onselectstart;\n      document.onselectstart = () => false;\n      on(thumbEl, \"touchmove\", onMouseMove);\n      on(thumbEl, \"touchend\", onMouseUp);\n    };\n    const detachEvents = () => {\n      off(window, \"mousemove\", onMouseMove);\n      off(window, \"mouseup\", onMouseUp);\n      document.onselectstart = onselectstartStore;\n      onselectstartStore = null;\n      const thumbEl = thumbRef.value;\n      off(thumbEl, \"touchmove\", onMouseMove);\n      off(thumbEl, \"touchend\", onMouseUp);\n    };\n    const onThumbMouseDown = (e) => {\n      e.stopImmediatePropagation();\n      if (e.ctrlKey || [1, 2].includes(e.button)) {\n        return;\n      }\n      state.isDragging = true;\n      state[bar.value.axis] = e.currentTarget[bar.value.offset] - (e[bar.value.client] - e.currentTarget.getBoundingClientRect()[bar.value.direction]);\n      emit(\"start-move\");\n      attachEvents();\n    };\n    const onMouseUp = () => {\n      state.isDragging = false;\n      state[bar.value.axis] = 0;\n      emit(\"stop-move\");\n      detachEvents();\n    };\n    const onMouseMove = (e) => {\n      const { isDragging } = state;\n      if (!isDragging)\n        return;\n      const prevPage = state[bar.value.axis];\n      if (!prevPage)\n        return;\n      cAF(frameHandle);\n      const offset = (trackRef.value.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]) * -1;\n      const thumbClickPosition = thumbRef.value[bar.value.offset] - prevPage;\n      const distance = offset - thumbClickPosition;\n      frameHandle = rAF(() => {\n        state.traveled = Math.max(2, Math.min(distance, totalSteps.value));\n        emit(\"scroll\", distance, totalSteps.value);\n      });\n    };\n    const onScrollbarTouchStart = (e) => e.preventDefault();\n    watch(() => props.scrollFrom, (v) => {\n      if (state.isDragging)\n        return;\n      state.traveled = Math.ceil(v * props.clientSize / (props.clientSize / totalSteps.value));\n    });\n    onMounted(() => {\n      if (isServer)\n        return;\n      on(trackRef.value, \"touchstart\", onScrollbarTouchStart);\n      on(thumbRef.value, \"touchstart\", onThumbMouseDown);\n    });\n    onBeforeUnmount(() => {\n      off(trackRef.value, \"touchstart\", onScrollbarTouchStart);\n      detachEvents();\n    });\n    return () => {\n      return h(\"div\", {\n        role: \"presentation\",\n        ref: trackRef,\n        class: \"el-virtual-scrollbar\",\n        style: trackStyle.value,\n        onMousedown: withModifiers(NOOP, [\"stop\", \"prevent\"])\n      }, h(\"div\", {\n        ref: thumbRef,\n        class: \"el-scrollbar__thumb\",\n        style: thumbStyle.value,\n        onMousedown: onThumbMouseDown\n      }, null));\n    };\n  }\n});\n\nvar __defProp$1 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\nconst createList = ({\n  name,\n  getOffset,\n  getItemSize,\n  getItemOffset,\n  getEstimatedTotalSize,\n  getStartIndexForOffset,\n  getStopIndexForStartIndex,\n  initCache,\n  clearCache,\n  validateProps\n}) => {\n  return defineComponent({\n    name: name != null ? name : \"ElVirtualList\",\n    props: DefaultListProps,\n    emits: [ITEM_RENDER_EVT, SCROLL_EVT],\n    setup(props, { emit, expose }) {\n      validateProps(props);\n      const instance = getCurrentInstance();\n      const dynamicSizeCache = ref(initCache(props, instance));\n      const windowRef = ref(null);\n      const innerRef = ref(null);\n      const scrollbarRef = ref(null);\n      const states = ref({\n        isScrolling: false,\n        scrollDir: \"forward\",\n        scrollOffset: isNumber(props.initScrollOffset) ? props.initScrollOffset : 0,\n        updateRequested: false,\n        isScrollbarDragging: false\n      });\n      const itemsToRender = computed(() => {\n        const { total, cache } = props;\n        const { isScrolling, scrollDir, scrollOffset } = $(states);\n        if (total === 0) {\n          return [0, 0, 0, 0];\n        }\n        const startIndex = getStartIndexForOffset(props, scrollOffset, $(dynamicSizeCache));\n        const stopIndex = getStopIndexForStartIndex(props, startIndex, scrollOffset, $(dynamicSizeCache));\n        const cacheBackward = !isScrolling || scrollDir === BACKWARD ? Math.max(1, cache) : 1;\n        const cacheForward = !isScrolling || scrollDir === FORWARD ? Math.max(1, cache) : 1;\n        return [\n          Math.max(0, startIndex - cacheBackward),\n          Math.max(0, Math.min(total - 1, stopIndex + cacheForward)),\n          startIndex,\n          stopIndex\n        ];\n      });\n      const estimatedTotalSize = computed(() => getEstimatedTotalSize(props, $(dynamicSizeCache)));\n      const _isHorizontal = computed(() => isHorizontal(props.layout));\n      const windowStyle = computed(() => [\n        {\n          position: \"relative\",\n          overflow: \"hidden\",\n          WebkitOverflowScrolling: \"touch\",\n          willChange: \"transform\"\n        },\n        __spreadValues$1({\n          direction: props.direction,\n          height: isNumber(props.height) ? `${props.height}px` : props.height,\n          width: isNumber(props.width) ? `${props.width}px` : props.width\n        }, props.style)\n      ]);\n      const innerStyle = computed(() => {\n        const size = $(estimatedTotalSize);\n        const horizontal = $(_isHorizontal);\n        return {\n          height: horizontal ? \"100%\" : `${size}px`,\n          pointerEvents: $(states).isScrolling ? \"none\" : void 0,\n          width: horizontal ? `${size}px` : \"100%\"\n        };\n      });\n      const clientSize = computed(() => _isHorizontal.value ? props.width : props.height);\n      const {\n        onWheel\n      } = useWheel({\n        atStartEdge: computed(() => states.value.scrollOffset <= 0),\n        atEndEdge: computed(() => states.value.scrollOffset >= estimatedTotalSize.value),\n        layout: computed(() => props.layout)\n      }, (offset) => {\n        var _a, _b;\n        (_b = (_a = scrollbarRef.value).onMouseUp) == null ? void 0 : _b.call(_a);\n        scrollTo(Math.min(states.value.scrollOffset + offset, estimatedTotalSize.value - clientSize.value));\n      });\n      const emitEvents = () => {\n        const { total } = props;\n        if (total > 0) {\n          const [cacheStart, cacheEnd, visibleStart, visibleEnd] = $(itemsToRender);\n          emit(ITEM_RENDER_EVT, cacheStart, cacheEnd, visibleStart, visibleEnd);\n        }\n        const { scrollDir, scrollOffset, updateRequested } = $(states);\n        emit(SCROLL_EVT, scrollDir, scrollOffset, updateRequested);\n      };\n      const scrollVertically = (e) => {\n        const { clientHeight, scrollHeight, scrollTop } = e.currentTarget;\n        const _states = $(states);\n        if (_states.scrollOffset === scrollTop) {\n          return;\n        }\n        const scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n        states.value = __spreadProps$1(__spreadValues$1({}, _states), {\n          isScrolling: true,\n          scrollDir: getScrollDir(_states.scrollOffset, scrollOffset),\n          scrollOffset,\n          updateRequested: false\n        });\n        nextTick(resetIsScrolling);\n      };\n      const scrollHorizontally = (e) => {\n        const { clientWidth, scrollLeft, scrollWidth } = e.currentTarget;\n        const _states = $(states);\n        if (_states.scrollOffset === scrollLeft) {\n          return;\n        }\n        const { direction } = props;\n        let scrollOffset = scrollLeft;\n        if (direction === RTL) {\n          switch (getRTLOffsetType()) {\n            case RTL_OFFSET_NAG: {\n              scrollOffset = -scrollLeft;\n              break;\n            }\n            case RTL_OFFSET_POS_DESC: {\n              scrollOffset = scrollWidth - clientWidth - scrollLeft;\n              break;\n            }\n          }\n        }\n        scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n        states.value = __spreadProps$1(__spreadValues$1({}, _states), {\n          isScrolling: true,\n          scrollDir: getScrollDir(_states.scrollOffset, scrollOffset),\n          scrollOffset,\n          updateRequested: false\n        });\n        nextTick(resetIsScrolling);\n      };\n      const onScroll = (e) => {\n        $(_isHorizontal) ? scrollHorizontally(e) : scrollVertically(e);\n        emitEvents();\n      };\n      const onScrollbarScroll = (distanceToGo, totalSteps) => {\n        const offset = (estimatedTotalSize.value - clientSize.value) / totalSteps * distanceToGo;\n        scrollTo(Math.min(estimatedTotalSize.value - clientSize.value, offset));\n      };\n      const getItemStyleCache = memo((_, __, ___) => ({}));\n      const scrollTo = (offset) => {\n        offset = Math.max(offset, 0);\n        if (offset === $(states).scrollOffset) {\n          return;\n        }\n        states.value = __spreadProps$1(__spreadValues$1({}, $(states)), {\n          scrollOffset: offset,\n          scrollDir: getScrollDir($(states).scrollOffset, offset),\n          updateRequested: true\n        });\n        nextTick(resetIsScrolling);\n      };\n      const scrollToItem = (idx, alignment = AUTO_ALIGNMENT) => {\n        const { scrollOffset } = $(states);\n        idx = Math.max(0, Math.min(idx, props.total - 1));\n        scrollTo(getOffset(props, idx, alignment, scrollOffset, $(dynamicSizeCache)));\n      };\n      const getItemStyle = (idx) => {\n        const { direction, itemSize, layout } = props;\n        const itemStyleCache = getItemStyleCache(clearCache && itemSize, clearCache && layout, clearCache && direction);\n        let style;\n        if (hasOwn(itemStyleCache, String(idx))) {\n          style = itemStyleCache[idx];\n        } else {\n          const offset = getItemOffset(props, idx, $(dynamicSizeCache));\n          const size = getItemSize(props, idx, $(dynamicSizeCache));\n          const horizontal = $(_isHorizontal);\n          const isRtl = direction === RTL;\n          const offsetHorizontal = horizontal ? offset : 0;\n          itemStyleCache[idx] = style = {\n            position: \"absolute\",\n            left: isRtl ? void 0 : `${offsetHorizontal}px`,\n            right: isRtl ? `${offsetHorizontal}px` : void 0,\n            top: !horizontal ? `${offset}px` : 0,\n            height: !horizontal ? `${size}px` : \"100%\",\n            width: horizontal ? `${size}px` : \"100%\"\n          };\n        }\n        return style;\n      };\n      const resetIsScrolling = () => {\n        states.value.isScrolling = false;\n        nextTick(() => {\n          getItemStyleCache(-1, null, null);\n        });\n      };\n      onMounted(() => {\n        if (isServer)\n          return;\n        const { initScrollOffset } = props;\n        const windowElement = $(windowRef);\n        if (isNumber(initScrollOffset) && windowElement !== null) {\n          if ($(_isHorizontal)) {\n            windowElement.scrollLeft = initScrollOffset;\n          } else {\n            windowElement.scrollTop = initScrollOffset;\n          }\n        }\n        emitEvents();\n      });\n      onUpdated(() => {\n        const { direction, layout } = props;\n        const { scrollOffset, updateRequested } = $(states);\n        if (updateRequested && $(windowRef) !== null) {\n          const windowElement = $(windowRef);\n          if (layout === HORIZONTAL) {\n            if (direction === RTL) {\n              switch (getRTLOffsetType()) {\n                case \"negative\": {\n                  windowElement.scrollLeft = -scrollOffset;\n                  break;\n                }\n                case \"positive-ascending\": {\n                  windowElement.scrollLeft = scrollOffset;\n                  break;\n                }\n                default: {\n                  const { clientWidth, scrollWidth } = windowElement;\n                  windowElement.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                  break;\n                }\n              }\n            } else {\n              windowElement.scrollLeft = scrollOffset;\n            }\n          } else {\n            windowElement.scrollTop = scrollOffset;\n          }\n        }\n      });\n      const api = {\n        clientSize,\n        estimatedTotalSize,\n        windowStyle,\n        windowRef,\n        innerRef,\n        innerStyle,\n        itemsToRender,\n        scrollbarRef,\n        states,\n        getItemStyle,\n        onScroll,\n        onScrollbarScroll,\n        onWheel,\n        scrollTo,\n        scrollToItem\n      };\n      expose({\n        windowRef,\n        innerRef,\n        getItemStyleCache,\n        scrollTo,\n        scrollToItem,\n        states\n      });\n      return api;\n    },\n    render(ctx) {\n      var _a;\n      const {\n        $slots,\n        className,\n        clientSize,\n        containerElement,\n        data,\n        getItemStyle,\n        innerElement,\n        itemsToRender,\n        innerStyle,\n        layout,\n        total,\n        onScroll,\n        onScrollbarScroll,\n        onWheel,\n        states,\n        useIsScrolling,\n        windowStyle\n      } = ctx;\n      const [start, end] = itemsToRender;\n      const Container = resolveDynamicComponent(containerElement);\n      const Inner = resolveDynamicComponent(innerElement);\n      const children = [];\n      if (total > 0) {\n        for (let i = start; i <= end; i++) {\n          children.push((_a = $slots.default) == null ? void 0 : _a.call($slots, {\n            data,\n            key: i,\n            index: i,\n            isScrolling: useIsScrolling ? states.isScrolling : void 0,\n            style: getItemStyle(i)\n          }));\n        }\n      }\n      const InnerNode = [h(Inner, {\n        style: innerStyle,\n        ref: \"innerRef\"\n      }, !isString(Inner) ? {\n        default: () => children\n      } : children)];\n      const scrollbar = h(ScrollBar, {\n        ref: \"scrollbarRef\",\n        clientSize,\n        layout,\n        onScroll: onScrollbarScroll,\n        ratio: clientSize * 100 / this.estimatedTotalSize,\n        scrollFrom: states.scrollOffset / (this.estimatedTotalSize - clientSize),\n        total,\n        visible: true\n      });\n      const listContainer = h(Container, {\n        class: className,\n        style: windowStyle,\n        onScroll,\n        onWheel,\n        ref: \"windowRef\",\n        key: 0\n      }, !isString(Container) ? { default: () => [InnerNode] } : [InnerNode]);\n      return h(\"div\", {\n        key: 0,\n        class: \"el-vl__wrapper\"\n      }, [\n        listContainer,\n        scrollbar\n      ]);\n    }\n  });\n};\n\nconst FixedSizeList = createList({\n  name: \"ElFixedSizeList\",\n  getItemOffset: ({ itemSize }, index) => index * itemSize,\n  getItemSize: ({ itemSize }) => itemSize,\n  getEstimatedTotalSize: ({ total, itemSize }) => itemSize * total,\n  getOffset: ({ height, total, itemSize, layout, width }, index, alignment, scrollOffset) => {\n    const size = isHorizontal(layout) ? width : height;\n    if (process.env.ENV !== \"production\" && isString(size)) {\n      throwError(\"[ElVirtualList]\", `\n        You should set\n          width/height\n        to number when your layout is\n          horizontal/vertical\n      `);\n    }\n    const lastItemOffset = Math.max(0, total * itemSize - size);\n    const maxOffset = Math.min(lastItemOffset, index * itemSize);\n    const minOffset = Math.max(0, (index + 1) * itemSize - size);\n    if (alignment === SMART_ALIGNMENT) {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        alignment = AUTO_ALIGNMENT;\n      } else {\n        alignment = CENTERED_ALIGNMENT;\n      }\n    }\n    switch (alignment) {\n      case START_ALIGNMENT: {\n        return maxOffset;\n      }\n      case END_ALIGNMENT: {\n        return minOffset;\n      }\n      case CENTERED_ALIGNMENT: {\n        const middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n        if (middleOffset < Math.ceil(size / 2)) {\n          return 0;\n        } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n          return lastItemOffset;\n        } else {\n          return middleOffset;\n        }\n      }\n      case AUTO_ALIGNMENT:\n      default: {\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n      }\n    }\n  },\n  getStartIndexForOffset: ({ total, itemSize }, offset) => Math.max(0, Math.min(total - 1, Math.floor(offset / itemSize))),\n  getStopIndexForStartIndex: ({ height, total, itemSize, layout, width }, startIndex, scrollOffset) => {\n    const offset = startIndex * itemSize;\n    const size = isHorizontal(layout) ? width : height;\n    const numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(total - 1, startIndex + numVisibleItems - 1));\n  },\n  initCache() {\n    return void 0;\n  },\n  clearCache: true,\n  validateProps() {\n  }\n});\n\nconst SCOPE = \"ElDynamicSizeList\";\nconst getItemFromCache = (props, index, listCache) => {\n  const { itemSize } = props;\n  const { items, lastVisitedIndex } = listCache;\n  if (index > lastVisitedIndex) {\n    let offset = 0;\n    if (lastVisitedIndex >= 0) {\n      const item = items[lastVisitedIndex];\n      offset = item.offset + item.size;\n    }\n    for (let i = lastVisitedIndex + 1; i <= index; i++) {\n      const size = itemSize(i);\n      items[i] = {\n        offset,\n        size\n      };\n      offset += size;\n    }\n    listCache.lastVisitedIndex = index;\n  }\n  return items[index];\n};\nconst findItem = (props, listCache, offset) => {\n  const { items, lastVisitedIndex } = listCache;\n  const lastVisitedOffset = lastVisitedIndex > 0 ? items[lastVisitedIndex].offset : 0;\n  if (lastVisitedOffset >= offset) {\n    return bs(props, listCache, 0, lastVisitedIndex, offset);\n  }\n  return es(props, listCache, Math.max(0, lastVisitedIndex), offset);\n};\nconst bs = (props, listCache, low, high, offset) => {\n  while (low <= high) {\n    const mid = low + Math.floor((high - low) / 2);\n    const currentOffset = getItemFromCache(props, mid, listCache).offset;\n    if (currentOffset === offset) {\n      return mid;\n    } else if (currentOffset < offset) {\n      low = mid + 1;\n    } else if (currentOffset > offset) {\n      high = mid - 1;\n    }\n  }\n  return Math.max(0, low - 1);\n};\nconst es = (props, listCache, index, offset) => {\n  const { total } = props;\n  let exponent = 1;\n  while (index < total && getItemFromCache(props, index, listCache).offset < offset) {\n    index += exponent;\n    exponent *= 2;\n  }\n  return bs(props, listCache, Math.floor(index / 2), Math.min(index, total - 1), offset);\n};\nconst getEstimatedTotalSize = ({ total }, { items, estimatedItemSize, lastVisitedIndex }) => {\n  let totalSizeOfMeasuredItems = 0;\n  if (lastVisitedIndex >= total) {\n    lastVisitedIndex = total - 1;\n  }\n  if (lastVisitedIndex >= 0) {\n    const item = items[lastVisitedIndex];\n    totalSizeOfMeasuredItems = item.offset + item.size;\n  }\n  const numUnmeasuredItems = total - lastVisitedIndex - 1;\n  const totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\nconst DynamicSizeList = createList({\n  name: \"ElDynamicSizeList\",\n  getItemOffset: (props, index, listCache) => getItemFromCache(props, index, listCache).offset,\n  getItemSize: (_, index, { items }) => items[index].size,\n  getEstimatedTotalSize,\n  getOffset: (props, index, alignment, scrollOffset, listCache) => {\n    const { height, layout, width } = props;\n    const size = isHorizontal(layout) ? width : height;\n    const item = getItemFromCache(props, index, listCache);\n    const estimatedTotalSize = getEstimatedTotalSize(props, listCache);\n    const maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, item.offset));\n    const minOffset = Math.max(0, item.offset - size + item.size);\n    if (alignment === SMART_ALIGNMENT) {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        alignment = AUTO_ALIGNMENT;\n      } else {\n        alignment = CENTERED_ALIGNMENT;\n      }\n    }\n    switch (alignment) {\n      case START_ALIGNMENT: {\n        return maxOffset;\n      }\n      case END_ALIGNMENT: {\n        return minOffset;\n      }\n      case CENTERED_ALIGNMENT: {\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n      }\n      case AUTO_ALIGNMENT:\n      default: {\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n      }\n    }\n  },\n  getStartIndexForOffset: (props, offset, listCache) => findItem(props, listCache, offset),\n  getStopIndexForStartIndex: (props, startIndex, scrollOffset, listCache) => {\n    const { height, total, layout, width } = props;\n    const size = isHorizontal(layout) ? width : height;\n    const item = getItemFromCache(props, startIndex, listCache);\n    const maxOffset = scrollOffset + size;\n    let offset = item.offset + item.size;\n    let stopIndex = startIndex;\n    while (stopIndex < total - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemFromCache(props, stopIndex, listCache).size;\n    }\n    return stopIndex;\n  },\n  initCache({ estimatedItemSize = DEFAULT_DYNAMIC_LIST_ITEM_SIZE }, instance) {\n    const cache = {\n      items: {},\n      estimatedItemSize,\n      lastVisitedIndex: -1\n    };\n    cache.clearCacheAfterIndex = (index, forceUpdate = true) => {\n      cache.lastVisitedIndex = Math.min(cache.lastVisitedIndex, index - 1);\n      instance.exposed.getItemStyleCache(-1);\n      if (forceUpdate) {\n        instance.proxy.$forceUpdate();\n      }\n    };\n    return cache;\n  },\n  clearCache: false,\n  validateProps: ({ itemSize }) => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof itemSize !== \"function\") {\n        throwError(SCOPE, `\n          itemSize is required as function, but the given value was ${typeof itemSize}\n        `);\n      }\n    }\n  }\n});\n\nvar __defProp$2 = Object.defineProperty;\nvar __defProps$2 = Object.defineProperties;\nvar __getOwnPropDescs$2 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$2 = (a, b) => __defProps$2(a, __getOwnPropDescs$2(b));\nconst createGrid = ({\n  name,\n  clearCache,\n  getColumnPosition,\n  getColumnStartIndexForOffset,\n  getColumnStopIndexForStartIndex,\n  getEstimatedTotalHeight,\n  getEstimatedTotalWidth,\n  getColumnOffset,\n  getRowOffset,\n  getRowPosition,\n  getRowStartIndexForOffset,\n  getRowStopIndexForStartIndex,\n  initCache,\n  validateProps\n}) => {\n  return defineComponent({\n    name: name != null ? name : \"ElVirtualList\",\n    props: DefaultGridProps,\n    emits: [ITEM_RENDER_EVT, SCROLL_EVT],\n    setup(props, { emit, expose }) {\n      validateProps(props);\n      const instance = getCurrentInstance();\n      const cache = ref(initCache(props, instance));\n      const windowRef = ref(null);\n      const innerRef = ref(null);\n      const states = ref({\n        isScrolling: false,\n        scrollLeft: isNumber(props.initScrollLeft) ? props.initScrollLeft : 0,\n        scrollTop: isNumber(props.initScrollTop) ? props.initScrollTop : 0,\n        updateRequested: false,\n        xAxisScrollDir: FORWARD,\n        yAxisScrollDir: FORWARD\n      });\n      const columnsToRender = computed(() => {\n        const { totalColumn, totalRow, columnCache } = props;\n        const { isScrolling, xAxisScrollDir, scrollLeft } = $(states);\n        if (totalColumn === 0 || totalRow === 0) {\n          return [0, 0, 0, 0];\n        }\n        const startIndex = getColumnStartIndexForOffset(props, scrollLeft, $(cache));\n        const stopIndex = getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, $(cache));\n        const cacheBackward = !isScrolling || xAxisScrollDir === BACKWARD ? Math.max(1, columnCache) : 1;\n        const cacheForward = !isScrolling || xAxisScrollDir === FORWARD ? Math.max(1, columnCache) : 1;\n        return [\n          Math.max(0, startIndex - cacheBackward),\n          Math.max(0, Math.min(totalColumn - 1, stopIndex + cacheForward)),\n          startIndex,\n          stopIndex\n        ];\n      });\n      const rowsToRender = computed(() => {\n        const { totalColumn, totalRow, rowCache } = props;\n        const { isScrolling, yAxisScrollDir, scrollTop } = $(states);\n        if (totalColumn === 0 || totalRow === 0) {\n          return [0, 0, 0, 0];\n        }\n        const startIndex = getRowStartIndexForOffset(props, scrollTop, $(cache));\n        const stopIndex = getRowStopIndexForStartIndex(props, startIndex, scrollTop, $(cache));\n        const cacheBackward = !isScrolling || yAxisScrollDir === BACKWARD ? Math.max(1, rowCache) : 1;\n        const cacheForward = !isScrolling || yAxisScrollDir === FORWARD ? Math.max(1, rowCache) : 1;\n        return [\n          Math.max(0, startIndex - cacheBackward),\n          Math.max(0, Math.min(totalRow - 1, stopIndex + cacheForward)),\n          startIndex,\n          stopIndex\n        ];\n      });\n      const estimatedTotalHeight = computed(() => getEstimatedTotalHeight(props, $(cache)));\n      const estimatedTotalWidth = computed(() => getEstimatedTotalWidth(props, $(cache)));\n      const windowStyle = computed(() => [\n        {\n          position: \"relative\",\n          overflow: \"auto\",\n          WebkitOverflowScrolling: \"touch\",\n          willChange: \"transform\"\n        },\n        __spreadValues$2({\n          direction: props.direction,\n          height: isNumber(props.height) ? `${props.height}px` : props.height,\n          width: isNumber(props.width) ? `${props.width}px` : props.width\n        }, props.style)\n      ]);\n      const innerStyle = computed(() => {\n        const width = `${$(estimatedTotalWidth)}px`;\n        const height = `${$(estimatedTotalHeight)}px`;\n        return {\n          height,\n          pointerEvents: $(states).isScrolling ? \"none\" : void 0,\n          width\n        };\n      });\n      const emitEvents = () => {\n        const { totalColumn, totalRow } = props;\n        if (totalColumn > 0 && totalRow > 0) {\n          const [columnCacheStart, columnCacheEnd, columnVisibleStart, columnVisibleEnd] = $(columnsToRender);\n          const [rowCacheStart, rowCacheEnd, rowVisibleStart, rowVisibleEnd] = $(rowsToRender);\n          emit(ITEM_RENDER_EVT, columnCacheStart, columnCacheEnd, rowCacheStart, rowCacheEnd, columnVisibleStart, columnVisibleEnd, rowVisibleStart, rowVisibleEnd);\n        }\n        const { scrollLeft, scrollTop, updateRequested, xAxisScrollDir, yAxisScrollDir } = $(states);\n        emit(SCROLL_EVT, xAxisScrollDir, scrollLeft, yAxisScrollDir, scrollTop, updateRequested);\n      };\n      const onScroll = (e) => {\n        const {\n          clientHeight,\n          clientWidth,\n          scrollHeight,\n          scrollLeft,\n          scrollTop,\n          scrollWidth\n        } = e.currentTarget;\n        const _states = $(states);\n        if (_states.scrollTop === scrollTop && _states.scrollLeft === scrollLeft) {\n          return;\n        }\n        let _scrollLeft = scrollLeft;\n        if (isRTL(props.direction)) {\n          switch (getRTLOffsetType()) {\n            case RTL_OFFSET_NAG:\n              _scrollLeft = -scrollLeft;\n              break;\n            case RTL_OFFSET_POS_DESC:\n              _scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        }\n        states.value = __spreadProps$2(__spreadValues$2({}, _states), {\n          isScrolling: true,\n          scrollLeft: _scrollLeft,\n          scrollTop: Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight)),\n          updateRequested: false,\n          xAxisScrollDir: getScrollDir(_states.scrollLeft, _scrollLeft),\n          yAxisScrollDir: getScrollDir(_states.scrollTop, scrollTop)\n        });\n        nextTick(resetIsScrolling);\n        emitEvents();\n      };\n      const getItemStyleCache = memo((_, __, ___) => ({}));\n      const scrollTo = ({\n        scrollLeft,\n        scrollTop\n      }) => {\n        scrollLeft = Math.max(scrollLeft, 0);\n        scrollTop = Math.max(scrollTop, 0);\n        const _states = $(states);\n        if (scrollTop === _states.scrollTop && scrollLeft === _states.scrollLeft) {\n          return;\n        }\n        states.value = __spreadProps$2(__spreadValues$2({}, _states), {\n          xAxisScrollDir: getScrollDir(_states.scrollLeft, scrollLeft),\n          yAxisScrollDir: getScrollDir(_states.scrollTop, scrollTop),\n          scrollLeft,\n          scrollTop,\n          updateRequested: true\n        });\n        nextTick(resetIsScrolling);\n      };\n      const scrollToItem = (rowIndex = 0, columnIdx = 0, alignment = AUTO_ALIGNMENT) => {\n        const _states = $(states);\n        columnIdx = Math.max(0, Math.min(columnIdx, props.totalColumn - 1));\n        rowIndex = Math.max(0, Math.min(rowIndex, props.totalRow - 1));\n        const scrollBarWidth = getScrollBarWidth();\n        const _cache = $(cache);\n        const estimatedHeight = getEstimatedTotalHeight(props, _cache);\n        const estimatedWidth = getEstimatedTotalWidth(props, _cache);\n        scrollTo({\n          scrollLeft: getColumnOffset(props, columnIdx, alignment, _states.scrollLeft, _cache, estimatedWidth > props.width ? scrollBarWidth : 0),\n          scrollTop: getRowOffset(props, rowIndex, alignment, _states.scrollTop, _cache, estimatedHeight > props.height ? scrollBarWidth : 0)\n        });\n      };\n      const getItemStyle = (rowIndex, columnIndex) => {\n        const { columnWidth, direction, rowHeight } = props;\n        const itemStyleCache = getItemStyleCache(clearCache && columnWidth, clearCache && rowHeight, clearCache && direction);\n        const key = `${rowIndex},${columnIndex}`;\n        if (hasOwn(itemStyleCache, key)) {\n          return itemStyleCache[key];\n        } else {\n          const [, left] = getColumnPosition(props, columnIndex, $(cache));\n          const _cache = $(cache);\n          const rtl = isRTL(direction);\n          const [height, top] = getRowPosition(props, rowIndex, _cache);\n          const [width] = getColumnPosition(props, columnIndex, _cache);\n          itemStyleCache[key] = {\n            position: \"absolute\",\n            left: rtl ? void 0 : `${left}px`,\n            right: rtl ? `${left}px` : void 0,\n            top: `${top}px`,\n            height: `${height}px`,\n            width: `${width}px`\n          };\n          return itemStyleCache[key];\n        }\n      };\n      const resetIsScrolling = () => {\n        states.value.isScrolling = false;\n        nextTick(() => {\n          getItemStyleCache(-1, null, null);\n        });\n      };\n      onMounted(() => {\n        if (isServer)\n          return;\n        const { initScrollLeft, initScrollTop } = props;\n        const windowElement = $(windowRef);\n        if (windowElement !== null) {\n          if (isNumber(initScrollLeft)) {\n            windowElement.scrollLeft = initScrollLeft;\n          }\n          if (isNumber(initScrollTop)) {\n            windowElement.scrollTop = initScrollTop;\n          }\n        }\n        emitEvents();\n      });\n      onUpdated(() => {\n        const { direction } = props;\n        const { scrollLeft, scrollTop, updateRequested } = $(states);\n        if (updateRequested && $(windowRef) !== null) {\n          const windowElement = $(windowRef);\n          if (direction === RTL) {\n            switch (getRTLOffsetType()) {\n              case RTL_OFFSET_NAG: {\n                windowElement.scrollLeft = -scrollLeft;\n                break;\n              }\n              case RTL_OFFSET_POS_ASC: {\n                windowElement.scrollLeft = scrollLeft;\n                break;\n              }\n              default: {\n                const { clientWidth, scrollWidth } = windowElement;\n                windowElement.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n              }\n            }\n          } else {\n            windowElement.scrollLeft = Math.max(0, scrollLeft);\n          }\n          windowElement.scrollTop = Math.max(0, scrollTop);\n        }\n      });\n      const api = {\n        windowStyle,\n        windowRef,\n        columnsToRender,\n        innerRef,\n        innerStyle,\n        states,\n        rowsToRender,\n        getItemStyle,\n        onScroll,\n        scrollTo,\n        scrollToItem\n      };\n      expose({\n        windowRef,\n        innerRef,\n        getItemStyleCache,\n        scrollTo,\n        scrollToItem,\n        states\n      });\n      return api;\n    },\n    render(ctx) {\n      var _a;\n      const {\n        $slots,\n        className,\n        containerElement,\n        columnsToRender,\n        data,\n        getItemStyle,\n        innerElement,\n        innerStyle,\n        rowsToRender,\n        onScroll,\n        states,\n        useIsScrolling,\n        windowStyle,\n        totalColumn,\n        totalRow\n      } = ctx;\n      const [columnStart, columnEnd] = columnsToRender;\n      const [rowStart, rowEnd] = rowsToRender;\n      const Container = resolveDynamicComponent(containerElement);\n      const Inner = resolveDynamicComponent(innerElement);\n      const children = [];\n      if (totalRow > 0 && totalColumn > 0) {\n        for (let row = rowStart; row <= rowEnd; row++) {\n          for (let column = columnStart; column <= columnEnd; column++) {\n            children.push((_a = $slots.default) == null ? void 0 : _a.call($slots, {\n              columnIndex: column,\n              data,\n              key: column,\n              isScrolling: useIsScrolling ? states.isScrolling : void 0,\n              style: getItemStyle(row, column),\n              rowIndex: row\n            }));\n          }\n        }\n      }\n      const InnerNode = [h(Inner, {\n        style: innerStyle,\n        ref: \"innerRef\"\n      }, !isString(Inner) ? {\n        default: () => children\n      } : children)];\n      return h(Container, {\n        class: className,\n        style: windowStyle,\n        onScroll,\n        ref: \"windowRef\"\n      }, !isString(Container) ? { default: () => InnerNode } : InnerNode);\n    }\n  });\n};\n\nconst SCOPE$1 = \"ElFixedSizeGrid\";\nconst FixedSizeGrid = createGrid({\n  name: \"ElFixedSizeGrid\",\n  getColumnPosition: ({ columnWidth }, index) => [\n    columnWidth,\n    index * columnWidth\n  ],\n  getRowPosition: ({ rowHeight }, index) => [\n    rowHeight,\n    index * rowHeight\n  ],\n  getEstimatedTotalHeight: ({ totalRow, rowHeight }) => rowHeight * totalRow,\n  getEstimatedTotalWidth: ({ totalColumn, columnWidth }) => columnWidth * totalColumn,\n  getColumnOffset: ({ totalColumn, columnWidth, width }, columnIndex, alignment, scrollLeft, _, scrollBarWidth) => {\n    width = Number(width);\n    const lastColumnOffset = Math.max(0, totalColumn * columnWidth - width);\n    const maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    const minOffset = Math.max(0, columnIndex * columnWidth - width + scrollBarWidth + columnWidth);\n    if (alignment === \"smart\") {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        alignment = AUTO_ALIGNMENT;\n      } else {\n        alignment = CENTERED_ALIGNMENT;\n      }\n    }\n    switch (alignment) {\n      case START_ALIGNMENT:\n        return maxOffset;\n      case END_ALIGNMENT:\n        return minOffset;\n      case CENTERED_ALIGNMENT:\n        const middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0;\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset;\n        } else {\n          return middleOffset;\n        }\n      case AUTO_ALIGNMENT:\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n    }\n  },\n  getRowOffset: ({ rowHeight, height, totalRow }, rowIndex, align, scrollTop, _, scrollBarWidth) => {\n    height = Number(height);\n    const lastRowOffset = Math.max(0, totalRow * rowHeight - height);\n    const maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    const minOffset = Math.max(0, rowIndex * rowHeight - height + scrollBarWidth + rowHeight);\n    if (align === SMART_ALIGNMENT) {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = AUTO_ALIGNMENT;\n      } else {\n        align = CENTERED_ALIGNMENT;\n      }\n    }\n    switch (align) {\n      case START_ALIGNMENT:\n        return maxOffset;\n      case END_ALIGNMENT:\n        return minOffset;\n      case CENTERED_ALIGNMENT:\n        const middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0;\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset;\n        } else {\n          return middleOffset;\n        }\n      case AUTO_ALIGNMENT:\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n    }\n  },\n  getColumnStartIndexForOffset: ({ columnWidth, totalColumn }, scrollLeft) => Math.max(0, Math.min(totalColumn - 1, Math.floor(scrollLeft / columnWidth))),\n  getColumnStopIndexForStartIndex: ({ columnWidth, totalColumn, width }, startIndex, scrollLeft) => {\n    const left = startIndex * columnWidth;\n    const visibleColumnsCount = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(totalColumn - 1, startIndex + visibleColumnsCount - 1));\n  },\n  getRowStartIndexForOffset: ({ rowHeight, totalRow }, scrollTop) => Math.max(0, Math.min(totalRow - 1, Math.floor(scrollTop / rowHeight))),\n  getRowStopIndexForStartIndex: ({ rowHeight, totalRow, height }, startIndex, scrollTop) => {\n    const top = startIndex * rowHeight;\n    const numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(totalRow - 1, startIndex + numVisibleRows - 1));\n  },\n  initCache: () => void 0,\n  clearCache: true,\n  validateProps: ({ columnWidth, rowHeight }) => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!isNumber(columnWidth)) {\n        throwError(SCOPE$1, `\n          \"columnWidth\" must be passed as number,\n            instead ${typeof columnWidth} was given.\n        `);\n      }\n      if (!isNumber(rowHeight)) {\n        throwError(SCOPE$1, `\n          \"columnWidth\" must be passed as number,\n            instead ${typeof rowHeight} was given.\n        `);\n      }\n    }\n  }\n});\n\nconst { max, min, floor } = Math;\nconst SCOPE$2 = \"ElDynamicSizeGrid\";\nconst ACCESS_SIZER_KEY_MAP = {\n  column: \"columnWidth\",\n  row: \"rowHeight\"\n};\nconst ACCESS_LAST_VISITED_KEY_MAP = {\n  column: \"lastVisitedColumnIndex\",\n  row: \"lastVisitedRowIndex\"\n};\nconst getItemFromCache$1 = (props, index, gridCache, type) => {\n  const [cachedItems, sizer, lastVisited] = [\n    gridCache[type],\n    props[ACCESS_SIZER_KEY_MAP[type]],\n    gridCache[ACCESS_LAST_VISITED_KEY_MAP[type]]\n  ];\n  if (index > lastVisited) {\n    let offset = 0;\n    if (lastVisited >= 0) {\n      const item = cachedItems[lastVisited];\n      offset = item.offset + item.size;\n    }\n    for (let i = lastVisited + 1; i <= index; i++) {\n      const size = sizer(i);\n      cachedItems[i] = {\n        offset,\n        size\n      };\n      offset += size;\n    }\n    gridCache[ACCESS_LAST_VISITED_KEY_MAP[type]] = index;\n  }\n  return cachedItems[index];\n};\nconst bs$1 = (props, gridCache, low, high, offset, type) => {\n  while (low <= high) {\n    const mid = low + floor((high - low) / 2);\n    const currentOffset = getItemFromCache$1(props, mid, gridCache, type).offset;\n    if (currentOffset === offset) {\n      return mid;\n    } else if (currentOffset < offset) {\n      low = mid + 1;\n    } else {\n      high = mid - 1;\n    }\n  }\n  return max(0, low - 1);\n};\nconst es$1 = (props, gridCache, idx, offset, type) => {\n  const total = type === \"column\" ? props.totalColumn : props.totalRow;\n  let exponent = 1;\n  while (idx < total && getItemFromCache$1(props, idx, gridCache, type).offset < offset) {\n    idx += exponent;\n    exponent *= 2;\n  }\n  return bs$1(props, gridCache, floor(idx / 2), min(idx, total - 1), offset, type);\n};\nconst findItem$1 = (props, gridCache, offset, type) => {\n  const [cache, lastVisitedIndex] = [\n    gridCache[type],\n    gridCache[ACCESS_LAST_VISITED_KEY_MAP[type]]\n  ];\n  const lastVisitedItemOffset = lastVisitedIndex > 0 ? cache[lastVisitedIndex].offset : 0;\n  if (lastVisitedItemOffset >= offset) {\n    return bs$1(props, gridCache, 0, lastVisitedIndex, offset, type);\n  }\n  return es$1(props, gridCache, max(0, lastVisitedIndex), offset, type);\n};\nconst getEstimatedTotalHeight = ({ totalRow }, {\n  estimatedRowHeight,\n  lastVisitedRowIndex,\n  row\n}) => {\n  let sizeOfVisitedRows = 0;\n  if (lastVisitedRowIndex >= totalRow) {\n    lastVisitedRowIndex = totalRow - 1;\n  }\n  if (lastVisitedRowIndex >= 0) {\n    const item = row[lastVisitedRowIndex];\n    sizeOfVisitedRows = item.offset + item.size;\n  }\n  const unvisitedItems = totalRow - lastVisitedRowIndex - 1;\n  const sizeOfUnvisitedItems = unvisitedItems * estimatedRowHeight;\n  return sizeOfVisitedRows + sizeOfUnvisitedItems;\n};\nconst getEstimatedTotalWidth = ({\n  totalColumn\n}, {\n  column,\n  estimatedColumnWidth,\n  lastVisitedColumnIndex\n}) => {\n  let sizeOfVisitedColumns = 0;\n  if (lastVisitedColumnIndex > totalColumn) {\n    lastVisitedColumnIndex = totalColumn - 1;\n  }\n  if (lastVisitedColumnIndex >= 0) {\n    const item = column[lastVisitedColumnIndex];\n    sizeOfVisitedColumns = item.offset + item.size;\n  }\n  const unvisitedItems = totalColumn - lastVisitedColumnIndex - 1;\n  const sizeOfUnvisitedItems = unvisitedItems * estimatedColumnWidth;\n  return sizeOfVisitedColumns + sizeOfUnvisitedItems;\n};\nconst ACCESS_ESTIMATED_SIZE_KEY_MAP = {\n  column: getEstimatedTotalWidth,\n  row: getEstimatedTotalHeight\n};\nconst getOffset = (props, index, alignment, scrollOffset, cache, type, scrollBarWidth) => {\n  const [\n    size,\n    estimatedSizeAssociates\n  ] = [\n    type === \"row\" ? props.height : props.width,\n    ACCESS_ESTIMATED_SIZE_KEY_MAP[type]\n  ];\n  const item = getItemFromCache$1(props, index, cache, type);\n  const estimatedSize = estimatedSizeAssociates(props, cache);\n  const maxOffset = max(0, min(estimatedSize - size, item.offset));\n  const minOffset = max(0, item.offset - size + scrollBarWidth + item.size);\n  if (alignment === SMART_ALIGNMENT) {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      alignment = AUTO_ALIGNMENT;\n    } else {\n      alignment = CENTERED_ALIGNMENT;\n    }\n  }\n  switch (alignment) {\n    case START_ALIGNMENT: {\n      return maxOffset;\n    }\n    case END_ALIGNMENT: {\n      return minOffset;\n    }\n    case CENTERED_ALIGNMENT: {\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n    }\n    case AUTO_ALIGNMENT:\n    default: {\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n    }\n  }\n};\nconst FixedSizeGrid$1 = createGrid({\n  name: \"ElDynamicSizeGrid\",\n  getColumnPosition: (props, idx, cache) => {\n    const item = getItemFromCache$1(props, idx, cache, \"column\");\n    return [item.size, item.offset];\n  },\n  getRowPosition: (props, idx, cache) => {\n    const item = getItemFromCache$1(props, idx, cache, \"row\");\n    return [item.size, item.offset];\n  },\n  getColumnOffset: (props, columnIndex, alignment, scrollLeft, cache, scrollBarWidth) => getOffset(props, columnIndex, alignment, scrollLeft, cache, \"column\", scrollBarWidth),\n  getRowOffset: (props, rowIndex, alignment, scrollTop, cache, scrollBarWidth) => getOffset(props, rowIndex, alignment, scrollTop, cache, \"row\", scrollBarWidth),\n  getColumnStartIndexForOffset: (props, scrollLeft, cache) => findItem$1(props, cache, scrollLeft, \"column\"),\n  getColumnStopIndexForStartIndex: (props, startIndex, scrollLeft, cache) => {\n    const item = getItemFromCache$1(props, startIndex, cache, \"column\");\n    const maxOffset = scrollLeft + props.width;\n    let offset = item.offset + item.size;\n    let stopIndex = startIndex;\n    while (stopIndex < props.totalColumn - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemFromCache$1(props, startIndex, cache, \"column\").size;\n    }\n    return stopIndex;\n  },\n  getEstimatedTotalHeight,\n  getEstimatedTotalWidth,\n  getRowStartIndexForOffset: (props, scrollTop, cache) => findItem$1(props, cache, scrollTop, \"row\"),\n  getRowStopIndexForStartIndex: (props, startIndex, scrollTop, cache) => {\n    const { totalRow, height } = props;\n    const item = getItemFromCache$1(props, startIndex, cache, \"row\");\n    const maxOffset = scrollTop + height;\n    let offset = item.size + item.offset;\n    let stopIndex = startIndex;\n    while (stopIndex < totalRow - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemFromCache$1(props, stopIndex, cache, \"row\").size;\n    }\n    return stopIndex;\n  },\n  initCache: ({\n    estimatedColumnWidth = DEFAULT_DYNAMIC_LIST_ITEM_SIZE,\n    estimatedRowHeight = DEFAULT_DYNAMIC_LIST_ITEM_SIZE\n  }) => {\n    const cache = {\n      column: {},\n      estimatedColumnWidth,\n      estimatedRowHeight,\n      lastVisitedColumnIndex: -1,\n      lastVisitedRowIndex: -1,\n      row: {}\n    };\n    return cache;\n  },\n  clearCache: true,\n  validateProps: ({ columnWidth, rowHeight }) => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!isFunction(columnWidth)) {\n        throwError(SCOPE$2, `\n          \"columnWidth\" must be passed as function,\n            instead ${typeof columnWidth} was given.\n        `);\n      }\n      if (!isFunction(rowHeight)) {\n        throwError(SCOPE$2, `\n          \"columnWidth\" must be passed as function,\n            instead ${typeof rowHeight} was given.\n        `);\n      }\n    }\n  }\n});\n\nexport { FixedSizeGrid$1 as DynamicSizeGrid, DynamicSizeList, FixedSizeGrid, FixedSizeList };\n"]},"metadata":{},"sourceType":"module"}