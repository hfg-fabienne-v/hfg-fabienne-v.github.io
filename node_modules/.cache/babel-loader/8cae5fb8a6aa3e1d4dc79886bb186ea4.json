{"ast":null,"code":"import _classCallCheck from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { EVENT_CODE, triggerEvent } from '../aria';\n\nvar SubMenu = /*#__PURE__*/function () {\n  function SubMenu(parent, domNode) {\n    _classCallCheck(this, SubMenu);\n\n    this.parent = parent;\n    this.domNode = domNode;\n    this.subIndex = 0;\n    this.subIndex = 0;\n    this.init();\n  }\n\n  _createClass(SubMenu, [{\n    key: \"init\",\n    value: function init() {\n      this.subMenuItems = this.domNode.querySelectorAll('li');\n      this.addListeners();\n    }\n  }, {\n    key: \"gotoSubIndex\",\n    value: function gotoSubIndex(idx) {\n      if (idx === this.subMenuItems.length) {\n        idx = 0;\n      } else if (idx < 0) {\n        idx = this.subMenuItems.length - 1;\n      }\n\n      this.subMenuItems[idx].focus();\n      this.subIndex = idx;\n    }\n  }, {\n    key: \"addListeners\",\n    value: function addListeners() {\n      var _this = this;\n\n      var parentNode = this.parent.domNode;\n      Array.prototype.forEach.call(this.subMenuItems, function (el) {\n        el.addEventListener('keydown', function (event) {\n          var prevDef = false;\n\n          switch (event.code) {\n            case EVENT_CODE.down:\n              {\n                _this.gotoSubIndex(_this.subIndex + 1);\n\n                prevDef = true;\n                break;\n              }\n\n            case EVENT_CODE.up:\n              {\n                _this.gotoSubIndex(_this.subIndex - 1);\n\n                prevDef = true;\n                break;\n              }\n\n            case EVENT_CODE.tab:\n              {\n                triggerEvent(parentNode, 'mouseleave');\n                break;\n              }\n\n            case EVENT_CODE.enter:\n            case EVENT_CODE.space:\n              {\n                prevDef = true;\n                event.currentTarget.click();\n                break;\n              }\n          }\n\n          if (prevDef) {\n            event.preventDefault();\n            event.stopPropagation();\n          }\n\n          return false;\n        });\n      });\n    }\n  }]);\n\n  return SubMenu;\n}();\n\nexport default SubMenu;","map":{"version":3,"sources":["/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/element-plus/es/utils/menu/submenu.js"],"names":["EVENT_CODE","triggerEvent","SubMenu","parent","domNode","subIndex","init","subMenuItems","querySelectorAll","addListeners","idx","length","focus","parentNode","Array","prototype","forEach","call","el","addEventListener","event","prevDef","code","down","gotoSubIndex","up","tab","enter","space","currentTarget","click","preventDefault","stopPropagation"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,YAArB,QAAyC,SAAzC;;IAEMC,O;AACF,mBAAYC,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;;AACzB,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKA,QAAL,GAAgB,CAAhB;AACA,SAAKC,IAAL;AACH;;;;WACD,gBAAO;AACH,WAAKC,YAAL,GAAoB,KAAKH,OAAL,CAAaI,gBAAb,CAA8B,IAA9B,CAApB;AACA,WAAKC,YAAL;AACH;;;WACD,sBAAaC,GAAb,EAAkB;AACd,UAAIA,GAAG,KAAK,KAAKH,YAAL,CAAkBI,MAA9B,EAAsC;AAClCD,QAAAA,GAAG,GAAG,CAAN;AACH,OAFD,MAGK,IAAIA,GAAG,GAAG,CAAV,EAAa;AACdA,QAAAA,GAAG,GAAG,KAAKH,YAAL,CAAkBI,MAAlB,GAA2B,CAAjC;AACH;;AACD,WAAKJ,YAAL,CAAkBG,GAAlB,EAAuBE,KAAvB;AACA,WAAKP,QAAL,GAAgBK,GAAhB;AACH;;;WACD,wBAAe;AAAA;;AACX,UAAMG,UAAU,GAAG,KAAKV,MAAL,CAAYC,OAA/B;AACAU,MAAAA,KAAK,CAACC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6B,KAAKV,YAAlC,EAAgD,UAACW,EAAD,EAAQ;AACpDA,QAAAA,EAAE,CAACC,gBAAH,CAAoB,SAApB,EAA+B,UAACC,KAAD,EAAW;AACtC,cAAIC,OAAO,GAAG,KAAd;;AACA,kBAAQD,KAAK,CAACE,IAAd;AACI,iBAAKtB,UAAU,CAACuB,IAAhB;AAAsB;AAClB,gBAAA,KAAI,CAACC,YAAL,CAAkB,KAAI,CAACnB,QAAL,GAAgB,CAAlC;;AACAgB,gBAAAA,OAAO,GAAG,IAAV;AACA;AACH;;AACD,iBAAKrB,UAAU,CAACyB,EAAhB;AAAoB;AAChB,gBAAA,KAAI,CAACD,YAAL,CAAkB,KAAI,CAACnB,QAAL,GAAgB,CAAlC;;AACAgB,gBAAAA,OAAO,GAAG,IAAV;AACA;AACH;;AACD,iBAAKrB,UAAU,CAAC0B,GAAhB;AAAqB;AACjBzB,gBAAAA,YAAY,CAACY,UAAD,EAAa,YAAb,CAAZ;AACA;AACH;;AACD,iBAAKb,UAAU,CAAC2B,KAAhB;AACA,iBAAK3B,UAAU,CAAC4B,KAAhB;AAAuB;AACnBP,gBAAAA,OAAO,GAAG,IAAV;AACAD,gBAAAA,KAAK,CAACS,aAAN,CAAoBC,KAApB;AACA;AACH;AApBL;;AAsBA,cAAIT,OAAJ,EAAa;AACTD,YAAAA,KAAK,CAACW,cAAN;AACAX,YAAAA,KAAK,CAACY,eAAN;AACH;;AACD,iBAAO,KAAP;AACH,SA7BD;AA8BH,OA/BD;AAgCH;;;;;;AAGL,eAAe9B,OAAf","sourcesContent":["import { EVENT_CODE, triggerEvent } from '../aria';\n\nclass SubMenu {\r\n    constructor(parent, domNode) {\r\n        this.parent = parent;\r\n        this.domNode = domNode;\r\n        this.subIndex = 0;\r\n        this.subIndex = 0;\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.subMenuItems = this.domNode.querySelectorAll('li');\r\n        this.addListeners();\r\n    }\r\n    gotoSubIndex(idx) {\r\n        if (idx === this.subMenuItems.length) {\r\n            idx = 0;\r\n        }\r\n        else if (idx < 0) {\r\n            idx = this.subMenuItems.length - 1;\r\n        }\r\n        this.subMenuItems[idx].focus();\r\n        this.subIndex = idx;\r\n    }\r\n    addListeners() {\r\n        const parentNode = this.parent.domNode;\r\n        Array.prototype.forEach.call(this.subMenuItems, (el) => {\r\n            el.addEventListener('keydown', (event) => {\r\n                let prevDef = false;\r\n                switch (event.code) {\r\n                    case EVENT_CODE.down: {\r\n                        this.gotoSubIndex(this.subIndex + 1);\r\n                        prevDef = true;\r\n                        break;\r\n                    }\r\n                    case EVENT_CODE.up: {\r\n                        this.gotoSubIndex(this.subIndex - 1);\r\n                        prevDef = true;\r\n                        break;\r\n                    }\r\n                    case EVENT_CODE.tab: {\r\n                        triggerEvent(parentNode, 'mouseleave');\r\n                        break;\r\n                    }\r\n                    case EVENT_CODE.enter:\r\n                    case EVENT_CODE.space: {\r\n                        prevDef = true;\r\n                        event.currentTarget.click();\r\n                        break;\r\n                    }\r\n                }\r\n                if (prevDef) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                }\r\n                return false;\r\n            });\r\n        });\r\n    }\r\n}\n\nexport default SubMenu;\n"]},"metadata":{},"sourceType":"module"}