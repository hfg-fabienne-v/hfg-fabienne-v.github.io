{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.object.freeze.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport { defineComponent, ref, resolveComponent, openBlock, createBlock, TransitionGroup, withCtx, Fragment, renderList, withKeys, renderSlot, createCommentVNode, createVNode, createTextVNode, toDisplayString, inject, withModifiers, watch, computed, provide, getCurrentInstance, onBeforeUnmount, h } from 'vue';\nimport { elFormKey } from '../el-form';\nimport { useLocaleInject } from '../hooks';\nimport ElProgress from '../el-progress';\nimport cloneDeep from 'lodash/cloneDeep';\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\n\nvar EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nvar EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\n\nvar NOOP = function NOOP() {};\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar hasOwn = function hasOwn(val, key) {\n  return hasOwnProperty.call(val, key);\n};\n\nfunction getError(action, option, xhr) {\n  var msg;\n\n  if (xhr.response) {\n    msg = \"\".concat(xhr.response.error || xhr.response);\n  } else if (xhr.responseText) {\n    msg = \"\".concat(xhr.responseText);\n  } else {\n    msg = \"fail to post \".concat(action, \" \").concat(xhr.status);\n  }\n\n  var err = new Error(msg);\n  err.status = xhr.status;\n  err.method = \"post\";\n  err.url = action;\n  return err;\n}\n\nfunction getBody(xhr) {\n  var text = xhr.responseText || xhr.response;\n\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nfunction upload(option) {\n  if (typeof XMLHttpRequest === \"undefined\") {\n    return;\n  }\n\n  var xhr = new XMLHttpRequest();\n  var action = option.action;\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function progress(e) {\n      if (e.total > 0) {\n        e.percent = e.loaded / e.total * 100;\n      }\n\n      option.onProgress(e);\n    };\n  }\n\n  var formData = new FormData();\n\n  if (option.data) {\n    Object.keys(option.data).forEach(function (key) {\n      formData.append(key, option.data[key]);\n    });\n  }\n\n  formData.append(option.filename, option.file, option.file.name);\n\n  xhr.onerror = function error() {\n    option.onError(getError(action, option, xhr));\n  };\n\n  xhr.onload = function onload() {\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(action, option, xhr));\n    }\n\n    option.onSuccess(getBody(xhr));\n  };\n\n  xhr.open(\"post\", action, true);\n\n  if (option.withCredentials && \"withCredentials\" in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  var headers = option.headers || {};\n\n  for (var item in headers) {\n    if (hasOwn(headers, item) && headers[item] !== null) {\n      xhr.setRequestHeader(item, headers[item]);\n    }\n  }\n\n  xhr.send(formData);\n  return xhr;\n}\n\nvar script = defineComponent({\n  name: \"ElUploadList\",\n  components: {\n    ElProgress: ElProgress\n  },\n  props: {\n    files: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    handlePreview: {\n      type: Function,\n      default: function _default() {\n        return NOOP;\n      }\n    },\n    listType: {\n      type: String,\n      default: \"text\"\n    }\n  },\n  emits: [\"remove\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n\n    var _useLocaleInject = useLocaleInject(),\n        t = _useLocaleInject.t;\n\n    var parsePercentage = function parsePercentage(val) {\n      return parseInt(val, 10);\n    };\n\n    var handleClick = function handleClick(file) {\n      props.handlePreview(file);\n    };\n\n    var onFileClicked = function onFileClicked(e) {\n      e.target.focus();\n    };\n\n    var handleRemove = function handleRemove(e, file) {\n      emit(\"remove\", file);\n    };\n\n    return {\n      focusing: ref(false),\n      parsePercentage: parsePercentage,\n      handleClick: handleClick,\n      handleRemove: handleRemove,\n      onFileClicked: onFileClicked,\n      t: t\n    };\n  }\n});\n\nvar _hoisted_1 = /* @__PURE__ */createVNode(\"i\", {\n  class: \"el-icon-document\"\n}, null, -1);\n\nvar _hoisted_2 = {\n  class: \"el-upload-list__item-status-label\"\n};\nvar _hoisted_3 = {\n  key: 2,\n  class: \"el-icon-close-tip\"\n};\nvar _hoisted_4 = {\n  key: 4,\n  class: \"el-upload-list__item-actions\"\n};\n\nvar _hoisted_5 = /* @__PURE__ */createVNode(\"i\", {\n  class: \"el-icon-zoom-in\"\n}, null, -1);\n\nvar _hoisted_6 = /* @__PURE__ */createVNode(\"i\", {\n  class: \"el-icon-delete\"\n}, null, -1);\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_progress = resolveComponent(\"el-progress\");\n\n  return openBlock(), createBlock(TransitionGroup, {\n    tag: \"ul\",\n    class: [\"el-upload-list\", \"el-upload-list--\" + _ctx.listType, {\n      \"is-disabled\": _ctx.disabled\n    }],\n    name: \"el-list\"\n  }, {\n    default: withCtx(function () {\n      return [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.files, function (file) {\n        return openBlock(), createBlock(\"li\", {\n          key: file.uid || file,\n          class: [\"el-upload-list__item\", \"is-\" + file.status, _ctx.focusing ? \"focusing\" : \"\"],\n          tabindex: \"0\",\n          onKeydown: withKeys(function ($event) {\n            return !_ctx.disabled && _ctx.handleRemove($event, file);\n          }, [\"delete\"]),\n          onFocus: _cache[1] || (_cache[1] = function ($event) {\n            return _ctx.focusing = true;\n          }),\n          onBlur: _cache[2] || (_cache[2] = function ($event) {\n            return _ctx.focusing = false;\n          }),\n          onClick: _cache[3] || (_cache[3] = function () {\n            return _ctx.onFileClicked && _ctx.onFileClicked.apply(_ctx, arguments);\n          })\n        }, [renderSlot(_ctx.$slots, \"default\", {\n          file: file\n        }, function () {\n          return [file.status !== \"uploading\" && [\"picture-card\", \"picture\"].includes(_ctx.listType) ? (openBlock(), createBlock(\"img\", {\n            key: 0,\n            class: \"el-upload-list__item-thumbnail\",\n            src: file.url,\n            alt: \"\"\n          }, null, 8, [\"src\"])) : createCommentVNode(\"v-if\", true), createVNode(\"a\", {\n            class: \"el-upload-list__item-name\",\n            onClick: function onClick($event) {\n              return _ctx.handleClick(file);\n            }\n          }, [_hoisted_1, createTextVNode(toDisplayString(file.name), 1)], 8, [\"onClick\"]), createVNode(\"label\", _hoisted_2, [createVNode(\"i\", {\n            class: {\n              \"el-icon-upload-success\": true,\n              \"el-icon-circle-check\": _ctx.listType === \"text\",\n              \"el-icon-check\": [\"picture-card\", \"picture\"].includes(_ctx.listType)\n            }\n          }, null, 2)]), !_ctx.disabled ? (openBlock(), createBlock(\"i\", {\n            key: 1,\n            class: \"el-icon-close\",\n            onClick: function onClick($event) {\n              return _ctx.handleRemove($event, file);\n            }\n          }, null, 8, [\"onClick\"])) : createCommentVNode(\"v-if\", true), createCommentVNode(\" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn\"), createCommentVNode(\" This is a bug which needs to be fixed \"), createCommentVNode(\" TODO: Fix the incorrect navigation interaction \"), !_ctx.disabled ? (openBlock(), createBlock(\"i\", _hoisted_3, toDisplayString(_ctx.t(\"el.upload.deleteTip\")), 1)) : createCommentVNode(\"v-if\", true), file.status === \"uploading\" ? (openBlock(), createBlock(_component_el_progress, {\n            key: 3,\n            type: _ctx.listType === \"picture-card\" ? \"circle\" : \"line\",\n            \"stroke-width\": _ctx.listType === \"picture-card\" ? 6 : 2,\n            percentage: _ctx.parsePercentage(file.percentage)\n          }, null, 8, [\"type\", \"stroke-width\", \"percentage\"])) : createCommentVNode(\"v-if\", true), _ctx.listType === \"picture-card\" ? (openBlock(), createBlock(\"span\", _hoisted_4, [createVNode(\"span\", {\n            class: \"el-upload-list__item-preview\",\n            onClick: function onClick($event) {\n              return _ctx.handlePreview(file);\n            }\n          }, [_hoisted_5], 8, [\"onClick\"]), !_ctx.disabled ? (openBlock(), createBlock(\"span\", {\n            key: 0,\n            class: \"el-upload-list__item-delete\",\n            onClick: function onClick($event) {\n              return _ctx.handleRemove($event, file);\n            }\n          }, [_hoisted_6], 8, [\"onClick\"])) : createCommentVNode(\"v-if\", true)])) : createCommentVNode(\"v-if\", true)];\n        })], 42, [\"onKeydown\"]);\n      }), 128))];\n    }),\n    _: 3\n  }, 8, [\"class\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/upload/src/upload-list.vue\";\nvar script$1 = defineComponent({\n  name: \"ElUploadDrag\",\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"file\"],\n  setup: function setup(props, _ref2) {\n    var emit = _ref2.emit;\n    var uploader = inject(\"uploader\", {});\n    var dragover = ref(false);\n\n    function onDrop(e) {\n      if (props.disabled || !uploader) return;\n      var accept = uploader.accept;\n      dragover.value = false;\n\n      if (!accept) {\n        emit(\"file\", e.dataTransfer.files);\n        return;\n      }\n\n      emit(\"file\", Array.from(e.dataTransfer.files).filter(function (file) {\n        var type = file.type,\n            name = file.name;\n        var extension = name.indexOf(\".\") > -1 ? \".\".concat(name.split(\".\").pop()) : \"\";\n        var baseType = type.replace(/\\/.*$/, \"\");\n        return accept.split(\",\").map(function (type2) {\n          return type2.trim();\n        }).filter(function (type2) {\n          return type2;\n        }).some(function (acceptedType) {\n          if (acceptedType.startsWith(\".\")) {\n            return extension === acceptedType;\n          }\n\n          if (/\\/\\*$/.test(acceptedType)) {\n            return baseType === acceptedType.replace(/\\/\\*$/, \"\");\n          }\n\n          if (/^[^\\/]+\\/[^\\/]+$/.test(acceptedType)) {\n            return type === acceptedType;\n          }\n\n          return false;\n        });\n      }));\n    }\n\n    function onDragover() {\n      if (!props.disabled) dragover.value = true;\n    }\n\n    return {\n      dragover: dragover,\n      onDrop: onDrop,\n      onDragover: onDragover\n    };\n  }\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"div\", {\n    class: {\n      \"el-upload-dragger\": true,\n      \"is-dragover\": _ctx.dragover\n    },\n    onDrop: _cache[1] || (_cache[1] = withModifiers(function () {\n      return _ctx.onDrop && _ctx.onDrop.apply(_ctx, arguments);\n    }, [\"prevent\"])),\n    onDragover: _cache[2] || (_cache[2] = withModifiers(function () {\n      return _ctx.onDragover && _ctx.onDragover.apply(_ctx, arguments);\n    }, [\"prevent\"])),\n    onDragleave: _cache[3] || (_cache[3] = withModifiers(function ($event) {\n      return _ctx.dragover = false;\n    }, [\"prevent\"]))\n  }, [renderSlot(_ctx.$slots, \"default\")], 34);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/upload/src/upload-dragger.vue\";\nvar script$2 = defineComponent({\n  components: {\n    UploadDragger: script$1\n  },\n  props: {\n    type: {\n      type: String,\n      default: \"\"\n    },\n    action: {\n      type: String,\n      required: true\n    },\n    name: {\n      type: String,\n      default: \"file\"\n    },\n    data: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    headers: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    withCredentials: {\n      type: Boolean,\n      default: false\n    },\n    multiple: {\n      type: Boolean,\n      default: null\n    },\n    accept: {\n      type: String,\n      default: \"\"\n    },\n    onStart: {\n      type: Function,\n      default: NOOP\n    },\n    onProgress: {\n      type: Function,\n      default: NOOP\n    },\n    onSuccess: {\n      type: Function,\n      default: NOOP\n    },\n    onError: {\n      type: Function,\n      default: NOOP\n    },\n    beforeUpload: {\n      type: Function,\n      default: NOOP\n    },\n    drag: {\n      type: Boolean,\n      default: false\n    },\n    onPreview: {\n      type: Function,\n      default: NOOP\n    },\n    onRemove: {\n      type: Function,\n      default: NOOP\n    },\n    fileList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    autoUpload: {\n      type: Boolean,\n      default: true\n    },\n    listType: {\n      type: String,\n      default: \"text\"\n    },\n    httpRequest: {\n      type: Function,\n      default: function _default() {\n        return upload;\n      }\n    },\n    disabled: Boolean,\n    limit: {\n      type: Number,\n      default: null\n    },\n    onExceed: {\n      type: Function,\n      default: NOOP\n    }\n  },\n  setup: function setup(props) {\n    var reqs = ref({});\n    var mouseover = ref(false);\n    var inputRef = ref(null);\n\n    function uploadFiles(files) {\n      if (props.limit && props.fileList.length + files.length > props.limit) {\n        props.onExceed(files, props.fileList);\n        return;\n      }\n\n      var postFiles = Array.from(files);\n\n      if (!props.multiple) {\n        postFiles = postFiles.slice(0, 1);\n      }\n\n      if (postFiles.length === 0) {\n        return;\n      }\n\n      postFiles.forEach(function (rawFile) {\n        props.onStart(rawFile);\n        if (props.autoUpload) upload(rawFile);\n      });\n    }\n\n    function upload(rawFile) {\n      inputRef.value.value = null;\n\n      if (!props.beforeUpload) {\n        return post(rawFile);\n      }\n\n      var before = props.beforeUpload(rawFile);\n\n      if (before instanceof Promise) {\n        before.then(function (processedFile) {\n          var fileType = Object.prototype.toString.call(processedFile);\n\n          if (fileType === \"[object File]\" || fileType === \"[object Blob]\") {\n            if (fileType === \"[object Blob]\") {\n              processedFile = new File([processedFile], rawFile.name, {\n                type: rawFile.type\n              });\n            }\n\n            for (var p in rawFile) {\n              if (hasOwn(rawFile, p)) {\n                processedFile[p] = rawFile[p];\n              }\n            }\n\n            post(processedFile);\n          } else {\n            post(rawFile);\n          }\n        }).catch(function () {\n          props.onRemove(null, rawFile);\n        });\n      } else if (before !== false) {\n        post(rawFile);\n      } else {\n        props.onRemove(null, rawFile);\n      }\n    }\n\n    function abort(file) {\n      var _reqs = reqs.value;\n\n      if (file) {\n        var uid = file;\n        if (file.uid) uid = file.uid;\n\n        if (_reqs[uid]) {\n          _reqs[uid].abort();\n        }\n      } else {\n        Object.keys(_reqs).forEach(function (uid) {\n          if (_reqs[uid]) _reqs[uid].abort();\n          delete _reqs[uid];\n        });\n      }\n    }\n\n    function post(rawFile) {\n      var uid = rawFile.uid;\n      var options = {\n        headers: props.headers,\n        withCredentials: props.withCredentials,\n        file: rawFile,\n        data: props.data,\n        filename: props.name,\n        action: props.action,\n        onProgress: function onProgress(e) {\n          props.onProgress(e, rawFile);\n        },\n        onSuccess: function onSuccess(res) {\n          props.onSuccess(res, rawFile);\n          delete reqs.value[uid];\n        },\n        onError: function onError(err) {\n          props.onError(err, rawFile);\n          delete reqs.value[uid];\n        }\n      };\n      var req = props.httpRequest(options);\n      reqs.value[uid] = req;\n\n      if (req instanceof Promise) {\n        req.then(options.onSuccess, options.onError);\n      }\n    }\n\n    function handleChange(e) {\n      var files = e.target.files;\n      if (!files) return;\n      uploadFiles(files);\n    }\n\n    function handleClick() {\n      if (!props.disabled) {\n        inputRef.value.value = null;\n        inputRef.value.click();\n      }\n    }\n\n    function handleKeydown() {\n      handleClick();\n    }\n\n    return {\n      reqs: reqs,\n      mouseover: mouseover,\n      inputRef: inputRef,\n      abort: abort,\n      post: post,\n      handleChange: handleChange,\n      handleClick: handleClick,\n      handleKeydown: handleKeydown,\n      upload: upload,\n      uploadFiles: uploadFiles\n    };\n  }\n});\n\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_upload_dragger = resolveComponent(\"upload-dragger\");\n\n  return openBlock(), createBlock(\"div\", {\n    class: [\"el-upload\", \"el-upload--\".concat(_ctx.listType)],\n    tabindex: \"0\",\n    onClick: _cache[2] || (_cache[2] = function () {\n      return _ctx.handleClick && _ctx.handleClick.apply(_ctx, arguments);\n    }),\n    onKeydown: _cache[3] || (_cache[3] = withKeys(withModifiers(function () {\n      return _ctx.handleKeydown && _ctx.handleKeydown.apply(_ctx, arguments);\n    }, [\"self\"]), [\"enter\", \"space\"]))\n  }, [_ctx.drag ? (openBlock(), createBlock(_component_upload_dragger, {\n    key: 0,\n    disabled: _ctx.disabled,\n    onFile: _ctx.uploadFiles\n  }, {\n    default: withCtx(function () {\n      return [renderSlot(_ctx.$slots, \"default\")];\n    }),\n    _: 3\n  }, 8, [\"disabled\", \"onFile\"])) : renderSlot(_ctx.$slots, \"default\", {\n    key: 1\n  }), createVNode(\"input\", {\n    ref: \"inputRef\",\n    class: \"el-upload__input\",\n    type: \"file\",\n    name: _ctx.name,\n    multiple: _ctx.multiple,\n    accept: _ctx.accept,\n    onChange: _cache[1] || (_cache[1] = function () {\n      return _ctx.handleChange && _ctx.handleChange.apply(_ctx, arguments);\n    })\n  }, null, 40, [\"name\", \"multiple\", \"accept\"])], 34);\n}\n\nscript$2.render = render$2;\nscript$2.__file = \"packages/upload/src/upload.vue\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues = function __spreadValues(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols) {\n    var _iterator = _createForOfIteratorHelper(__getOwnPropSymbols(b)),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var prop = _step.value;\n        if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  return a;\n};\n\nvar __spreadProps = function __spreadProps(a, b) {\n  return __defProps(a, __getOwnPropDescs(b));\n};\n\nfunction getFile(rawFile, uploadFiles) {\n  return uploadFiles.find(function (file) {\n    return file.uid === rawFile.uid;\n  });\n}\n\nfunction genUid(seed) {\n  return Date.now() + seed;\n}\n\nvar useHandlers = function useHandlers(props) {\n  var uploadFiles = ref([]);\n  var uploadRef = ref(null);\n  var tempIndex = 1;\n\n  function abort(file) {\n    uploadRef.value.abort(file);\n  }\n\n  function clearFiles() {\n    uploadFiles.value = [];\n  }\n\n  function handleError(err, rawFile) {\n    var file = getFile(rawFile, uploadFiles.value);\n    file.status = \"fail\";\n    uploadFiles.value.splice(uploadFiles.value.indexOf(file), 1);\n    props.onError(err, file, uploadFiles.value);\n    props.onChange(file, uploadFiles.value);\n  }\n\n  function handleProgress(ev, rawFile) {\n    var file = getFile(rawFile, uploadFiles.value);\n    props.onProgress(ev, file, uploadFiles.value);\n    file.status = \"uploading\";\n    file.percentage = ev.percent || 0;\n  }\n\n  function handleSuccess(res, rawFile) {\n    var file = getFile(rawFile, uploadFiles.value);\n\n    if (file) {\n      file.status = \"success\";\n      file.response = res;\n      props.onSuccess(res, file, uploadFiles.value);\n      props.onChange(file, uploadFiles.value);\n    }\n  }\n\n  function handleStart(rawFile) {\n    var uid = genUid(tempIndex++);\n    rawFile.uid = uid;\n    var file = {\n      name: rawFile.name,\n      percentage: 0,\n      status: \"ready\",\n      size: rawFile.size,\n      raw: rawFile,\n      uid: uid\n    };\n\n    if (props.listType === \"picture-card\" || props.listType === \"picture\") {\n      try {\n        file.url = URL.createObjectURL(rawFile);\n      } catch (err) {\n        console.error(\"[Element Error][Upload]\", err);\n        props.onError(err, file, uploadFiles.value);\n      }\n    }\n\n    uploadFiles.value.push(file);\n    props.onChange(file, uploadFiles.value);\n  }\n\n  function handleRemove(file, raw) {\n    if (raw) {\n      file = getFile(raw, uploadFiles.value);\n    }\n\n    var doRemove = function doRemove() {\n      abort(file);\n      var fileList = uploadFiles.value;\n      fileList.splice(fileList.indexOf(file), 1);\n      props.onRemove(file, fileList);\n    };\n\n    if (!props.beforeRemove) {\n      doRemove();\n    } else if (typeof props.beforeRemove === \"function\") {\n      var before = props.beforeRemove(file, uploadFiles.value);\n\n      if (before instanceof Promise) {\n        before.then(function () {\n          doRemove();\n        }).catch(NOOP);\n      } else if (before !== false) {\n        doRemove();\n      }\n    }\n  }\n\n  function submit() {\n    uploadFiles.value.filter(function (file) {\n      return file.status === \"ready\";\n    }).forEach(function (file) {\n      uploadRef.value.upload(file.raw);\n    });\n  }\n\n  watch(function () {\n    return props.listType;\n  }, function (val) {\n    if (val === \"picture-card\" || val === \"picture\") {\n      uploadFiles.value = uploadFiles.value.map(function (file) {\n        if (!file.url && file.raw) {\n          try {\n            file.url = URL.createObjectURL(file.raw);\n          } catch (err) {\n            props.onError(err, file, uploadFiles.value);\n          }\n        }\n\n        return file;\n      });\n    }\n  });\n  watch(function () {\n    return props.fileList;\n  }, function (fileList) {\n    uploadFiles.value = fileList.map(function (file) {\n      var cloneFile = cloneDeep(file);\n      return __spreadProps(__spreadValues({}, cloneFile), {\n        uid: file.uid || genUid(tempIndex++),\n        status: file.status || \"success\"\n      });\n    });\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    abort: abort,\n    clearFiles: clearFiles,\n    handleError: handleError,\n    handleProgress: handleProgress,\n    handleStart: handleStart,\n    handleSuccess: handleSuccess,\n    handleRemove: handleRemove,\n    submit: submit,\n    uploadFiles: uploadFiles,\n    uploadRef: uploadRef\n  };\n};\n\nvar script$3 = defineComponent({\n  name: \"ElUpload\",\n  components: {\n    Upload: script$2,\n    UploadList: script\n  },\n  props: {\n    action: {\n      type: String,\n      required: true\n    },\n    headers: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    data: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    name: {\n      type: String,\n      default: \"file\"\n    },\n    drag: {\n      type: Boolean,\n      default: false\n    },\n    withCredentials: Boolean,\n    showFileList: {\n      type: Boolean,\n      default: true\n    },\n    accept: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"select\"\n    },\n    beforeUpload: {\n      type: Function,\n      default: NOOP\n    },\n    beforeRemove: {\n      type: Function,\n      default: NOOP\n    },\n    onRemove: {\n      type: Function,\n      default: NOOP\n    },\n    onChange: {\n      type: Function,\n      default: NOOP\n    },\n    onPreview: {\n      type: Function,\n      default: NOOP\n    },\n    onSuccess: {\n      type: Function,\n      default: NOOP\n    },\n    onProgress: {\n      type: Function,\n      default: NOOP\n    },\n    onError: {\n      type: Function,\n      default: NOOP\n    },\n    fileList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    autoUpload: {\n      type: Boolean,\n      default: true\n    },\n    listType: {\n      type: String,\n      default: \"text\"\n    },\n    httpRequest: {\n      type: Function,\n      default: upload\n    },\n    disabled: Boolean,\n    limit: {\n      type: Number,\n      default: null\n    },\n    onExceed: {\n      type: Function,\n      default: function _default() {\n        return NOOP;\n      }\n    }\n  },\n  setup: function setup(props) {\n    var elForm = inject(elFormKey, {});\n    var uploadDisabled = computed(function () {\n      return props.disabled || elForm.disabled;\n    });\n\n    var _useHandlers = useHandlers(props),\n        abort = _useHandlers.abort,\n        clearFiles = _useHandlers.clearFiles,\n        handleError = _useHandlers.handleError,\n        handleProgress = _useHandlers.handleProgress,\n        handleStart = _useHandlers.handleStart,\n        handleSuccess = _useHandlers.handleSuccess,\n        handleRemove = _useHandlers.handleRemove,\n        submit = _useHandlers.submit,\n        uploadRef = _useHandlers.uploadRef,\n        uploadFiles = _useHandlers.uploadFiles;\n\n    provide(\"uploader\", getCurrentInstance());\n    onBeforeUnmount(function () {\n      uploadFiles.value.forEach(function (file) {\n        if (file.url && file.url.indexOf(\"blob:\") === 0) {\n          URL.revokeObjectURL(file.url);\n        }\n      });\n    });\n    return {\n      abort: abort,\n      dragOver: ref(false),\n      draging: ref(false),\n      handleError: handleError,\n      handleProgress: handleProgress,\n      handleRemove: handleRemove,\n      handleStart: handleStart,\n      handleSuccess: handleSuccess,\n      uploadDisabled: uploadDisabled,\n      uploadFiles: uploadFiles,\n      uploadRef: uploadRef,\n      submit: submit,\n      clearFiles: clearFiles\n    };\n  },\n  render: function render() {\n    var _this = this;\n\n    var _a, _b;\n\n    var uploadList;\n\n    if (this.showFileList) {\n      uploadList = h(script, {\n        disabled: this.uploadDisabled,\n        listType: this.listType,\n        files: this.uploadFiles,\n        onRemove: this.handleRemove,\n        handlePreview: this.onPreview\n      }, this.$slots.file ? {\n        default: function _default(props) {\n          return _this.$slots.file({\n            file: props.file\n          });\n        }\n      } : null);\n    } else {\n      uploadList = null;\n    }\n\n    var uploadData = {\n      type: this.type,\n      drag: this.drag,\n      action: this.action,\n      multiple: this.multiple,\n      \"before-upload\": this.beforeUpload,\n      \"with-credentials\": this.withCredentials,\n      headers: this.headers,\n      name: this.name,\n      data: this.data,\n      accept: this.accept,\n      fileList: this.uploadFiles,\n      autoUpload: this.autoUpload,\n      listType: this.listType,\n      disabled: this.uploadDisabled,\n      limit: this.limit,\n      \"on-exceed\": this.onExceed,\n      \"on-start\": this.handleStart,\n      \"on-progress\": this.handleProgress,\n      \"on-success\": this.handleSuccess,\n      \"on-error\": this.handleError,\n      \"on-preview\": this.onPreview,\n      \"on-remove\": this.handleRemove,\n      \"http-request\": this.httpRequest,\n      ref: \"uploadRef\"\n    };\n    var trigger = this.$slots.trigger || this.$slots.default;\n    var uploadComponent = h(script$2, uploadData, {\n      default: function _default() {\n        return trigger == null ? void 0 : trigger();\n      }\n    });\n    return h(\"div\", [this.listType === \"picture-card\" ? uploadList : null, this.$slots.trigger ? [uploadComponent, this.$slots.default()] : uploadComponent, (_b = (_a = this.$slots).tip) == null ? void 0 : _b.call(_a), this.listType !== \"picture-card\" ? uploadList : null]);\n  }\n});\nscript$3.__file = \"packages/upload/src/index.vue\";\n\nscript$3.install = function (app) {\n  app.component(script$3.name, script$3);\n};\n\nvar _Upload = script$3;\nexport default _Upload;","map":{"version":3,"sources":["/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/element-plus/es/el-upload/index.js"],"names":["defineComponent","ref","resolveComponent","openBlock","createBlock","TransitionGroup","withCtx","Fragment","renderList","withKeys","renderSlot","createCommentVNode","createVNode","createTextVNode","toDisplayString","inject","withModifiers","watch","computed","provide","getCurrentInstance","onBeforeUnmount","h","elFormKey","useLocaleInject","ElProgress","cloneDeep","EMPTY_OBJ","process","env","NODE_ENV","Object","freeze","EMPTY_ARR","NOOP","hasOwnProperty","prototype","hasOwn","val","key","call","getError","action","option","xhr","msg","response","error","responseText","status","err","Error","method","url","getBody","text","JSON","parse","e","upload","XMLHttpRequest","onprogress","progress","total","percent","loaded","onProgress","formData","FormData","data","keys","forEach","append","filename","file","name","onerror","onError","onload","onSuccess","open","withCredentials","headers","item","setRequestHeader","send","script","components","props","files","type","Array","default","disabled","Boolean","handlePreview","Function","listType","String","emits","setup","emit","t","parsePercentage","parseInt","handleClick","onFileClicked","target","focus","handleRemove","focusing","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_progress","tag","uid","tabindex","onKeydown","$event","onFocus","onBlur","onClick","$slots","includes","src","alt","percentage","_","__file","script$1","uploader","dragover","onDrop","accept","value","dataTransfer","from","filter","extension","indexOf","split","pop","baseType","replace","map","type2","trim","some","acceptedType","startsWith","test","onDragover","render$1","onDragleave","script$2","UploadDragger","required","multiple","onStart","beforeUpload","drag","onPreview","onRemove","fileList","autoUpload","httpRequest","limit","Number","onExceed","reqs","mouseover","inputRef","uploadFiles","length","postFiles","slice","rawFile","post","before","Promise","then","processedFile","fileType","toString","File","p","catch","abort","_reqs","options","res","req","handleChange","click","handleKeydown","render$2","_component_upload_dragger","onFile","onChange","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","__spreadValues","a","b","prop","__spreadProps","getFile","find","genUid","seed","Date","now","useHandlers","uploadRef","tempIndex","clearFiles","handleError","splice","handleProgress","ev","handleSuccess","handleStart","size","raw","URL","createObjectURL","console","push","doRemove","beforeRemove","submit","cloneFile","immediate","deep","script$3","Upload","UploadList","showFileList","elForm","uploadDisabled","revokeObjectURL","dragOver","draging","_a","_b","uploadList","uploadData","trigger","uploadComponent","tip","install","app","component","_Upload"],"mappings":"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","sourcesContent":["import { defineComponent, ref, resolveComponent, openBlock, createBlock, TransitionGroup, withCtx, Fragment, renderList, withKeys, renderSlot, createCommentVNode, createVNode, createTextVNode, toDisplayString, inject, withModifiers, watch, computed, provide, getCurrentInstance, onBeforeUnmount, h } from 'vue';\nimport { elFormKey } from '../el-form';\nimport { useLocaleInject } from '../hooks';\nimport ElProgress from '../el-progress';\nimport cloneDeep from 'lodash/cloneDeep';\n\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst NOOP = () => { };\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\n\nfunction getError(action, option, xhr) {\n  let msg;\n  if (xhr.response) {\n    msg = `${xhr.response.error || xhr.response}`;\n  } else if (xhr.responseText) {\n    msg = `${xhr.responseText}`;\n  } else {\n    msg = `fail to post ${action} ${xhr.status}`;\n  }\n  const err = new Error(msg);\n  err.status = xhr.status;\n  err.method = \"post\";\n  err.url = action;\n  return err;\n}\nfunction getBody(xhr) {\n  const text = xhr.responseText || xhr.response;\n  if (!text) {\n    return text;\n  }\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\nfunction upload(option) {\n  if (typeof XMLHttpRequest === \"undefined\") {\n    return;\n  }\n  const xhr = new XMLHttpRequest();\n  const action = option.action;\n  if (xhr.upload) {\n    xhr.upload.onprogress = function progress(e) {\n      if (e.total > 0) {\n        e.percent = e.loaded / e.total * 100;\n      }\n      option.onProgress(e);\n    };\n  }\n  const formData = new FormData();\n  if (option.data) {\n    Object.keys(option.data).forEach((key) => {\n      formData.append(key, option.data[key]);\n    });\n  }\n  formData.append(option.filename, option.file, option.file.name);\n  xhr.onerror = function error() {\n    option.onError(getError(action, option, xhr));\n  };\n  xhr.onload = function onload() {\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(action, option, xhr));\n    }\n    option.onSuccess(getBody(xhr));\n  };\n  xhr.open(\"post\", action, true);\n  if (option.withCredentials && \"withCredentials\" in xhr) {\n    xhr.withCredentials = true;\n  }\n  const headers = option.headers || {};\n  for (const item in headers) {\n    if (hasOwn(headers, item) && headers[item] !== null) {\n      xhr.setRequestHeader(item, headers[item]);\n    }\n  }\n  xhr.send(formData);\n  return xhr;\n}\n\nvar script = defineComponent({\n  name: \"ElUploadList\",\n  components: { ElProgress },\n  props: {\n    files: {\n      type: Array,\n      default: () => []\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    handlePreview: {\n      type: Function,\n      default: () => NOOP\n    },\n    listType: {\n      type: String,\n      default: \"text\"\n    }\n  },\n  emits: [\"remove\"],\n  setup(props, { emit }) {\n    const { t } = useLocaleInject();\n    const parsePercentage = (val) => {\n      return parseInt(val, 10);\n    };\n    const handleClick = (file) => {\n      props.handlePreview(file);\n    };\n    const onFileClicked = (e) => {\n      e.target.focus();\n    };\n    const handleRemove = (e, file) => {\n      emit(\"remove\", file);\n    };\n    return {\n      focusing: ref(false),\n      parsePercentage,\n      handleClick,\n      handleRemove,\n      onFileClicked,\n      t\n    };\n  }\n});\n\nconst _hoisted_1 = /* @__PURE__ */ createVNode(\"i\", { class: \"el-icon-document\" }, null, -1);\nconst _hoisted_2 = { class: \"el-upload-list__item-status-label\" };\nconst _hoisted_3 = {\n  key: 2,\n  class: \"el-icon-close-tip\"\n};\nconst _hoisted_4 = {\n  key: 4,\n  class: \"el-upload-list__item-actions\"\n};\nconst _hoisted_5 = /* @__PURE__ */ createVNode(\"i\", { class: \"el-icon-zoom-in\" }, null, -1);\nconst _hoisted_6 = /* @__PURE__ */ createVNode(\"i\", { class: \"el-icon-delete\" }, null, -1);\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_progress = resolveComponent(\"el-progress\");\n  return openBlock(), createBlock(TransitionGroup, {\n    tag: \"ul\",\n    class: [\n      \"el-upload-list\",\n      \"el-upload-list--\" + _ctx.listType,\n      { \"is-disabled\": _ctx.disabled }\n    ],\n    name: \"el-list\"\n  }, {\n    default: withCtx(() => [\n      (openBlock(true), createBlock(Fragment, null, renderList(_ctx.files, (file) => {\n        return openBlock(), createBlock(\"li\", {\n          key: file.uid || file,\n          class: [\"el-upload-list__item\", \"is-\" + file.status, _ctx.focusing ? \"focusing\" : \"\"],\n          tabindex: \"0\",\n          onKeydown: withKeys(($event) => !_ctx.disabled && _ctx.handleRemove($event, file), [\"delete\"]),\n          onFocus: _cache[1] || (_cache[1] = ($event) => _ctx.focusing = true),\n          onBlur: _cache[2] || (_cache[2] = ($event) => _ctx.focusing = false),\n          onClick: _cache[3] || (_cache[3] = (...args) => _ctx.onFileClicked && _ctx.onFileClicked(...args))\n        }, [\n          renderSlot(_ctx.$slots, \"default\", { file }, () => [\n            file.status !== \"uploading\" && [\"picture-card\", \"picture\"].includes(_ctx.listType) ? (openBlock(), createBlock(\"img\", {\n              key: 0,\n              class: \"el-upload-list__item-thumbnail\",\n              src: file.url,\n              alt: \"\"\n            }, null, 8, [\"src\"])) : createCommentVNode(\"v-if\", true),\n            createVNode(\"a\", {\n              class: \"el-upload-list__item-name\",\n              onClick: ($event) => _ctx.handleClick(file)\n            }, [\n              _hoisted_1,\n              createTextVNode(toDisplayString(file.name), 1)\n            ], 8, [\"onClick\"]),\n            createVNode(\"label\", _hoisted_2, [\n              createVNode(\"i\", {\n                class: {\n                  \"el-icon-upload-success\": true,\n                  \"el-icon-circle-check\": _ctx.listType === \"text\",\n                  \"el-icon-check\": [\"picture-card\", \"picture\"].includes(_ctx.listType)\n                }\n              }, null, 2)\n            ]),\n            !_ctx.disabled ? (openBlock(), createBlock(\"i\", {\n              key: 1,\n              class: \"el-icon-close\",\n              onClick: ($event) => _ctx.handleRemove($event, file)\n            }, null, 8, [\"onClick\"])) : createCommentVNode(\"v-if\", true),\n            createCommentVNode(\" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn\"),\n            createCommentVNode(\" This is a bug which needs to be fixed \"),\n            createCommentVNode(\" TODO: Fix the incorrect navigation interaction \"),\n            !_ctx.disabled ? (openBlock(), createBlock(\"i\", _hoisted_3, toDisplayString(_ctx.t(\"el.upload.deleteTip\")), 1)) : createCommentVNode(\"v-if\", true),\n            file.status === \"uploading\" ? (openBlock(), createBlock(_component_el_progress, {\n              key: 3,\n              type: _ctx.listType === \"picture-card\" ? \"circle\" : \"line\",\n              \"stroke-width\": _ctx.listType === \"picture-card\" ? 6 : 2,\n              percentage: _ctx.parsePercentage(file.percentage)\n            }, null, 8, [\"type\", \"stroke-width\", \"percentage\"])) : createCommentVNode(\"v-if\", true),\n            _ctx.listType === \"picture-card\" ? (openBlock(), createBlock(\"span\", _hoisted_4, [\n              createVNode(\"span\", {\n                class: \"el-upload-list__item-preview\",\n                onClick: ($event) => _ctx.handlePreview(file)\n              }, [\n                _hoisted_5\n              ], 8, [\"onClick\"]),\n              !_ctx.disabled ? (openBlock(), createBlock(\"span\", {\n                key: 0,\n                class: \"el-upload-list__item-delete\",\n                onClick: ($event) => _ctx.handleRemove($event, file)\n              }, [\n                _hoisted_6\n              ], 8, [\"onClick\"])) : createCommentVNode(\"v-if\", true)\n            ])) : createCommentVNode(\"v-if\", true)\n          ])\n        ], 42, [\"onKeydown\"]);\n      }), 128))\n    ]),\n    _: 3\n  }, 8, [\"class\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/upload/src/upload-list.vue\";\n\nvar script$1 = defineComponent({\n  name: \"ElUploadDrag\",\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"file\"],\n  setup(props, { emit }) {\n    const uploader = inject(\"uploader\", {});\n    const dragover = ref(false);\n    function onDrop(e) {\n      if (props.disabled || !uploader)\n        return;\n      const accept = uploader.accept;\n      dragover.value = false;\n      if (!accept) {\n        emit(\"file\", e.dataTransfer.files);\n        return;\n      }\n      emit(\"file\", Array.from(e.dataTransfer.files).filter((file) => {\n        const { type, name } = file;\n        const extension = name.indexOf(\".\") > -1 ? `.${name.split(\".\").pop()}` : \"\";\n        const baseType = type.replace(/\\/.*$/, \"\");\n        return accept.split(\",\").map((type2) => type2.trim()).filter((type2) => type2).some((acceptedType) => {\n          if (acceptedType.startsWith(\".\")) {\n            return extension === acceptedType;\n          }\n          if (/\\/\\*$/.test(acceptedType)) {\n            return baseType === acceptedType.replace(/\\/\\*$/, \"\");\n          }\n          if (/^[^\\/]+\\/[^\\/]+$/.test(acceptedType)) {\n            return type === acceptedType;\n          }\n          return false;\n        });\n      }));\n    }\n    function onDragover() {\n      if (!props.disabled)\n        dragover.value = true;\n    }\n    return {\n      dragover,\n      onDrop,\n      onDragover\n    };\n  }\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"div\", {\n    class: {\n      \"el-upload-dragger\": true,\n      \"is-dragover\": _ctx.dragover\n    },\n    onDrop: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.onDrop && _ctx.onDrop(...args), [\"prevent\"])),\n    onDragover: _cache[2] || (_cache[2] = withModifiers((...args) => _ctx.onDragover && _ctx.onDragover(...args), [\"prevent\"])),\n    onDragleave: _cache[3] || (_cache[3] = withModifiers(($event) => _ctx.dragover = false, [\"prevent\"]))\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 34);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/upload/src/upload-dragger.vue\";\n\nvar script$2 = defineComponent({\n  components: {\n    UploadDragger: script$1\n  },\n  props: {\n    type: {\n      type: String,\n      default: \"\"\n    },\n    action: {\n      type: String,\n      required: true\n    },\n    name: {\n      type: String,\n      default: \"file\"\n    },\n    data: {\n      type: Object,\n      default: () => null\n    },\n    headers: {\n      type: Object,\n      default: () => null\n    },\n    withCredentials: {\n      type: Boolean,\n      default: false\n    },\n    multiple: {\n      type: Boolean,\n      default: null\n    },\n    accept: {\n      type: String,\n      default: \"\"\n    },\n    onStart: {\n      type: Function,\n      default: NOOP\n    },\n    onProgress: {\n      type: Function,\n      default: NOOP\n    },\n    onSuccess: {\n      type: Function,\n      default: NOOP\n    },\n    onError: {\n      type: Function,\n      default: NOOP\n    },\n    beforeUpload: {\n      type: Function,\n      default: NOOP\n    },\n    drag: {\n      type: Boolean,\n      default: false\n    },\n    onPreview: {\n      type: Function,\n      default: NOOP\n    },\n    onRemove: {\n      type: Function,\n      default: NOOP\n    },\n    fileList: {\n      type: Array,\n      default: () => []\n    },\n    autoUpload: {\n      type: Boolean,\n      default: true\n    },\n    listType: {\n      type: String,\n      default: \"text\"\n    },\n    httpRequest: {\n      type: Function,\n      default: () => upload\n    },\n    disabled: Boolean,\n    limit: {\n      type: Number,\n      default: null\n    },\n    onExceed: {\n      type: Function,\n      default: NOOP\n    }\n  },\n  setup(props) {\n    const reqs = ref({});\n    const mouseover = ref(false);\n    const inputRef = ref(null);\n    function uploadFiles(files) {\n      if (props.limit && props.fileList.length + files.length > props.limit) {\n        props.onExceed(files, props.fileList);\n        return;\n      }\n      let postFiles = Array.from(files);\n      if (!props.multiple) {\n        postFiles = postFiles.slice(0, 1);\n      }\n      if (postFiles.length === 0) {\n        return;\n      }\n      postFiles.forEach((rawFile) => {\n        props.onStart(rawFile);\n        if (props.autoUpload)\n          upload(rawFile);\n      });\n    }\n    function upload(rawFile) {\n      inputRef.value.value = null;\n      if (!props.beforeUpload) {\n        return post(rawFile);\n      }\n      const before = props.beforeUpload(rawFile);\n      if (before instanceof Promise) {\n        before.then((processedFile) => {\n          const fileType = Object.prototype.toString.call(processedFile);\n          if (fileType === \"[object File]\" || fileType === \"[object Blob]\") {\n            if (fileType === \"[object Blob]\") {\n              processedFile = new File([processedFile], rawFile.name, {\n                type: rawFile.type\n              });\n            }\n            for (const p in rawFile) {\n              if (hasOwn(rawFile, p)) {\n                processedFile[p] = rawFile[p];\n              }\n            }\n            post(processedFile);\n          } else {\n            post(rawFile);\n          }\n        }).catch(() => {\n          props.onRemove(null, rawFile);\n        });\n      } else if (before !== false) {\n        post(rawFile);\n      } else {\n        props.onRemove(null, rawFile);\n      }\n    }\n    function abort(file) {\n      const _reqs = reqs.value;\n      if (file) {\n        let uid = file;\n        if (file.uid)\n          uid = file.uid;\n        if (_reqs[uid]) {\n          _reqs[uid].abort();\n        }\n      } else {\n        Object.keys(_reqs).forEach((uid) => {\n          if (_reqs[uid])\n            _reqs[uid].abort();\n          delete _reqs[uid];\n        });\n      }\n    }\n    function post(rawFile) {\n      const { uid } = rawFile;\n      const options = {\n        headers: props.headers,\n        withCredentials: props.withCredentials,\n        file: rawFile,\n        data: props.data,\n        filename: props.name,\n        action: props.action,\n        onProgress: (e) => {\n          props.onProgress(e, rawFile);\n        },\n        onSuccess: (res) => {\n          props.onSuccess(res, rawFile);\n          delete reqs.value[uid];\n        },\n        onError: (err) => {\n          props.onError(err, rawFile);\n          delete reqs.value[uid];\n        }\n      };\n      const req = props.httpRequest(options);\n      reqs.value[uid] = req;\n      if (req instanceof Promise) {\n        req.then(options.onSuccess, options.onError);\n      }\n    }\n    function handleChange(e) {\n      const files = e.target.files;\n      if (!files)\n        return;\n      uploadFiles(files);\n    }\n    function handleClick() {\n      if (!props.disabled) {\n        inputRef.value.value = null;\n        inputRef.value.click();\n      }\n    }\n    function handleKeydown() {\n      handleClick();\n    }\n    return {\n      reqs,\n      mouseover,\n      inputRef,\n      abort,\n      post,\n      handleChange,\n      handleClick,\n      handleKeydown,\n      upload,\n      uploadFiles\n    };\n  }\n});\n\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_upload_dragger = resolveComponent(\"upload-dragger\");\n  return openBlock(), createBlock(\"div\", {\n    class: [\"el-upload\", `el-upload--${_ctx.listType}`],\n    tabindex: \"0\",\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.handleClick && _ctx.handleClick(...args)),\n    onKeydown: _cache[3] || (_cache[3] = withKeys(withModifiers((...args) => _ctx.handleKeydown && _ctx.handleKeydown(...args), [\"self\"]), [\"enter\", \"space\"]))\n  }, [\n    _ctx.drag ? (openBlock(), createBlock(_component_upload_dragger, {\n      key: 0,\n      disabled: _ctx.disabled,\n      onFile: _ctx.uploadFiles\n    }, {\n      default: withCtx(() => [\n        renderSlot(_ctx.$slots, \"default\")\n      ]),\n      _: 3\n    }, 8, [\"disabled\", \"onFile\"])) : renderSlot(_ctx.$slots, \"default\", { key: 1 }),\n    createVNode(\"input\", {\n      ref: \"inputRef\",\n      class: \"el-upload__input\",\n      type: \"file\",\n      name: _ctx.name,\n      multiple: _ctx.multiple,\n      accept: _ctx.accept,\n      onChange: _cache[1] || (_cache[1] = (...args) => _ctx.handleChange && _ctx.handleChange(...args))\n    }, null, 40, [\"name\", \"multiple\", \"accept\"])\n  ], 34);\n}\n\nscript$2.render = render$2;\nscript$2.__file = \"packages/upload/src/upload.vue\";\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction getFile(rawFile, uploadFiles) {\n  return uploadFiles.find((file) => file.uid === rawFile.uid);\n}\nfunction genUid(seed) {\n  return Date.now() + seed;\n}\nvar useHandlers = (props) => {\n  const uploadFiles = ref([]);\n  const uploadRef = ref(null);\n  let tempIndex = 1;\n  function abort(file) {\n    uploadRef.value.abort(file);\n  }\n  function clearFiles() {\n    uploadFiles.value = [];\n  }\n  function handleError(err, rawFile) {\n    const file = getFile(rawFile, uploadFiles.value);\n    file.status = \"fail\";\n    uploadFiles.value.splice(uploadFiles.value.indexOf(file), 1);\n    props.onError(err, file, uploadFiles.value);\n    props.onChange(file, uploadFiles.value);\n  }\n  function handleProgress(ev, rawFile) {\n    const file = getFile(rawFile, uploadFiles.value);\n    props.onProgress(ev, file, uploadFiles.value);\n    file.status = \"uploading\";\n    file.percentage = ev.percent || 0;\n  }\n  function handleSuccess(res, rawFile) {\n    const file = getFile(rawFile, uploadFiles.value);\n    if (file) {\n      file.status = \"success\";\n      file.response = res;\n      props.onSuccess(res, file, uploadFiles.value);\n      props.onChange(file, uploadFiles.value);\n    }\n  }\n  function handleStart(rawFile) {\n    const uid = genUid(tempIndex++);\n    rawFile.uid = uid;\n    const file = {\n      name: rawFile.name,\n      percentage: 0,\n      status: \"ready\",\n      size: rawFile.size,\n      raw: rawFile,\n      uid\n    };\n    if (props.listType === \"picture-card\" || props.listType === \"picture\") {\n      try {\n        file.url = URL.createObjectURL(rawFile);\n      } catch (err) {\n        console.error(\"[Element Error][Upload]\", err);\n        props.onError(err, file, uploadFiles.value);\n      }\n    }\n    uploadFiles.value.push(file);\n    props.onChange(file, uploadFiles.value);\n  }\n  function handleRemove(file, raw) {\n    if (raw) {\n      file = getFile(raw, uploadFiles.value);\n    }\n    const doRemove = () => {\n      abort(file);\n      const fileList = uploadFiles.value;\n      fileList.splice(fileList.indexOf(file), 1);\n      props.onRemove(file, fileList);\n    };\n    if (!props.beforeRemove) {\n      doRemove();\n    } else if (typeof props.beforeRemove === \"function\") {\n      const before = props.beforeRemove(file, uploadFiles.value);\n      if (before instanceof Promise) {\n        before.then(() => {\n          doRemove();\n        }).catch(NOOP);\n      } else if (before !== false) {\n        doRemove();\n      }\n    }\n  }\n  function submit() {\n    uploadFiles.value.filter((file) => file.status === \"ready\").forEach((file) => {\n      uploadRef.value.upload(file.raw);\n    });\n  }\n  watch(() => props.listType, (val) => {\n    if (val === \"picture-card\" || val === \"picture\") {\n      uploadFiles.value = uploadFiles.value.map((file) => {\n        if (!file.url && file.raw) {\n          try {\n            file.url = URL.createObjectURL(file.raw);\n          } catch (err) {\n            props.onError(err, file, uploadFiles.value);\n          }\n        }\n        return file;\n      });\n    }\n  });\n  watch(() => props.fileList, (fileList) => {\n    uploadFiles.value = fileList.map((file) => {\n      const cloneFile = cloneDeep(file);\n      return __spreadProps(__spreadValues({}, cloneFile), {\n        uid: file.uid || genUid(tempIndex++),\n        status: file.status || \"success\"\n      });\n    });\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    abort,\n    clearFiles,\n    handleError,\n    handleProgress,\n    handleStart,\n    handleSuccess,\n    handleRemove,\n    submit,\n    uploadFiles,\n    uploadRef\n  };\n};\n\nvar script$3 = defineComponent({\n  name: \"ElUpload\",\n  components: {\n    Upload: script$2,\n    UploadList: script\n  },\n  props: {\n    action: {\n      type: String,\n      required: true\n    },\n    headers: {\n      type: Object,\n      default: () => ({})\n    },\n    data: {\n      type: Object,\n      default: () => ({})\n    },\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    name: {\n      type: String,\n      default: \"file\"\n    },\n    drag: {\n      type: Boolean,\n      default: false\n    },\n    withCredentials: Boolean,\n    showFileList: {\n      type: Boolean,\n      default: true\n    },\n    accept: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"select\"\n    },\n    beforeUpload: {\n      type: Function,\n      default: NOOP\n    },\n    beforeRemove: {\n      type: Function,\n      default: NOOP\n    },\n    onRemove: {\n      type: Function,\n      default: NOOP\n    },\n    onChange: {\n      type: Function,\n      default: NOOP\n    },\n    onPreview: {\n      type: Function,\n      default: NOOP\n    },\n    onSuccess: {\n      type: Function,\n      default: NOOP\n    },\n    onProgress: {\n      type: Function,\n      default: NOOP\n    },\n    onError: {\n      type: Function,\n      default: NOOP\n    },\n    fileList: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    autoUpload: {\n      type: Boolean,\n      default: true\n    },\n    listType: {\n      type: String,\n      default: \"text\"\n    },\n    httpRequest: {\n      type: Function,\n      default: upload\n    },\n    disabled: Boolean,\n    limit: {\n      type: Number,\n      default: null\n    },\n    onExceed: {\n      type: Function,\n      default: () => NOOP\n    }\n  },\n  setup(props) {\n    const elForm = inject(elFormKey, {});\n    const uploadDisabled = computed(() => {\n      return props.disabled || elForm.disabled;\n    });\n    const {\n      abort,\n      clearFiles,\n      handleError,\n      handleProgress,\n      handleStart,\n      handleSuccess,\n      handleRemove,\n      submit,\n      uploadRef,\n      uploadFiles\n    } = useHandlers(props);\n    provide(\"uploader\", getCurrentInstance());\n    onBeforeUnmount(() => {\n      uploadFiles.value.forEach((file) => {\n        if (file.url && file.url.indexOf(\"blob:\") === 0) {\n          URL.revokeObjectURL(file.url);\n        }\n      });\n    });\n    return {\n      abort,\n      dragOver: ref(false),\n      draging: ref(false),\n      handleError,\n      handleProgress,\n      handleRemove,\n      handleStart,\n      handleSuccess,\n      uploadDisabled,\n      uploadFiles,\n      uploadRef,\n      submit,\n      clearFiles\n    };\n  },\n  render() {\n    var _a, _b;\n    let uploadList;\n    if (this.showFileList) {\n      uploadList = h(script, {\n        disabled: this.uploadDisabled,\n        listType: this.listType,\n        files: this.uploadFiles,\n        onRemove: this.handleRemove,\n        handlePreview: this.onPreview\n      }, this.$slots.file ? {\n        default: (props) => {\n          return this.$slots.file({\n            file: props.file\n          });\n        }\n      } : null);\n    } else {\n      uploadList = null;\n    }\n    const uploadData = {\n      type: this.type,\n      drag: this.drag,\n      action: this.action,\n      multiple: this.multiple,\n      \"before-upload\": this.beforeUpload,\n      \"with-credentials\": this.withCredentials,\n      headers: this.headers,\n      name: this.name,\n      data: this.data,\n      accept: this.accept,\n      fileList: this.uploadFiles,\n      autoUpload: this.autoUpload,\n      listType: this.listType,\n      disabled: this.uploadDisabled,\n      limit: this.limit,\n      \"on-exceed\": this.onExceed,\n      \"on-start\": this.handleStart,\n      \"on-progress\": this.handleProgress,\n      \"on-success\": this.handleSuccess,\n      \"on-error\": this.handleError,\n      \"on-preview\": this.onPreview,\n      \"on-remove\": this.handleRemove,\n      \"http-request\": this.httpRequest,\n      ref: \"uploadRef\"\n    };\n    const trigger = this.$slots.trigger || this.$slots.default;\n    const uploadComponent = h(script$2, uploadData, {\n      default: () => trigger == null ? void 0 : trigger()\n    });\n    return h(\"div\", [\n      this.listType === \"picture-card\" ? uploadList : null,\n      this.$slots.trigger ? [uploadComponent, this.$slots.default()] : uploadComponent,\n      (_b = (_a = this.$slots).tip) == null ? void 0 : _b.call(_a),\n      this.listType !== \"picture-card\" ? uploadList : null\n    ]);\n  }\n});\n\nscript$3.__file = \"packages/upload/src/index.vue\";\n\nscript$3.install = (app) => {\n  app.component(script$3.name, script$3);\n};\nconst _Upload = script$3;\n\nexport default _Upload;\n"]},"metadata":{},"sourceType":"module"}