{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport { on, once, off } from '../utils/dom';\nimport isServer from '../utils/isServer';\nimport { nextTick } from 'vue';\nimport { obtainAllFocusableElements, EVENT_CODE } from '../utils/aria';\nimport normalizeWheel from 'normalize-wheel';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nvar nodeList = new Map();\nvar startClick;\n\nif (!isServer) {\n  on(document, \"mousedown\", function (e) {\n    return startClick = e;\n  });\n  on(document, \"mouseup\", function (e) {\n    var _iterator = _createForOfIteratorHelper(nodeList.values()),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var handlers = _step.value;\n\n        var _iterator2 = _createForOfIteratorHelper(handlers),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var documentHandler = _step2.value.documentHandler;\n            documentHandler(e, startClick);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  });\n}\n\nfunction createDocumentHandler(el, binding) {\n  var excludes = [];\n\n  if (Array.isArray(binding.arg)) {\n    excludes = binding.arg;\n  } else if (binding.arg instanceof HTMLElement) {\n    excludes.push(binding.arg);\n  }\n\n  return function (mouseup, mousedown) {\n    var popperRef = binding.instance.popperRef;\n    var mouseUpTarget = mouseup.target;\n    var mouseDownTarget = mousedown == null ? void 0 : mousedown.target;\n    var isBound = !binding || !binding.instance;\n    var isTargetExists = !mouseUpTarget || !mouseDownTarget;\n    var isContainedByEl = el.contains(mouseUpTarget) || el.contains(mouseDownTarget);\n    var isSelf = el === mouseUpTarget;\n    var isTargetExcluded = excludes.length && excludes.some(function (item) {\n      return item == null ? void 0 : item.contains(mouseUpTarget);\n    }) || excludes.length && excludes.includes(mouseDownTarget);\n    var isContainedByPopper = popperRef && (popperRef.contains(mouseUpTarget) || popperRef.contains(mouseDownTarget));\n\n    if (isBound || isTargetExists || isContainedByEl || isSelf || isTargetExcluded || isContainedByPopper) {\n      return;\n    }\n\n    binding.value(mouseup, mousedown);\n  };\n}\n\nvar ClickOutside = {\n  beforeMount: function beforeMount(el, binding) {\n    if (!nodeList.has(el)) {\n      nodeList.set(el, []);\n    }\n\n    nodeList.get(el).push({\n      documentHandler: createDocumentHandler(el, binding),\n      bindingFn: binding.value\n    });\n  },\n  updated: function updated(el, binding) {\n    if (!nodeList.has(el)) {\n      nodeList.set(el, []);\n    }\n\n    var handlers = nodeList.get(el);\n    var oldHandlerIndex = handlers.findIndex(function (item) {\n      return item.bindingFn === binding.oldValue;\n    });\n    var newHandler = {\n      documentHandler: createDocumentHandler(el, binding),\n      bindingFn: binding.value\n    };\n\n    if (oldHandlerIndex >= 0) {\n      handlers.splice(oldHandlerIndex, 1, newHandler);\n    } else {\n      handlers.push(newHandler);\n    }\n  },\n  unmounted: function unmounted(el) {\n    nodeList.delete(el);\n  }\n};\nvar index = {\n  beforeMount: function beforeMount(el, binding) {\n    var interval = null;\n    var startTime;\n\n    var handler = function handler() {\n      return binding.value && binding.value();\n    };\n\n    var clear = function clear() {\n      if (Date.now() - startTime < 100) {\n        handler();\n      }\n\n      clearInterval(interval);\n      interval = null;\n    };\n\n    on(el, \"mousedown\", function (e) {\n      if (e.button !== 0) return;\n      startTime = Date.now();\n      once(document, \"mouseup\", clear);\n      clearInterval(interval);\n      interval = setInterval(handler, 100);\n    });\n  }\n};\nvar FOCUSABLE_CHILDREN = \"_trap-focus-children\";\nvar FOCUS_STACK = [];\n\nvar FOCUS_HANDLER = function FOCUS_HANDLER(e) {\n  var _a;\n\n  if (FOCUS_STACK.length === 0) return;\n  var focusableElement = FOCUS_STACK[FOCUS_STACK.length - 1][FOCUSABLE_CHILDREN];\n\n  if (focusableElement.length > 0 && e.code === EVENT_CODE.tab) {\n    if (focusableElement.length === 1) {\n      e.preventDefault();\n\n      if (document.activeElement !== focusableElement[0]) {\n        focusableElement[0].focus();\n      }\n\n      return;\n    }\n\n    var goingBackward = e.shiftKey;\n    var isFirst = e.target === focusableElement[0];\n    var isLast = e.target === focusableElement[focusableElement.length - 1];\n\n    if (isFirst && goingBackward) {\n      e.preventDefault();\n      focusableElement[focusableElement.length - 1].focus();\n    }\n\n    if (isLast && !goingBackward) {\n      e.preventDefault();\n      focusableElement[0].focus();\n    }\n\n    if (process.env.NODE_ENV === \"test\") {\n      var _index = focusableElement.findIndex(function (element) {\n        return element === e.target;\n      });\n\n      if (_index !== -1) {\n        (_a = focusableElement[goingBackward ? _index - 1 : _index + 1]) == null ? void 0 : _a.focus();\n      }\n    }\n  }\n};\n\nvar TrapFocus = {\n  beforeMount: function beforeMount(el) {\n    el[FOCUSABLE_CHILDREN] = obtainAllFocusableElements(el);\n    FOCUS_STACK.push(el);\n\n    if (FOCUS_STACK.length <= 1) {\n      on(document, \"keydown\", FOCUS_HANDLER);\n    }\n  },\n  updated: function updated(el) {\n    nextTick(function () {\n      el[FOCUSABLE_CHILDREN] = obtainAllFocusableElements(el);\n    });\n  },\n  unmounted: function unmounted() {\n    FOCUS_STACK.shift();\n\n    if (FOCUS_STACK.length === 0) {\n      off(document, \"keydown\", FOCUS_HANDLER);\n    }\n  }\n};\nvar isFirefox = typeof navigator !== \"undefined\" && navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n\nvar mousewheel = function mousewheel(element, callback) {\n  if (element && element.addEventListener) {\n    var fn = function fn(event) {\n      var normalized = normalizeWheel(event);\n      callback && callback.apply(this, [event, normalized]);\n    };\n\n    if (isFirefox) {\n      element.addEventListener(\"DOMMouseScroll\", fn);\n    } else {\n      element.onmousewheel = fn;\n    }\n  }\n};\n\nvar Mousewheel = {\n  beforeMount: function beforeMount(el, binding) {\n    mousewheel(el, binding.value);\n  }\n};\nvar Resize = {\n  beforeMount: function beforeMount(el, binding) {\n    el._handleResize = function () {\n      var _a;\n\n      el && ((_a = binding.value) == null ? void 0 : _a.call(binding));\n    };\n\n    addResizeListener(el, el._handleResize);\n  },\n  beforeUnmount: function beforeUnmount(el) {\n    removeResizeListener(el, el._handleResize);\n  }\n};\nexport { ClickOutside, Mousewheel, index as RepeatClick, Resize, TrapFocus };","map":{"version":3,"sources":["/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/element-plus/es/directives/index.js"],"names":["on","once","off","isServer","nextTick","obtainAllFocusableElements","EVENT_CODE","normalizeWheel","addResizeListener","removeResizeListener","nodeList","Map","startClick","document","e","values","handlers","documentHandler","createDocumentHandler","el","binding","excludes","Array","isArray","arg","HTMLElement","push","mouseup","mousedown","popperRef","instance","mouseUpTarget","target","mouseDownTarget","isBound","isTargetExists","isContainedByEl","contains","isSelf","isTargetExcluded","length","some","item","includes","isContainedByPopper","value","ClickOutside","beforeMount","has","set","get","bindingFn","updated","oldHandlerIndex","findIndex","oldValue","newHandler","splice","unmounted","delete","index","interval","startTime","handler","clear","Date","now","clearInterval","button","setInterval","FOCUSABLE_CHILDREN","FOCUS_STACK","FOCUS_HANDLER","_a","focusableElement","code","tab","preventDefault","activeElement","focus","goingBackward","shiftKey","isFirst","isLast","process","env","NODE_ENV","element","TrapFocus","shift","isFirefox","navigator","userAgent","toLowerCase","indexOf","mousewheel","callback","addEventListener","fn","event","normalized","apply","onmousewheel","Mousewheel","Resize","_handleResize","call","beforeUnmount","RepeatClick"],"mappings":"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","sourcesContent":["import { on, once, off } from '../utils/dom';\nimport isServer from '../utils/isServer';\nimport { nextTick } from 'vue';\nimport { obtainAllFocusableElements, EVENT_CODE } from '../utils/aria';\nimport normalizeWheel from 'normalize-wheel';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\n\nconst nodeList = new Map();\nlet startClick;\nif (!isServer) {\n  on(document, \"mousedown\", (e) => startClick = e);\n  on(document, \"mouseup\", (e) => {\n    for (const handlers of nodeList.values()) {\n      for (const { documentHandler } of handlers) {\n        documentHandler(e, startClick);\n      }\n    }\n  });\n}\nfunction createDocumentHandler(el, binding) {\n  let excludes = [];\n  if (Array.isArray(binding.arg)) {\n    excludes = binding.arg;\n  } else if (binding.arg instanceof HTMLElement) {\n    excludes.push(binding.arg);\n  }\n  return function(mouseup, mousedown) {\n    const popperRef = binding.instance.popperRef;\n    const mouseUpTarget = mouseup.target;\n    const mouseDownTarget = mousedown == null ? void 0 : mousedown.target;\n    const isBound = !binding || !binding.instance;\n    const isTargetExists = !mouseUpTarget || !mouseDownTarget;\n    const isContainedByEl = el.contains(mouseUpTarget) || el.contains(mouseDownTarget);\n    const isSelf = el === mouseUpTarget;\n    const isTargetExcluded = excludes.length && excludes.some((item) => item == null ? void 0 : item.contains(mouseUpTarget)) || excludes.length && excludes.includes(mouseDownTarget);\n    const isContainedByPopper = popperRef && (popperRef.contains(mouseUpTarget) || popperRef.contains(mouseDownTarget));\n    if (isBound || isTargetExists || isContainedByEl || isSelf || isTargetExcluded || isContainedByPopper) {\n      return;\n    }\n    binding.value(mouseup, mousedown);\n  };\n}\nconst ClickOutside = {\n  beforeMount(el, binding) {\n    if (!nodeList.has(el)) {\n      nodeList.set(el, []);\n    }\n    nodeList.get(el).push({\n      documentHandler: createDocumentHandler(el, binding),\n      bindingFn: binding.value\n    });\n  },\n  updated(el, binding) {\n    if (!nodeList.has(el)) {\n      nodeList.set(el, []);\n    }\n    const handlers = nodeList.get(el);\n    const oldHandlerIndex = handlers.findIndex((item) => item.bindingFn === binding.oldValue);\n    const newHandler = {\n      documentHandler: createDocumentHandler(el, binding),\n      bindingFn: binding.value\n    };\n    if (oldHandlerIndex >= 0) {\n      handlers.splice(oldHandlerIndex, 1, newHandler);\n    } else {\n      handlers.push(newHandler);\n    }\n  },\n  unmounted(el) {\n    nodeList.delete(el);\n  }\n};\n\nvar index = {\n  beforeMount(el, binding) {\n    let interval = null;\n    let startTime;\n    const handler = () => binding.value && binding.value();\n    const clear = () => {\n      if (Date.now() - startTime < 100) {\n        handler();\n      }\n      clearInterval(interval);\n      interval = null;\n    };\n    on(el, \"mousedown\", (e) => {\n      if (e.button !== 0)\n        return;\n      startTime = Date.now();\n      once(document, \"mouseup\", clear);\n      clearInterval(interval);\n      interval = setInterval(handler, 100);\n    });\n  }\n};\n\nconst FOCUSABLE_CHILDREN = \"_trap-focus-children\";\nconst FOCUS_STACK = [];\nconst FOCUS_HANDLER = (e) => {\n  var _a;\n  if (FOCUS_STACK.length === 0)\n    return;\n  const focusableElement = FOCUS_STACK[FOCUS_STACK.length - 1][FOCUSABLE_CHILDREN];\n  if (focusableElement.length > 0 && e.code === EVENT_CODE.tab) {\n    if (focusableElement.length === 1) {\n      e.preventDefault();\n      if (document.activeElement !== focusableElement[0]) {\n        focusableElement[0].focus();\n      }\n      return;\n    }\n    const goingBackward = e.shiftKey;\n    const isFirst = e.target === focusableElement[0];\n    const isLast = e.target === focusableElement[focusableElement.length - 1];\n    if (isFirst && goingBackward) {\n      e.preventDefault();\n      focusableElement[focusableElement.length - 1].focus();\n    }\n    if (isLast && !goingBackward) {\n      e.preventDefault();\n      focusableElement[0].focus();\n    }\n    if (process.env.NODE_ENV === \"test\") {\n      const index = focusableElement.findIndex((element) => element === e.target);\n      if (index !== -1) {\n        (_a = focusableElement[goingBackward ? index - 1 : index + 1]) == null ? void 0 : _a.focus();\n      }\n    }\n  }\n};\nconst TrapFocus = {\n  beforeMount(el) {\n    el[FOCUSABLE_CHILDREN] = obtainAllFocusableElements(el);\n    FOCUS_STACK.push(el);\n    if (FOCUS_STACK.length <= 1) {\n      on(document, \"keydown\", FOCUS_HANDLER);\n    }\n  },\n  updated(el) {\n    nextTick(() => {\n      el[FOCUSABLE_CHILDREN] = obtainAllFocusableElements(el);\n    });\n  },\n  unmounted() {\n    FOCUS_STACK.shift();\n    if (FOCUS_STACK.length === 0) {\n      off(document, \"keydown\", FOCUS_HANDLER);\n    }\n  }\n};\n\nconst isFirefox = typeof navigator !== \"undefined\" && navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\nconst mousewheel = function(element, callback) {\n  if (element && element.addEventListener) {\n    const fn = function(event) {\n      const normalized = normalizeWheel(event);\n      callback && callback.apply(this, [event, normalized]);\n    };\n    if (isFirefox) {\n      element.addEventListener(\"DOMMouseScroll\", fn);\n    } else {\n      element.onmousewheel = fn;\n    }\n  }\n};\nconst Mousewheel = {\n  beforeMount(el, binding) {\n    mousewheel(el, binding.value);\n  }\n};\n\nconst Resize = {\n  beforeMount(el, binding) {\n    el._handleResize = () => {\n      var _a;\n      el && ((_a = binding.value) == null ? void 0 : _a.call(binding));\n    };\n    addResizeListener(el, el._handleResize);\n  },\n  beforeUnmount(el) {\n    removeResizeListener(el, el._handleResize);\n  }\n};\n\nexport { ClickOutside, Mousewheel, index as RepeatClick, Resize, TrapFocus };\n"]},"metadata":{},"sourceType":"module"}