{"ast":null,"code":"import _toConsumableArray from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { defineComponent, openBlock, createBlock, Transition, mergeProps, toHandlers, withCtx, renderSlot, computed, ref, getCurrentInstance, watch, provide, onMounted, isRef, resolveComponent } from 'vue';\nimport mitt from 'mitt';\nimport Menubar from '../utils/menu/menu-bar';\nimport { addClass, removeClass, hasClass } from '../utils/dom';\nvar script = defineComponent({\n  name: \"ElMenuCollapseTransition\",\n  setup: function setup() {\n    return {\n      on: {\n        beforeEnter: function beforeEnter(el) {\n          el.style.opacity = 0.2;\n        },\n        enter: function enter(el, done) {\n          addClass(el, \"el-opacity-transition\");\n          el.style.opacity = 1;\n          done();\n        },\n        afterEnter: function afterEnter(el) {\n          removeClass(el, \"el-opacity-transition\");\n          el.style.opacity = \"\";\n        },\n        beforeLeave: function beforeLeave(el) {\n          if (!el.dataset) el.dataset = {};\n\n          if (hasClass(el, \"el-menu--collapse\")) {\n            removeClass(el, \"el-menu--collapse\");\n            el.dataset.oldOverflow = el.style.overflow;\n            el.dataset.scrollWidth = el.clientWidth;\n            addClass(el, \"el-menu--collapse\");\n          } else {\n            addClass(el, \"el-menu--collapse\");\n            el.dataset.oldOverflow = el.style.overflow;\n            el.dataset.scrollWidth = el.clientWidth;\n            removeClass(el, \"el-menu--collapse\");\n          }\n\n          el.style.width = el.scrollWidth + \"px\";\n          el.style.overflow = \"hidden\";\n        },\n        leave: function leave(el) {\n          addClass(el, \"horizontal-collapse-transition\");\n          el.style.width = el.dataset.scrollWidth + \"px\";\n        }\n      }\n    };\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, mergeProps({\n    mode: \"out-in\"\n  }, toHandlers(_ctx.on)), {\n    default: withCtx(function () {\n      return [renderSlot(_ctx.$slots, \"default\")];\n    }),\n    _: 3\n  }, 16);\n}\n\nscript.render = render;\nscript.__file = \"packages/menu/src/menu-collapse-transition.vue\";\n\nfunction useMenuColor(props) {\n  var menuBarColor = computed(function () {\n    var color = props.backgroundColor;\n\n    if (!color) {\n      return \"\";\n    } else {\n      return mixColor(color);\n    }\n  });\n\n  function calcColorChannels(c) {\n    var rawColor = c.replace(\"#\", \"\");\n\n    if (/^[0-9a-fA-F]{3}$/.test(rawColor)) {\n      var color = rawColor.split(\"\");\n\n      for (var i = 2; i >= 0; i--) {\n        color.splice(i, 0, color[i]);\n      }\n\n      rawColor = color.join(\"\");\n    }\n\n    if (/^[0-9a-fA-F]{6}$/.test(rawColor)) {\n      return {\n        red: parseInt(rawColor.slice(0, 2), 16),\n        green: parseInt(rawColor.slice(2, 4), 16),\n        blue: parseInt(rawColor.slice(4, 6), 16)\n      };\n    } else {\n      return {\n        red: 255,\n        green: 255,\n        blue: 255\n      };\n    }\n  }\n\n  function mixColor(color) {\n    var percent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.2;\n\n    var _calcColorChannels = calcColorChannels(color),\n        red = _calcColorChannels.red,\n        green = _calcColorChannels.green,\n        blue = _calcColorChannels.blue;\n\n    if (percent > 0) {\n      red *= 1 - percent;\n      green *= 1 - percent;\n      blue *= 1 - percent;\n    } else {\n      red += (255 - red) * percent;\n      green += (255 - green) * percent;\n      blue += (255 - blue) * percent;\n    }\n\n    return \"rgb(\".concat(Math.round(red), \", \").concat(Math.round(green), \", \").concat(Math.round(blue), \")\");\n  }\n\n  return menuBarColor;\n}\n\nvar script$1 = defineComponent({\n  name: \"ElMenu\",\n  componentName: \"ElMenu\",\n  components: {\n    ElMenuCollapseTransition: script\n  },\n  props: {\n    mode: {\n      type: String,\n      default: \"vertical\"\n    },\n    defaultActive: {\n      type: String,\n      default: \"\"\n    },\n    defaultOpeneds: Array,\n    uniqueOpened: Boolean,\n    router: Boolean,\n    menuTrigger: {\n      type: String,\n      default: \"hover\"\n    },\n    collapse: Boolean,\n    backgroundColor: {\n      type: String\n    },\n    textColor: {\n      type: String\n    },\n    activeTextColor: {\n      type: String\n    },\n    collapseTransition: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\"close\", \"open\", \"select\"],\n  setup: function setup(props, ctx) {\n    var openedMenus = ref(props.defaultOpeneds && !props.collapse ? props.defaultOpeneds.slice(0) : []);\n    var instance = getCurrentInstance();\n    var activeIndex = ref(props.defaultActive);\n    var items = ref({});\n    var submenus = ref({});\n    var alteredCollapse = ref(false);\n    var rootMenuEmitter = mitt();\n    var router = instance.appContext.config.globalProperties.$router;\n    var hoverBackground = useMenuColor(props);\n    var isMenuPopup = computed(function () {\n      return props.mode === \"horizontal\" || props.mode === \"vertical\" && props.collapse;\n    });\n\n    var initializeMenu = function initializeMenu() {\n      var index = activeIndex.value;\n      var activeItem = items.value[index];\n      if (!activeItem || props.mode === \"horizontal\" || props.collapse) return;\n      var indexPath = activeItem.indexPath;\n      indexPath.forEach(function (index2) {\n        var submenu = submenus.value[index2];\n        submenu && openMenu(index2, submenu == null ? void 0 : submenu.indexPath);\n      });\n    };\n\n    var addSubMenu = function addSubMenu(item) {\n      submenus.value[item.index] = item;\n    };\n\n    var removeSubMenu = function removeSubMenu(item) {\n      delete submenus.value[item.index];\n    };\n\n    var addMenuItem = function addMenuItem(item) {\n      items.value[item.index] = item;\n    };\n\n    var removeMenuItem = function removeMenuItem(item) {\n      delete items.value[item.index];\n    };\n\n    var openMenu = function openMenu(index, indexPath) {\n      if (openedMenus.value.includes(index)) return;\n\n      if (props.uniqueOpened) {\n        openedMenus.value = openedMenus.value.filter(function (index2) {\n          return (isRef(indexPath) ? indexPath.value : indexPath).indexOf(index2) !== -1;\n        });\n      }\n\n      openedMenus.value.push(index);\n    };\n\n    var closeMenu = function closeMenu(index) {\n      var i = openedMenus.value.indexOf(index);\n\n      if (i !== -1) {\n        openedMenus.value.splice(i, 1);\n      }\n    };\n\n    var open = function open(index) {\n      var indexPath = submenus.value[index.toString()].indexPath;\n      indexPath.forEach(function (i) {\n        return openMenu(i, indexPath);\n      });\n    };\n\n    var close = function close(index) {\n      closeMenu(index);\n    };\n\n    var handleSubmenuClick = function handleSubmenuClick(submenu) {\n      var index = submenu.index,\n          indexPath = submenu.indexPath;\n      var isOpened = openedMenus.value.includes(index);\n\n      if (isOpened) {\n        closeMenu(index);\n        ctx.emit(\"close\", index, indexPath.value);\n      } else {\n        openMenu(index, indexPath);\n        ctx.emit(\"open\", index, indexPath.value);\n      }\n    };\n\n    var handleItemClick = function handleItemClick(item) {\n      var index = item.index,\n          indexPath = item.indexPath;\n      var hasIndex = item.index !== null;\n      var emitParams = [index, indexPath.value, item];\n\n      if (props.mode === \"horizontal\" || props.collapse) {\n        openedMenus.value = [];\n      }\n\n      if (!hasIndex) {\n        return;\n      }\n\n      if (props.router && router) {\n        var route = item.route || item.index;\n        var routerResult = router.push(route).then(function (navigationResult) {\n          if (!navigationResult) {\n            activeIndex.value = item.index;\n          }\n\n          return navigationResult;\n        });\n        ctx.emit.apply(ctx, [\"select\"].concat(_toConsumableArray(emitParams.concat(routerResult))));\n      } else {\n        activeIndex.value = item.index;\n        ctx.emit.apply(ctx, [\"select\"].concat(emitParams));\n      }\n    };\n\n    var updateActiveIndex = function updateActiveIndex(val) {\n      var itemsInData = items.value;\n      var item = itemsInData[val] || itemsInData[activeIndex.value] || itemsInData[props.defaultActive];\n\n      if (item) {\n        activeIndex.value = item.index;\n        initializeMenu();\n      } else {\n        if (!alteredCollapse.value) {\n          activeIndex.value = null;\n        } else {\n          alteredCollapse.value = false;\n        }\n      }\n    };\n\n    watch(function () {\n      return props.defaultActive;\n    }, function (currentActive) {\n      if (!items.value[currentActive]) {\n        activeIndex.value = \"\";\n      }\n\n      updateActiveIndex(currentActive);\n    });\n    watch(items.value, function () {\n      updateActiveIndex();\n    });\n    watch(function () {\n      return props.collapse;\n    }, function (value, prev) {\n      if (value !== prev) {\n        alteredCollapse.value = true;\n      }\n\n      if (value) openedMenus.value = [];\n      rootMenuEmitter.emit(\"rootMenu:toggle-collapse\", Boolean(props.collapse));\n    });\n    provide(\"rootMenu\", {\n      props: props,\n      openedMenus: openedMenus,\n      items: items,\n      submenus: submenus,\n      hoverBackground: hoverBackground,\n      activeIndex: activeIndex,\n      isMenuPopup: isMenuPopup,\n      methods: {\n        addMenuItem: addMenuItem,\n        removeMenuItem: removeMenuItem,\n        addSubMenu: addSubMenu,\n        removeSubMenu: removeSubMenu,\n        openMenu: openMenu,\n        closeMenu: closeMenu\n      },\n      rootMenuEmit: rootMenuEmitter.emit,\n      rootMenuOn: rootMenuEmitter.on\n    });\n    provide(\"subMenu:\".concat(instance.uid), {\n      addSubMenu: addSubMenu,\n      removeSubMenu: removeSubMenu\n    });\n    onMounted(function () {\n      initializeMenu();\n      rootMenuEmitter.on(\"menuItem:item-click\", handleItemClick);\n      rootMenuEmitter.on(\"submenu:submenu-click\", handleSubmenuClick);\n\n      if (props.mode === \"horizontal\") {\n        new Menubar(instance.vnode.el);\n      }\n    });\n    return {\n      hoverBackground: hoverBackground,\n      isMenuPopup: isMenuPopup,\n      props: props,\n      open: open,\n      close: close\n    };\n  }\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_menu_collapse_transition = resolveComponent(\"el-menu-collapse-transition\");\n\n  return _ctx.props.collapseTransition ? (openBlock(), createBlock(_component_el_menu_collapse_transition, {\n    key: 0\n  }, {\n    default: withCtx(function () {\n      return [(openBlock(), createBlock(\"ul\", {\n        key: +_ctx.props.collapse,\n        role: \"menubar\",\n        style: {\n          backgroundColor: _ctx.props.backgroundColor || \"\"\n        },\n        class: {\n          \"el-menu\": true,\n          \"el-menu--horizontal\": _ctx.mode === \"horizontal\",\n          \"el-menu--collapse\": _ctx.props.collapse\n        }\n      }, [renderSlot(_ctx.$slots, \"default\")], 6))];\n    }),\n    _: 3\n  })) : (openBlock(), createBlock(\"ul\", {\n    key: +_ctx.props.collapse,\n    role: \"menubar\",\n    style: {\n      backgroundColor: _ctx.props.backgroundColor || \"\"\n    },\n    class: {\n      \"el-menu\": true,\n      \"el-menu--horizontal\": _ctx.mode === \"horizontal\",\n      \"el-menu--collapse\": _ctx.props.collapse\n    }\n  }, [renderSlot(_ctx.$slots, \"default\")], 6));\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/menu/src/menu.vue\";\n\nscript$1.install = function (app) {\n  app.component(script$1.name, script$1);\n};\n\nvar _Menu = script$1;\nexport default _Menu;","map":{"version":3,"sources":["/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/element-plus/es/el-menu/index.js"],"names":["defineComponent","openBlock","createBlock","Transition","mergeProps","toHandlers","withCtx","renderSlot","computed","ref","getCurrentInstance","watch","provide","onMounted","isRef","resolveComponent","mitt","Menubar","addClass","removeClass","hasClass","script","name","setup","on","beforeEnter","el","style","opacity","enter","done","afterEnter","beforeLeave","dataset","oldOverflow","overflow","scrollWidth","clientWidth","width","leave","render","_ctx","_cache","$props","$setup","$data","$options","mode","default","$slots","_","__file","useMenuColor","props","menuBarColor","color","backgroundColor","mixColor","calcColorChannels","c","rawColor","replace","test","split","i","splice","join","red","parseInt","slice","green","blue","percent","Math","round","script$1","componentName","components","ElMenuCollapseTransition","type","String","defaultActive","defaultOpeneds","Array","uniqueOpened","Boolean","router","menuTrigger","collapse","textColor","activeTextColor","collapseTransition","emits","ctx","openedMenus","instance","activeIndex","items","submenus","alteredCollapse","rootMenuEmitter","appContext","config","globalProperties","$router","hoverBackground","isMenuPopup","initializeMenu","index","value","activeItem","indexPath","forEach","index2","submenu","openMenu","addSubMenu","item","removeSubMenu","addMenuItem","removeMenuItem","includes","filter","indexOf","push","closeMenu","open","toString","close","handleSubmenuClick","isOpened","emit","handleItemClick","hasIndex","emitParams","route","routerResult","then","navigationResult","concat","updateActiveIndex","val","itemsInData","currentActive","prev","methods","rootMenuEmit","rootMenuOn","uid","vnode","render$1","_component_el_menu_collapse_transition","key","role","class","install","app","component","_Menu"],"mappings":"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","sourcesContent":["import { defineComponent, openBlock, createBlock, Transition, mergeProps, toHandlers, withCtx, renderSlot, computed, ref, getCurrentInstance, watch, provide, onMounted, isRef, resolveComponent } from 'vue';\nimport mitt from 'mitt';\nimport Menubar from '../utils/menu/menu-bar';\nimport { addClass, removeClass, hasClass } from '../utils/dom';\n\nvar script = defineComponent({\n  name: \"ElMenuCollapseTransition\",\n  setup() {\n    return {\n      on: {\n        beforeEnter(el) {\n          el.style.opacity = 0.2;\n        },\n        enter(el, done) {\n          addClass(el, \"el-opacity-transition\");\n          el.style.opacity = 1;\n          done();\n        },\n        afterEnter(el) {\n          removeClass(el, \"el-opacity-transition\");\n          el.style.opacity = \"\";\n        },\n        beforeLeave(el) {\n          if (!el.dataset)\n            el.dataset = {};\n          if (hasClass(el, \"el-menu--collapse\")) {\n            removeClass(el, \"el-menu--collapse\");\n            el.dataset.oldOverflow = el.style.overflow;\n            el.dataset.scrollWidth = el.clientWidth;\n            addClass(el, \"el-menu--collapse\");\n          } else {\n            addClass(el, \"el-menu--collapse\");\n            el.dataset.oldOverflow = el.style.overflow;\n            el.dataset.scrollWidth = el.clientWidth;\n            removeClass(el, \"el-menu--collapse\");\n          }\n          el.style.width = el.scrollWidth + \"px\";\n          el.style.overflow = \"hidden\";\n        },\n        leave(el) {\n          addClass(el, \"horizontal-collapse-transition\");\n          el.style.width = el.dataset.scrollWidth + \"px\";\n        }\n      }\n    };\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, mergeProps({ mode: \"out-in\" }, toHandlers(_ctx.on)), {\n    default: withCtx(() => [\n      renderSlot(_ctx.$slots, \"default\")\n    ]),\n    _: 3\n  }, 16);\n}\n\nscript.render = render;\nscript.__file = \"packages/menu/src/menu-collapse-transition.vue\";\n\nfunction useMenuColor(props) {\n  const menuBarColor = computed(() => {\n    const color = props.backgroundColor;\n    if (!color) {\n      return \"\";\n    } else {\n      return mixColor(color);\n    }\n  });\n  function calcColorChannels(c) {\n    let rawColor = c.replace(\"#\", \"\");\n    if (/^[0-9a-fA-F]{3}$/.test(rawColor)) {\n      const color = rawColor.split(\"\");\n      for (let i = 2; i >= 0; i--) {\n        color.splice(i, 0, color[i]);\n      }\n      rawColor = color.join(\"\");\n    }\n    if (/^[0-9a-fA-F]{6}$/.test(rawColor)) {\n      return {\n        red: parseInt(rawColor.slice(0, 2), 16),\n        green: parseInt(rawColor.slice(2, 4), 16),\n        blue: parseInt(rawColor.slice(4, 6), 16)\n      };\n    } else {\n      return {\n        red: 255,\n        green: 255,\n        blue: 255\n      };\n    }\n  }\n  function mixColor(color, percent = 0.2) {\n    let { red, green, blue } = calcColorChannels(color);\n    if (percent > 0) {\n      red *= 1 - percent;\n      green *= 1 - percent;\n      blue *= 1 - percent;\n    } else {\n      red += (255 - red) * percent;\n      green += (255 - green) * percent;\n      blue += (255 - blue) * percent;\n    }\n    return `rgb(${Math.round(red)}, ${Math.round(green)}, ${Math.round(blue)})`;\n  }\n  return menuBarColor;\n}\n\nvar script$1 = defineComponent({\n  name: \"ElMenu\",\n  componentName: \"ElMenu\",\n  components: {\n    ElMenuCollapseTransition: script\n  },\n  props: {\n    mode: {\n      type: String,\n      default: \"vertical\"\n    },\n    defaultActive: {\n      type: String,\n      default: \"\"\n    },\n    defaultOpeneds: Array,\n    uniqueOpened: Boolean,\n    router: Boolean,\n    menuTrigger: {\n      type: String,\n      default: \"hover\"\n    },\n    collapse: Boolean,\n    backgroundColor: { type: String },\n    textColor: { type: String },\n    activeTextColor: { type: String },\n    collapseTransition: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\"close\", \"open\", \"select\"],\n  setup(props, ctx) {\n    const openedMenus = ref(props.defaultOpeneds && !props.collapse ? props.defaultOpeneds.slice(0) : []);\n    const instance = getCurrentInstance();\n    const activeIndex = ref(props.defaultActive);\n    const items = ref({});\n    const submenus = ref({});\n    const alteredCollapse = ref(false);\n    const rootMenuEmitter = mitt();\n    const router = instance.appContext.config.globalProperties.$router;\n    const hoverBackground = useMenuColor(props);\n    const isMenuPopup = computed(() => {\n      return props.mode === \"horizontal\" || props.mode === \"vertical\" && props.collapse;\n    });\n    const initializeMenu = () => {\n      const index = activeIndex.value;\n      const activeItem = items.value[index];\n      if (!activeItem || props.mode === \"horizontal\" || props.collapse)\n        return;\n      let indexPath = activeItem.indexPath;\n      indexPath.forEach((index2) => {\n        let submenu = submenus.value[index2];\n        submenu && openMenu(index2, submenu == null ? void 0 : submenu.indexPath);\n      });\n    };\n    const addSubMenu = (item) => {\n      submenus.value[item.index] = item;\n    };\n    const removeSubMenu = (item) => {\n      delete submenus.value[item.index];\n    };\n    const addMenuItem = (item) => {\n      items.value[item.index] = item;\n    };\n    const removeMenuItem = (item) => {\n      delete items.value[item.index];\n    };\n    const openMenu = (index, indexPath) => {\n      if (openedMenus.value.includes(index))\n        return;\n      if (props.uniqueOpened) {\n        openedMenus.value = openedMenus.value.filter((index2) => {\n          return (isRef(indexPath) ? indexPath.value : indexPath).indexOf(index2) !== -1;\n        });\n      }\n      openedMenus.value.push(index);\n    };\n    const closeMenu = (index) => {\n      const i = openedMenus.value.indexOf(index);\n      if (i !== -1) {\n        openedMenus.value.splice(i, 1);\n      }\n    };\n    const open = (index) => {\n      const { indexPath } = submenus.value[index.toString()];\n      indexPath.forEach((i) => openMenu(i, indexPath));\n    };\n    const close = (index) => {\n      closeMenu(index);\n    };\n    const handleSubmenuClick = (submenu) => {\n      const { index, indexPath } = submenu;\n      let isOpened = openedMenus.value.includes(index);\n      if (isOpened) {\n        closeMenu(index);\n        ctx.emit(\"close\", index, indexPath.value);\n      } else {\n        openMenu(index, indexPath);\n        ctx.emit(\"open\", index, indexPath.value);\n      }\n    };\n    const handleItemClick = (item) => {\n      const { index, indexPath } = item;\n      const hasIndex = item.index !== null;\n      const emitParams = [index, indexPath.value, item];\n      if (props.mode === \"horizontal\" || props.collapse) {\n        openedMenus.value = [];\n      }\n      if (!hasIndex) {\n        return;\n      }\n      if (props.router && router) {\n        let route = item.route || item.index;\n        const routerResult = router.push(route).then((navigationResult) => {\n          if (!navigationResult) {\n            activeIndex.value = item.index;\n          }\n          return navigationResult;\n        });\n        ctx.emit(\"select\", ...emitParams.concat(routerResult));\n      } else {\n        activeIndex.value = item.index;\n        ctx.emit(\"select\", ...emitParams);\n      }\n    };\n    const updateActiveIndex = (val) => {\n      const itemsInData = items.value;\n      const item = itemsInData[val] || itemsInData[activeIndex.value] || itemsInData[props.defaultActive];\n      if (item) {\n        activeIndex.value = item.index;\n        initializeMenu();\n      } else {\n        if (!alteredCollapse.value) {\n          activeIndex.value = null;\n        } else {\n          alteredCollapse.value = false;\n        }\n      }\n    };\n    watch(() => props.defaultActive, (currentActive) => {\n      if (!items.value[currentActive]) {\n        activeIndex.value = \"\";\n      }\n      updateActiveIndex(currentActive);\n    });\n    watch(items.value, () => {\n      updateActiveIndex();\n    });\n    watch(() => props.collapse, (value, prev) => {\n      if (value !== prev) {\n        alteredCollapse.value = true;\n      }\n      if (value)\n        openedMenus.value = [];\n      rootMenuEmitter.emit(\"rootMenu:toggle-collapse\", Boolean(props.collapse));\n    });\n    provide(\"rootMenu\", {\n      props,\n      openedMenus,\n      items,\n      submenus,\n      hoverBackground,\n      activeIndex,\n      isMenuPopup,\n      methods: {\n        addMenuItem,\n        removeMenuItem,\n        addSubMenu,\n        removeSubMenu,\n        openMenu,\n        closeMenu\n      },\n      rootMenuEmit: rootMenuEmitter.emit,\n      rootMenuOn: rootMenuEmitter.on\n    });\n    provide(`subMenu:${instance.uid}`, {\n      addSubMenu,\n      removeSubMenu\n    });\n    onMounted(() => {\n      initializeMenu();\n      rootMenuEmitter.on(\"menuItem:item-click\", handleItemClick);\n      rootMenuEmitter.on(\"submenu:submenu-click\", handleSubmenuClick);\n      if (props.mode === \"horizontal\") {\n        new Menubar(instance.vnode.el);\n      }\n    });\n    return {\n      hoverBackground,\n      isMenuPopup,\n      props,\n      open,\n      close\n    };\n  }\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_menu_collapse_transition = resolveComponent(\"el-menu-collapse-transition\");\n  return _ctx.props.collapseTransition ? (openBlock(), createBlock(_component_el_menu_collapse_transition, { key: 0 }, {\n    default: withCtx(() => [\n      (openBlock(), createBlock(\"ul\", {\n        key: +_ctx.props.collapse,\n        role: \"menubar\",\n        style: { backgroundColor: _ctx.props.backgroundColor || \"\" },\n        class: {\n          \"el-menu\": true,\n          \"el-menu--horizontal\": _ctx.mode === \"horizontal\",\n          \"el-menu--collapse\": _ctx.props.collapse\n        }\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 6))\n    ]),\n    _: 3\n  })) : (openBlock(), createBlock(\"ul\", {\n    key: +_ctx.props.collapse,\n    role: \"menubar\",\n    style: { backgroundColor: _ctx.props.backgroundColor || \"\" },\n    class: {\n      \"el-menu\": true,\n      \"el-menu--horizontal\": _ctx.mode === \"horizontal\",\n      \"el-menu--collapse\": _ctx.props.collapse\n    }\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 6));\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/menu/src/menu.vue\";\n\nscript$1.install = (app) => {\n  app.component(script$1.name, script$1);\n};\nconst _Menu = script$1;\n\nexport default _Menu;\n"]},"metadata":{},"sourceType":"module"}