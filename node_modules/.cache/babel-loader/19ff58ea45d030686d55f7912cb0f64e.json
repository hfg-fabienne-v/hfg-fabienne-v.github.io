{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport { isArray, toObject, addUnit, isString, isNumber } from '../utils/util';\nimport { defineComponent, ref, inject, computed, onMounted, onBeforeUnmount, openBlock, createBlock, Transition, withCtx, withDirectives, createVNode, vShow, provide, nextTick, resolveComponent, resolveDynamicComponent, renderSlot, Fragment, createCommentVNode } from 'vue';\nimport { on, off } from '../utils/dom';\nimport { warn } from '../utils/error';\nvar BAR_MAP = {\n  vertical: {\n    offset: \"offsetHeight\",\n    scroll: \"scrollTop\",\n    scrollSize: \"scrollHeight\",\n    size: \"height\",\n    key: \"vertical\",\n    axis: \"Y\",\n    client: \"clientY\",\n    direction: \"top\"\n  },\n  horizontal: {\n    offset: \"offsetWidth\",\n    scroll: \"scrollLeft\",\n    scrollSize: \"scrollWidth\",\n    size: \"width\",\n    key: \"horizontal\",\n    axis: \"X\",\n    client: \"clientX\",\n    direction: \"left\"\n  }\n};\n\nfunction renderThumbStyle(_ref) {\n  var move = _ref.move,\n      size = _ref.size,\n      bar = _ref.bar;\n  var style = {};\n  var translate = \"translate\".concat(bar.axis, \"(\").concat(move, \"%)\");\n  style[bar.size] = size;\n  style.transform = translate;\n  style.msTransform = translate;\n  style.webkitTransform = translate;\n  return style;\n}\n\nvar __pow = Math.pow;\nvar script = defineComponent({\n  name: \"Bar\",\n  props: {\n    vertical: Boolean,\n    size: String,\n    move: Number,\n    ratio: Number,\n    always: Boolean\n  },\n  setup: function setup(props) {\n    var instance = ref(null);\n    var thumb = ref(null);\n    var scrollbar = inject(\"scrollbar\", {});\n    var wrap = inject(\"scrollbar-wrap\", {});\n    var bar = computed(function () {\n      return BAR_MAP[props.vertical ? \"vertical\" : \"horizontal\"];\n    });\n    var barStore = ref({});\n    var cursorDown = ref(null);\n    var cursorLeave = ref(null);\n    var visible = ref(false);\n    var onselectstartStore = null;\n    var offsetRatio = computed(function () {\n      return __pow(instance.value[bar.value.offset], 2) / wrap.value[bar.value.scrollSize] / props.ratio / thumb.value[bar.value.offset];\n    });\n\n    var clickThumbHandler = function clickThumbHandler(e) {\n      e.stopPropagation();\n\n      if (e.ctrlKey || [1, 2].includes(e.button)) {\n        return;\n      }\n\n      window.getSelection().removeAllRanges();\n      startDrag(e);\n      barStore.value[bar.value.axis] = e.currentTarget[bar.value.offset] - (e[bar.value.client] - e.currentTarget.getBoundingClientRect()[bar.value.direction]);\n    };\n\n    var clickTrackHandler = function clickTrackHandler(e) {\n      var offset = Math.abs(e.target.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]);\n      var thumbHalf = thumb.value[bar.value.offset] / 2;\n      var thumbPositionPercentage = (offset - thumbHalf) * 100 * offsetRatio.value / instance.value[bar.value.offset];\n      wrap.value[bar.value.scroll] = thumbPositionPercentage * wrap.value[bar.value.scrollSize] / 100;\n    };\n\n    var startDrag = function startDrag(e) {\n      e.stopImmediatePropagation();\n      cursorDown.value = true;\n      on(document, \"mousemove\", mouseMoveDocumentHandler);\n      on(document, \"mouseup\", mouseUpDocumentHandler);\n      onselectstartStore = document.onselectstart;\n\n      document.onselectstart = function () {\n        return false;\n      };\n    };\n\n    var mouseMoveDocumentHandler = function mouseMoveDocumentHandler(e) {\n      if (cursorDown.value === false) return;\n      var prevPage = barStore.value[bar.value.axis];\n      if (!prevPage) return;\n      var offset = (instance.value.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]) * -1;\n      var thumbClickPosition = thumb.value[bar.value.offset] - prevPage;\n      var thumbPositionPercentage = (offset - thumbClickPosition) * 100 * offsetRatio.value / instance.value[bar.value.offset];\n      wrap.value[bar.value.scroll] = thumbPositionPercentage * wrap.value[bar.value.scrollSize] / 100;\n    };\n\n    var mouseUpDocumentHandler = function mouseUpDocumentHandler() {\n      cursorDown.value = false;\n      barStore.value[bar.value.axis] = 0;\n      off(document, \"mousemove\", mouseMoveDocumentHandler);\n      document.onselectstart = onselectstartStore;\n\n      if (cursorLeave.value) {\n        visible.value = false;\n      }\n    };\n\n    var thumbStyle = computed(function () {\n      return renderThumbStyle({\n        size: props.size,\n        move: props.move,\n        bar: bar.value\n      });\n    });\n\n    var mouseMoveScrollbarHandler = function mouseMoveScrollbarHandler() {\n      cursorLeave.value = false;\n      visible.value = !!props.size;\n    };\n\n    var mouseLeaveScrollbarHandler = function mouseLeaveScrollbarHandler() {\n      cursorLeave.value = true;\n      visible.value = cursorDown.value;\n    };\n\n    onMounted(function () {\n      on(scrollbar.value, \"mousemove\", mouseMoveScrollbarHandler);\n      on(scrollbar.value, \"mouseleave\", mouseLeaveScrollbarHandler);\n    });\n    onBeforeUnmount(function () {\n      off(document, \"mouseup\", mouseUpDocumentHandler);\n      off(scrollbar.value, \"mousemove\", mouseMoveScrollbarHandler);\n      off(scrollbar.value, \"mouseleave\", mouseLeaveScrollbarHandler);\n    });\n    return {\n      instance: instance,\n      thumb: thumb,\n      bar: bar,\n      clickTrackHandler: clickTrackHandler,\n      clickThumbHandler: clickThumbHandler,\n      thumbStyle: thumbStyle,\n      visible: visible\n    };\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, {\n    name: \"el-scrollbar-fade\"\n  }, {\n    default: withCtx(function () {\n      return [withDirectives(createVNode(\"div\", {\n        ref: \"instance\",\n        class: [\"el-scrollbar__bar\", \"is-\" + _ctx.bar.key],\n        onMousedown: _cache[2] || (_cache[2] = function () {\n          return _ctx.clickTrackHandler && _ctx.clickTrackHandler.apply(_ctx, arguments);\n        })\n      }, [createVNode(\"div\", {\n        ref: \"thumb\",\n        class: \"el-scrollbar__thumb\",\n        style: _ctx.thumbStyle,\n        onMousedown: _cache[1] || (_cache[1] = function () {\n          return _ctx.clickThumbHandler && _ctx.clickThumbHandler.apply(_ctx, arguments);\n        })\n      }, null, 36)], 34), [[vShow, _ctx.always || _ctx.visible]])];\n    }),\n    _: 1\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/scrollbar/src/bar.vue\";\nvar __pow$1 = Math.pow;\nvar script$1 = defineComponent({\n  name: \"ElScrollbar\",\n  components: {\n    Bar: script\n  },\n  props: {\n    height: {\n      type: [String, Number],\n      default: \"\"\n    },\n    maxHeight: {\n      type: [String, Number],\n      default: \"\"\n    },\n    native: {\n      type: Boolean,\n      default: false\n    },\n    wrapStyle: {\n      type: [String, Array],\n      default: \"\"\n    },\n    wrapClass: {\n      type: [String, Array],\n      default: \"\"\n    },\n    viewClass: {\n      type: [String, Array],\n      default: \"\"\n    },\n    viewStyle: {\n      type: [String, Array],\n      default: \"\"\n    },\n    noresize: Boolean,\n    tag: {\n      type: String,\n      default: \"div\"\n    },\n    always: {\n      type: Boolean,\n      default: false\n    },\n    minSize: {\n      type: Number,\n      default: 20\n    }\n  },\n  emits: [\"scroll\"],\n  setup: function setup(props, _ref2) {\n    var emit = _ref2.emit;\n    var sizeWidth = ref(\"0\");\n    var sizeHeight = ref(\"0\");\n    var moveX = ref(0);\n    var moveY = ref(0);\n    var scrollbar = ref(null);\n    var wrap = ref(null);\n    var resize = ref(null);\n    var ratioY = ref(1);\n    var ratioX = ref(1);\n    var SCOPE = \"ElScrollbar\";\n    var GAP = 4;\n    provide(\"scrollbar\", scrollbar);\n    provide(\"scrollbar-wrap\", wrap);\n\n    var handleScroll = function handleScroll() {\n      if (wrap.value) {\n        var offsetHeight = wrap.value.offsetHeight - GAP;\n        var offsetWidth = wrap.value.offsetWidth - GAP;\n        moveY.value = wrap.value.scrollTop * 100 / offsetHeight * ratioY.value;\n        moveX.value = wrap.value.scrollLeft * 100 / offsetWidth * ratioX.value;\n        emit(\"scroll\", {\n          scrollTop: wrap.value.scrollTop,\n          scrollLeft: wrap.value.scrollLeft\n        });\n      }\n    };\n\n    var setScrollTop = function setScrollTop(value) {\n      if (!isNumber(value)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          warn(SCOPE, \"value must be a number\");\n        }\n\n        return;\n      }\n\n      wrap.value.scrollTop = value;\n    };\n\n    var setScrollLeft = function setScrollLeft(value) {\n      if (!isNumber(value)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          warn(SCOPE, \"value must be a number\");\n        }\n\n        return;\n      }\n\n      wrap.value.scrollLeft = value;\n    };\n\n    var update = function update() {\n      if (!wrap.value) return;\n      var offsetHeight = wrap.value.offsetHeight - GAP;\n      var offsetWidth = wrap.value.offsetWidth - GAP;\n      var originalHeight = __pow$1(offsetHeight, 2) / wrap.value.scrollHeight;\n      var originalWidth = __pow$1(offsetWidth, 2) / wrap.value.scrollWidth;\n      var height = Math.max(originalHeight, props.minSize);\n      var width = Math.max(originalWidth, props.minSize);\n      ratioY.value = originalHeight / (offsetHeight - originalHeight) / (height / (offsetHeight - height));\n      ratioX.value = originalWidth / (offsetWidth - originalWidth) / (width / (offsetWidth - width));\n      sizeHeight.value = height + GAP < offsetHeight ? height + \"px\" : \"\";\n      sizeWidth.value = width + GAP < offsetWidth ? width + \"px\" : \"\";\n    };\n\n    var style = computed(function () {\n      var style2 = props.wrapStyle;\n\n      if (isArray(style2)) {\n        style2 = toObject(style2);\n        style2.height = addUnit(props.height);\n        style2.maxHeight = addUnit(props.maxHeight);\n      } else if (isString(style2)) {\n        style2 += addUnit(props.height) ? \"height: \".concat(addUnit(props.height), \";\") : \"\";\n        style2 += addUnit(props.maxHeight) ? \"max-height: \".concat(addUnit(props.maxHeight), \";\") : \"\";\n      }\n\n      return style2;\n    });\n    onMounted(function () {\n      if (!props.native) {\n        nextTick(update);\n      }\n\n      if (!props.noresize) {\n        addResizeListener(resize.value, update);\n        addEventListener(\"resize\", update);\n      }\n    });\n    onBeforeUnmount(function () {\n      if (!props.noresize) {\n        removeResizeListener(resize.value, update);\n        removeEventListener(\"resize\", update);\n      }\n    });\n    return {\n      moveX: moveX,\n      moveY: moveY,\n      ratioX: ratioX,\n      ratioY: ratioY,\n      sizeWidth: sizeWidth,\n      sizeHeight: sizeHeight,\n      style: style,\n      scrollbar: scrollbar,\n      wrap: wrap,\n      resize: resize,\n      update: update,\n      handleScroll: handleScroll,\n      setScrollTop: setScrollTop,\n      setScrollLeft: setScrollLeft\n    };\n  }\n});\nvar _hoisted_1 = {\n  ref: \"scrollbar\",\n  class: \"el-scrollbar\"\n};\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_bar = resolveComponent(\"bar\");\n\n  return openBlock(), createBlock(\"div\", _hoisted_1, [createVNode(\"div\", {\n    ref: \"wrap\",\n    class: [_ctx.wrapClass, \"el-scrollbar__wrap\", _ctx.native ? \"\" : \"el-scrollbar__wrap--hidden-default\"],\n    style: _ctx.style,\n    onScroll: _cache[1] || (_cache[1] = function () {\n      return _ctx.handleScroll && _ctx.handleScroll.apply(_ctx, arguments);\n    })\n  }, [(openBlock(), createBlock(resolveDynamicComponent(_ctx.tag), {\n    ref: \"resize\",\n    class: [\"el-scrollbar__view\", _ctx.viewClass],\n    style: _ctx.viewStyle\n  }, {\n    default: withCtx(function () {\n      return [renderSlot(_ctx.$slots, \"default\")];\n    }),\n    _: 3\n  }, 8, [\"class\", \"style\"]))], 38), !_ctx.native ? (openBlock(), createBlock(Fragment, {\n    key: 0\n  }, [createVNode(_component_bar, {\n    move: _ctx.moveX,\n    ratio: _ctx.ratioX,\n    size: _ctx.sizeWidth,\n    always: _ctx.always\n  }, null, 8, [\"move\", \"ratio\", \"size\", \"always\"]), createVNode(_component_bar, {\n    move: _ctx.moveY,\n    ratio: _ctx.ratioY,\n    size: _ctx.sizeHeight,\n    vertical: \"\",\n    always: _ctx.always\n  }, null, 8, [\"move\", \"ratio\", \"size\", \"always\"])], 64)) : createCommentVNode(\"v-if\", true)], 512);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/scrollbar/src/index.vue\";\n\nscript$1.install = function (app) {\n  app.component(script$1.name, script$1);\n};\n\nvar _Scrollbar = script$1;\nexport default _Scrollbar;","map":{"version":3,"sources":["/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/element-plus/es/el-scrollbar/index.js"],"names":["addResizeListener","removeResizeListener","isArray","toObject","addUnit","isString","isNumber","defineComponent","ref","inject","computed","onMounted","onBeforeUnmount","openBlock","createBlock","Transition","withCtx","withDirectives","createVNode","vShow","provide","nextTick","resolveComponent","resolveDynamicComponent","renderSlot","Fragment","createCommentVNode","on","off","warn","BAR_MAP","vertical","offset","scroll","scrollSize","size","key","axis","client","direction","horizontal","renderThumbStyle","move","bar","style","translate","transform","msTransform","webkitTransform","__pow","Math","pow","script","name","props","Boolean","String","Number","ratio","always","setup","instance","thumb","scrollbar","wrap","barStore","cursorDown","cursorLeave","visible","onselectstartStore","offsetRatio","value","clickThumbHandler","e","stopPropagation","ctrlKey","includes","button","window","getSelection","removeAllRanges","startDrag","currentTarget","getBoundingClientRect","clickTrackHandler","abs","target","thumbHalf","thumbPositionPercentage","stopImmediatePropagation","document","mouseMoveDocumentHandler","mouseUpDocumentHandler","onselectstart","prevPage","thumbClickPosition","thumbStyle","mouseMoveScrollbarHandler","mouseLeaveScrollbarHandler","render","_ctx","_cache","$props","$setup","$data","$options","default","class","onMousedown","_","__file","__pow$1","script$1","components","Bar","height","type","maxHeight","native","wrapStyle","Array","wrapClass","viewClass","viewStyle","noresize","tag","minSize","emits","emit","sizeWidth","sizeHeight","moveX","moveY","resize","ratioY","ratioX","SCOPE","GAP","handleScroll","offsetHeight","offsetWidth","scrollTop","scrollLeft","setScrollTop","process","env","NODE_ENV","setScrollLeft","update","originalHeight","scrollHeight","originalWidth","scrollWidth","max","width","style2","addEventListener","removeEventListener","_hoisted_1","render$1","_component_bar","onScroll","$slots","install","app","component","_Scrollbar"],"mappings":"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","sourcesContent":["import { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport { isArray, toObject, addUnit, isString, isNumber } from '../utils/util';\nimport { defineComponent, ref, inject, computed, onMounted, onBeforeUnmount, openBlock, createBlock, Transition, withCtx, withDirectives, createVNode, vShow, provide, nextTick, resolveComponent, resolveDynamicComponent, renderSlot, Fragment, createCommentVNode } from 'vue';\nimport { on, off } from '../utils/dom';\nimport { warn } from '../utils/error';\n\nconst BAR_MAP = {\n  vertical: {\n    offset: \"offsetHeight\",\n    scroll: \"scrollTop\",\n    scrollSize: \"scrollHeight\",\n    size: \"height\",\n    key: \"vertical\",\n    axis: \"Y\",\n    client: \"clientY\",\n    direction: \"top\"\n  },\n  horizontal: {\n    offset: \"offsetWidth\",\n    scroll: \"scrollLeft\",\n    scrollSize: \"scrollWidth\",\n    size: \"width\",\n    key: \"horizontal\",\n    axis: \"X\",\n    client: \"clientX\",\n    direction: \"left\"\n  }\n};\nfunction renderThumbStyle({ move, size, bar }) {\n  const style = {};\n  const translate = `translate${bar.axis}(${move}%)`;\n  style[bar.size] = size;\n  style.transform = translate;\n  style.msTransform = translate;\n  style.webkitTransform = translate;\n  return style;\n}\n\nvar __pow = Math.pow;\nvar script = defineComponent({\n  name: \"Bar\",\n  props: {\n    vertical: Boolean,\n    size: String,\n    move: Number,\n    ratio: Number,\n    always: Boolean\n  },\n  setup(props) {\n    const instance = ref(null);\n    const thumb = ref(null);\n    const scrollbar = inject(\"scrollbar\", {});\n    const wrap = inject(\"scrollbar-wrap\", {});\n    const bar = computed(() => BAR_MAP[props.vertical ? \"vertical\" : \"horizontal\"]);\n    const barStore = ref({});\n    const cursorDown = ref(null);\n    const cursorLeave = ref(null);\n    const visible = ref(false);\n    let onselectstartStore = null;\n    const offsetRatio = computed(() => {\n      return __pow(instance.value[bar.value.offset], 2) / wrap.value[bar.value.scrollSize] / props.ratio / thumb.value[bar.value.offset];\n    });\n    const clickThumbHandler = (e) => {\n      e.stopPropagation();\n      if (e.ctrlKey || [1, 2].includes(e.button)) {\n        return;\n      }\n      window.getSelection().removeAllRanges();\n      startDrag(e);\n      barStore.value[bar.value.axis] = e.currentTarget[bar.value.offset] - (e[bar.value.client] - e.currentTarget.getBoundingClientRect()[bar.value.direction]);\n    };\n    const clickTrackHandler = (e) => {\n      const offset = Math.abs(e.target.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]);\n      const thumbHalf = thumb.value[bar.value.offset] / 2;\n      const thumbPositionPercentage = (offset - thumbHalf) * 100 * offsetRatio.value / instance.value[bar.value.offset];\n      wrap.value[bar.value.scroll] = thumbPositionPercentage * wrap.value[bar.value.scrollSize] / 100;\n    };\n    const startDrag = (e) => {\n      e.stopImmediatePropagation();\n      cursorDown.value = true;\n      on(document, \"mousemove\", mouseMoveDocumentHandler);\n      on(document, \"mouseup\", mouseUpDocumentHandler);\n      onselectstartStore = document.onselectstart;\n      document.onselectstart = () => false;\n    };\n    const mouseMoveDocumentHandler = (e) => {\n      if (cursorDown.value === false)\n        return;\n      const prevPage = barStore.value[bar.value.axis];\n      if (!prevPage)\n        return;\n      const offset = (instance.value.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]) * -1;\n      const thumbClickPosition = thumb.value[bar.value.offset] - prevPage;\n      const thumbPositionPercentage = (offset - thumbClickPosition) * 100 * offsetRatio.value / instance.value[bar.value.offset];\n      wrap.value[bar.value.scroll] = thumbPositionPercentage * wrap.value[bar.value.scrollSize] / 100;\n    };\n    const mouseUpDocumentHandler = () => {\n      cursorDown.value = false;\n      barStore.value[bar.value.axis] = 0;\n      off(document, \"mousemove\", mouseMoveDocumentHandler);\n      document.onselectstart = onselectstartStore;\n      if (cursorLeave.value) {\n        visible.value = false;\n      }\n    };\n    const thumbStyle = computed(() => renderThumbStyle({\n      size: props.size,\n      move: props.move,\n      bar: bar.value\n    }));\n    const mouseMoveScrollbarHandler = () => {\n      cursorLeave.value = false;\n      visible.value = !!props.size;\n    };\n    const mouseLeaveScrollbarHandler = () => {\n      cursorLeave.value = true;\n      visible.value = cursorDown.value;\n    };\n    onMounted(() => {\n      on(scrollbar.value, \"mousemove\", mouseMoveScrollbarHandler);\n      on(scrollbar.value, \"mouseleave\", mouseLeaveScrollbarHandler);\n    });\n    onBeforeUnmount(() => {\n      off(document, \"mouseup\", mouseUpDocumentHandler);\n      off(scrollbar.value, \"mousemove\", mouseMoveScrollbarHandler);\n      off(scrollbar.value, \"mouseleave\", mouseLeaveScrollbarHandler);\n    });\n    return {\n      instance,\n      thumb,\n      bar,\n      clickTrackHandler,\n      clickThumbHandler,\n      thumbStyle,\n      visible\n    };\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, { name: \"el-scrollbar-fade\" }, {\n    default: withCtx(() => [\n      withDirectives(createVNode(\"div\", {\n        ref: \"instance\",\n        class: [\"el-scrollbar__bar\", \"is-\" + _ctx.bar.key],\n        onMousedown: _cache[2] || (_cache[2] = (...args) => _ctx.clickTrackHandler && _ctx.clickTrackHandler(...args))\n      }, [\n        createVNode(\"div\", {\n          ref: \"thumb\",\n          class: \"el-scrollbar__thumb\",\n          style: _ctx.thumbStyle,\n          onMousedown: _cache[1] || (_cache[1] = (...args) => _ctx.clickThumbHandler && _ctx.clickThumbHandler(...args))\n        }, null, 36)\n      ], 34), [\n        [vShow, _ctx.always || _ctx.visible]\n      ])\n    ]),\n    _: 1\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/scrollbar/src/bar.vue\";\n\nvar __pow$1 = Math.pow;\nvar script$1 = defineComponent({\n  name: \"ElScrollbar\",\n  components: { Bar: script },\n  props: {\n    height: {\n      type: [String, Number],\n      default: \"\"\n    },\n    maxHeight: {\n      type: [String, Number],\n      default: \"\"\n    },\n    native: {\n      type: Boolean,\n      default: false\n    },\n    wrapStyle: {\n      type: [String, Array],\n      default: \"\"\n    },\n    wrapClass: {\n      type: [String, Array],\n      default: \"\"\n    },\n    viewClass: {\n      type: [String, Array],\n      default: \"\"\n    },\n    viewStyle: {\n      type: [String, Array],\n      default: \"\"\n    },\n    noresize: Boolean,\n    tag: {\n      type: String,\n      default: \"div\"\n    },\n    always: {\n      type: Boolean,\n      default: false\n    },\n    minSize: {\n      type: Number,\n      default: 20\n    }\n  },\n  emits: [\"scroll\"],\n  setup(props, { emit }) {\n    const sizeWidth = ref(\"0\");\n    const sizeHeight = ref(\"0\");\n    const moveX = ref(0);\n    const moveY = ref(0);\n    const scrollbar = ref(null);\n    const wrap = ref(null);\n    const resize = ref(null);\n    const ratioY = ref(1);\n    const ratioX = ref(1);\n    const SCOPE = \"ElScrollbar\";\n    const GAP = 4;\n    provide(\"scrollbar\", scrollbar);\n    provide(\"scrollbar-wrap\", wrap);\n    const handleScroll = () => {\n      if (wrap.value) {\n        const offsetHeight = wrap.value.offsetHeight - GAP;\n        const offsetWidth = wrap.value.offsetWidth - GAP;\n        moveY.value = wrap.value.scrollTop * 100 / offsetHeight * ratioY.value;\n        moveX.value = wrap.value.scrollLeft * 100 / offsetWidth * ratioX.value;\n        emit(\"scroll\", {\n          scrollTop: wrap.value.scrollTop,\n          scrollLeft: wrap.value.scrollLeft\n        });\n      }\n    };\n    const setScrollTop = (value) => {\n      if (!isNumber(value)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          warn(SCOPE, \"value must be a number\");\n        }\n        return;\n      }\n      wrap.value.scrollTop = value;\n    };\n    const setScrollLeft = (value) => {\n      if (!isNumber(value)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          warn(SCOPE, \"value must be a number\");\n        }\n        return;\n      }\n      wrap.value.scrollLeft = value;\n    };\n    const update = () => {\n      if (!wrap.value)\n        return;\n      const offsetHeight = wrap.value.offsetHeight - GAP;\n      const offsetWidth = wrap.value.offsetWidth - GAP;\n      const originalHeight = __pow$1(offsetHeight, 2) / wrap.value.scrollHeight;\n      const originalWidth = __pow$1(offsetWidth, 2) / wrap.value.scrollWidth;\n      const height = Math.max(originalHeight, props.minSize);\n      const width = Math.max(originalWidth, props.minSize);\n      ratioY.value = originalHeight / (offsetHeight - originalHeight) / (height / (offsetHeight - height));\n      ratioX.value = originalWidth / (offsetWidth - originalWidth) / (width / (offsetWidth - width));\n      sizeHeight.value = height + GAP < offsetHeight ? height + \"px\" : \"\";\n      sizeWidth.value = width + GAP < offsetWidth ? width + \"px\" : \"\";\n    };\n    const style = computed(() => {\n      let style2 = props.wrapStyle;\n      if (isArray(style2)) {\n        style2 = toObject(style2);\n        style2.height = addUnit(props.height);\n        style2.maxHeight = addUnit(props.maxHeight);\n      } else if (isString(style2)) {\n        style2 += addUnit(props.height) ? `height: ${addUnit(props.height)};` : \"\";\n        style2 += addUnit(props.maxHeight) ? `max-height: ${addUnit(props.maxHeight)};` : \"\";\n      }\n      return style2;\n    });\n    onMounted(() => {\n      if (!props.native) {\n        nextTick(update);\n      }\n      if (!props.noresize) {\n        addResizeListener(resize.value, update);\n        addEventListener(\"resize\", update);\n      }\n    });\n    onBeforeUnmount(() => {\n      if (!props.noresize) {\n        removeResizeListener(resize.value, update);\n        removeEventListener(\"resize\", update);\n      }\n    });\n    return {\n      moveX,\n      moveY,\n      ratioX,\n      ratioY,\n      sizeWidth,\n      sizeHeight,\n      style,\n      scrollbar,\n      wrap,\n      resize,\n      update,\n      handleScroll,\n      setScrollTop,\n      setScrollLeft\n    };\n  }\n});\n\nconst _hoisted_1 = {\n  ref: \"scrollbar\",\n  class: \"el-scrollbar\"\n};\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_bar = resolveComponent(\"bar\");\n  return openBlock(), createBlock(\"div\", _hoisted_1, [\n    createVNode(\"div\", {\n      ref: \"wrap\",\n      class: [\n        _ctx.wrapClass,\n        \"el-scrollbar__wrap\",\n        _ctx.native ? \"\" : \"el-scrollbar__wrap--hidden-default\"\n      ],\n      style: _ctx.style,\n      onScroll: _cache[1] || (_cache[1] = (...args) => _ctx.handleScroll && _ctx.handleScroll(...args))\n    }, [\n      (openBlock(), createBlock(resolveDynamicComponent(_ctx.tag), {\n        ref: \"resize\",\n        class: [\"el-scrollbar__view\", _ctx.viewClass],\n        style: _ctx.viewStyle\n      }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 8, [\"class\", \"style\"]))\n    ], 38),\n    !_ctx.native ? (openBlock(), createBlock(Fragment, { key: 0 }, [\n      createVNode(_component_bar, {\n        move: _ctx.moveX,\n        ratio: _ctx.ratioX,\n        size: _ctx.sizeWidth,\n        always: _ctx.always\n      }, null, 8, [\"move\", \"ratio\", \"size\", \"always\"]),\n      createVNode(_component_bar, {\n        move: _ctx.moveY,\n        ratio: _ctx.ratioY,\n        size: _ctx.sizeHeight,\n        vertical: \"\",\n        always: _ctx.always\n      }, null, 8, [\"move\", \"ratio\", \"size\", \"always\"])\n    ], 64)) : createCommentVNode(\"v-if\", true)\n  ], 512);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/scrollbar/src/index.vue\";\n\nscript$1.install = (app) => {\n  app.component(script$1.name, script$1);\n};\nconst _Scrollbar = script$1;\n\nexport default _Scrollbar;\n"]},"metadata":{},"sourceType":"module"}