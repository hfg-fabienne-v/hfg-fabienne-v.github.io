{"ast":null,"code":"import _slicedToArray from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _typeof from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _createForOfIteratorHelper from \"/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n\nvar _InitialStateMap;\n\nimport \"core-js/modules/es.object.freeze.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.string.fixed.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { getCurrentInstance, ref, unref, computed, watch, nextTick, isRef, defineComponent, resolveComponent, resolveDirective, openBlock, createBlock, withCtx, createVNode, Fragment, renderList, createTextVNode, toDisplayString, withDirectives, onBeforeMount, onMounted, onUpdated, onUnmounted, h, watchEffect, renderSlot, createCommentVNode, vShow } from 'vue';\nimport { getValueByPath, arrayFind, arrayFindIndex, useGlobalConfig } from '../utils/util';\nimport { off, on, addClass, hasClass, removeClass, getStyle } from '../utils/dom';\nimport { createPopper } from '@popperjs/core';\nimport PopupManager from '../utils/popup-manager';\nimport debounce from 'lodash/debounce';\nimport { useLocaleInject } from '../hooks';\nimport { ClickOutside, Mousewheel } from '../directives';\nimport scrollbarWidth from '../utils/scrollbar-width';\nimport isServer from '../utils/isServer';\nimport ElCheckbox from '../el-checkbox';\nimport ElPopper from '../el-popper';\nimport ElCheckboxGroup from '../el-checkbox-group';\nimport ElScrollbar from '../el-scrollbar';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport throttle from 'lodash/throttle';\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\n\nvar EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nvar EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar hasOwn = function hasOwn(val, key) {\n  return hasOwnProperty.call(val, key);\n};\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues = function __spreadValues(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols) {\n    var _iterator = _createForOfIteratorHelper(__getOwnPropSymbols(b)),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var prop = _step.value;\n        if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  return a;\n};\n\nvar getCell = function getCell(event) {\n  var cell = event.target;\n\n  while (cell && cell.tagName.toUpperCase() !== \"HTML\") {\n    if (cell.tagName.toUpperCase() === \"TD\") {\n      return cell;\n    }\n\n    cell = cell.parentNode;\n  }\n\n  return null;\n};\n\nvar isObject = function isObject(obj) {\n  return obj !== null && _typeof(obj) === \"object\";\n};\n\nvar orderBy = function orderBy(array, sortKey, reverse, sortMethod, sortBy) {\n  if (!sortKey && !sortMethod && (!sortBy || Array.isArray(sortBy) && !sortBy.length)) {\n    return array;\n  }\n\n  if (typeof reverse === \"string\") {\n    reverse = reverse === \"descending\" ? -1 : 1;\n  } else {\n    reverse = reverse && reverse < 0 ? -1 : 1;\n  }\n\n  var getKey = sortMethod ? null : function (value, index) {\n    if (sortBy) {\n      if (!Array.isArray(sortBy)) {\n        sortBy = [sortBy];\n      }\n\n      return sortBy.map(function (by) {\n        if (typeof by === \"string\") {\n          return getValueByPath(value, by);\n        } else {\n          return by(value, index, array);\n        }\n      });\n    }\n\n    if (sortKey !== \"$key\") {\n      if (isObject(value) && \"$value\" in value) value = value.$value;\n    }\n\n    return [isObject(value) ? getValueByPath(value, sortKey) : value];\n  };\n\n  var compare = function compare(a, b) {\n    if (sortMethod) {\n      return sortMethod(a.value, b.value);\n    }\n\n    for (var i = 0, len = a.key.length; i < len; i++) {\n      if (a.key[i] < b.key[i]) {\n        return -1;\n      }\n\n      if (a.key[i] > b.key[i]) {\n        return 1;\n      }\n    }\n\n    return 0;\n  };\n\n  return array.map(function (value, index) {\n    return {\n      value: value,\n      index: index,\n      key: getKey ? getKey(value, index) : null\n    };\n  }).sort(function (a, b) {\n    var order = compare(a, b);\n\n    if (!order) {\n      order = a.index - b.index;\n    }\n\n    return order * +reverse;\n  }).map(function (item) {\n    return item.value;\n  });\n};\n\nvar getColumnById = function getColumnById(table, columnId) {\n  var column = null;\n  table.columns.forEach(function (item) {\n    if (item.id === columnId) {\n      column = item;\n    }\n  });\n  return column;\n};\n\nvar getColumnByKey = function getColumnByKey(table, columnKey) {\n  var column = null;\n\n  for (var i = 0; i < table.columns.length; i++) {\n    var item = table.columns[i];\n\n    if (item.columnKey === columnKey) {\n      column = item;\n      break;\n    }\n  }\n\n  return column;\n};\n\nvar getColumnByCell = function getColumnByCell(table, cell) {\n  var matches = (cell.className || \"\").match(/el-table_[^\\s]+/gm);\n\n  if (matches) {\n    return getColumnById(table, matches[0]);\n  }\n\n  return null;\n};\n\nvar getRowIdentity = function getRowIdentity(row, rowKey) {\n  if (!row) throw new Error(\"row is required when get row identity\");\n\n  if (typeof rowKey === \"string\") {\n    if (rowKey.indexOf(\".\") < 0) {\n      return row[rowKey] + \"\";\n    }\n\n    var key = rowKey.split(\".\");\n    var current = row;\n\n    for (var i = 0; i < key.length; i++) {\n      current = current[key[i]];\n    }\n\n    return current + \"\";\n  } else if (typeof rowKey === \"function\") {\n    return rowKey.call(null, row);\n  }\n};\n\nvar getKeysMap = function getKeysMap(array, rowKey) {\n  var arrayMap = {};\n  (array || []).forEach(function (row, index) {\n    arrayMap[getRowIdentity(row, rowKey)] = {\n      row: row,\n      index: index\n    };\n  });\n  return arrayMap;\n};\n\nfunction parseHeight(height) {\n  if (typeof height === \"number\") {\n    return height;\n  }\n\n  if (typeof height === \"string\") {\n    if (/^\\d+(?:px)?$/.test(height)) {\n      return parseInt(height, 10);\n    } else {\n      return height;\n    }\n  }\n\n  return null;\n}\n\nfunction toggleRowStatus(statusArr, row, newVal) {\n  var changed = false;\n  var index = statusArr.indexOf(row);\n  var included = index !== -1;\n\n  var addRow = function addRow() {\n    statusArr.push(row);\n    changed = true;\n  };\n\n  var removeRow = function removeRow() {\n    statusArr.splice(index, 1);\n    changed = true;\n  };\n\n  if (typeof newVal === \"boolean\") {\n    if (newVal && !included) {\n      addRow();\n    } else if (!newVal && included) {\n      removeRow();\n    }\n  } else {\n    if (included) {\n      removeRow();\n    } else {\n      addRow();\n    }\n  }\n\n  return changed;\n}\n\nfunction walkTreeNode(root, cb) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"children\";\n  var lazyKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"hasChildren\";\n\n  var isNil = function isNil(array) {\n    return !(Array.isArray(array) && array.length);\n  };\n\n  function _walker(parent, children, level) {\n    cb(parent, children, level);\n    children.forEach(function (item) {\n      if (item[lazyKey]) {\n        cb(item, null, level + 1);\n        return;\n      }\n\n      var children2 = item[childrenKey];\n\n      if (!isNil(children2)) {\n        _walker(item, children2, level + 1);\n      }\n    });\n  }\n\n  root.forEach(function (item) {\n    if (item[lazyKey]) {\n      cb(item, null, 0);\n      return;\n    }\n\n    var children = item[childrenKey];\n\n    if (!isNil(children)) {\n      _walker(item, children, 0);\n    }\n  });\n}\n\nvar removePopper;\n\nfunction createTablePopper(trigger, popperContent, popperOptions, tooltipEffect) {\n  function renderContent() {\n    var isLight = tooltipEffect === \"light\";\n    var content2 = document.createElement(\"div\");\n    content2.className = \"el-popper \".concat(isLight ? \"is-light\" : \"is-dark\");\n    content2.innerHTML = popperContent;\n    content2.style.zIndex = String(PopupManager.nextZIndex());\n    document.body.appendChild(content2);\n    return content2;\n  }\n\n  function renderArrow() {\n    var arrow2 = document.createElement(\"div\");\n    arrow2.className = \"el-popper__arrow\";\n    arrow2.style.bottom = \"-4px\";\n    return arrow2;\n  }\n\n  function showPopper() {\n    popperInstance && popperInstance.update();\n  }\n\n  removePopper = function removePopper2() {\n    try {\n      popperInstance && popperInstance.destroy();\n      content && document.body.removeChild(content);\n      off(trigger, \"mouseenter\", showPopper);\n      off(trigger, \"mouseleave\", removePopper2);\n    } catch (e) {}\n  };\n\n  var popperInstance = null;\n  var content = renderContent();\n  var arrow = renderArrow();\n  content.appendChild(arrow);\n  popperInstance = createPopper(trigger, content, __spreadValues({\n    modifiers: [{\n      name: \"offset\",\n      options: {\n        offset: [0, 8]\n      }\n    }, {\n      name: \"arrow\",\n      options: {\n        element: arrow,\n        padding: 10\n      }\n    }]\n  }, popperOptions));\n  on(trigger, \"mouseenter\", showPopper);\n  on(trigger, \"mouseleave\", removePopper);\n  return popperInstance;\n}\n\nfunction useExpand(watcherData) {\n  var instance = getCurrentInstance();\n  var defaultExpandAll = ref(false);\n  var expandRows = ref([]);\n\n  var updateExpandRows = function updateExpandRows() {\n    var data = watcherData.data.value || [];\n    var rowKey = watcherData.rowKey.value;\n\n    if (defaultExpandAll.value) {\n      expandRows.value = data.slice();\n    } else if (rowKey) {\n      var expandRowsMap = getKeysMap(expandRows.value, rowKey);\n      expandRows.value = data.reduce(function (prev, row) {\n        var rowId = getRowIdentity(row, rowKey);\n        var rowInfo = expandRowsMap[rowId];\n\n        if (rowInfo) {\n          prev.push(row);\n        }\n\n        return prev;\n      }, []);\n    } else {\n      expandRows.value = [];\n    }\n  };\n\n  var toggleRowExpansion = function toggleRowExpansion(row, expanded) {\n    var changed = toggleRowStatus(expandRows.value, row, expanded);\n\n    if (changed) {\n      instance.emit(\"expand-change\", row, expandRows.value.slice());\n      instance.store.scheduleLayout();\n    }\n  };\n\n  var setExpandRowKeys = function setExpandRowKeys(rowKeys) {\n    instance.store.assertRowKey();\n    var data = watcherData.data.value || [];\n    var rowKey = watcherData.rowKey.value;\n    var keysMap = getKeysMap(data, rowKey);\n    expandRows.value = rowKeys.reduce(function (prev, cur) {\n      var info = keysMap[cur];\n\n      if (info) {\n        prev.push(info.row);\n      }\n\n      return prev;\n    }, []);\n  };\n\n  var isRowExpanded = function isRowExpanded(row) {\n    var rowKey = watcherData.rowKey.value;\n\n    if (rowKey) {\n      var expandMap = getKeysMap(expandRows.value, rowKey);\n      return !!expandMap[getRowIdentity(row, rowKey)];\n    }\n\n    return expandRows.value.indexOf(row) !== -1;\n  };\n\n  return {\n    updateExpandRows: updateExpandRows,\n    toggleRowExpansion: toggleRowExpansion,\n    setExpandRowKeys: setExpandRowKeys,\n    isRowExpanded: isRowExpanded,\n    states: {\n      expandRows: expandRows,\n      defaultExpandAll: defaultExpandAll\n    }\n  };\n}\n\nfunction useCurrent(watcherData) {\n  var instance = getCurrentInstance();\n\n  var _currentRowKey = ref(null);\n\n  var currentRow = ref(null);\n\n  var setCurrentRowKey = function setCurrentRowKey(key) {\n    instance.store.assertRowKey();\n    _currentRowKey.value = key;\n    setCurrentRowByKey(key);\n  };\n\n  var restoreCurrentRowKey = function restoreCurrentRowKey() {\n    _currentRowKey.value = null;\n  };\n\n  var setCurrentRowByKey = function setCurrentRowByKey(key) {\n    var _watcherData$data = watcherData.data,\n        data = _watcherData$data === void 0 ? [] : _watcherData$data,\n        rowKey = watcherData.rowKey;\n    var _currentRow = null;\n\n    if (rowKey.value) {\n      _currentRow = arrayFind(unref(data), function (item) {\n        return getRowIdentity(item, rowKey.value) === key;\n      });\n    }\n\n    currentRow.value = _currentRow;\n  };\n\n  var updateCurrentRow = function updateCurrentRow(_currentRow) {\n    var oldCurrentRow = currentRow.value;\n\n    if (_currentRow && _currentRow !== oldCurrentRow) {\n      currentRow.value = _currentRow;\n      instance.emit(\"current-change\", currentRow.value, oldCurrentRow);\n      return;\n    }\n\n    if (!_currentRow && oldCurrentRow) {\n      currentRow.value = null;\n      instance.emit(\"current-change\", null, oldCurrentRow);\n    }\n  };\n\n  var updateCurrentRowData = function updateCurrentRowData() {\n    var rowKey = watcherData.rowKey.value;\n    var data = watcherData.data.value || [];\n    var oldCurrentRow = currentRow.value;\n\n    if (data.indexOf(oldCurrentRow) === -1 && oldCurrentRow) {\n      if (rowKey) {\n        var currentRowKey = getRowIdentity(oldCurrentRow, rowKey);\n        setCurrentRowByKey(currentRowKey);\n      } else {\n        currentRow.value = null;\n      }\n\n      if (currentRow.value === null) {\n        instance.emit(\"current-change\", null, oldCurrentRow);\n      }\n    } else if (_currentRowKey.value) {\n      setCurrentRowByKey(_currentRowKey.value);\n      restoreCurrentRowKey();\n    }\n  };\n\n  return {\n    setCurrentRowKey: setCurrentRowKey,\n    restoreCurrentRowKey: restoreCurrentRowKey,\n    setCurrentRowByKey: setCurrentRowByKey,\n    updateCurrentRow: updateCurrentRow,\n    updateCurrentRowData: updateCurrentRowData,\n    states: {\n      _currentRowKey: _currentRowKey,\n      currentRow: currentRow\n    }\n  };\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$1 = function __defNormalProp$1(obj, key, value) {\n  return key in obj ? __defProp$1(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues$1 = function __spreadValues$1(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols$1) {\n    var _iterator2 = _createForOfIteratorHelper(__getOwnPropSymbols$1(b)),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var prop = _step2.value;\n        if (__propIsEnum$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return a;\n};\n\nfunction useTree(watcherData) {\n  var expandRowKeys = ref([]);\n  var treeData = ref({});\n  var indent = ref(16);\n  var lazy = ref(false);\n  var lazyTreeNodeMap = ref({});\n  var lazyColumnIdentifier = ref(\"hasChildren\");\n  var childrenColumnName = ref(\"children\");\n  var instance = getCurrentInstance();\n  var normalizedData = computed(function () {\n    if (!watcherData.rowKey.value) return {};\n    var data = watcherData.data.value || [];\n    return normalize(data);\n  });\n  var normalizedLazyNode = computed(function () {\n    var rowKey = watcherData.rowKey.value;\n    var keys = Object.keys(lazyTreeNodeMap.value);\n    var res = {};\n    if (!keys.length) return res;\n    keys.forEach(function (key) {\n      if (lazyTreeNodeMap.value[key].length) {\n        var item = {\n          children: []\n        };\n        lazyTreeNodeMap.value[key].forEach(function (row) {\n          var currentRowKey = getRowIdentity(row, rowKey);\n          item.children.push(currentRowKey);\n\n          if (row[lazyColumnIdentifier.value] && !res[currentRowKey]) {\n            res[currentRowKey] = {\n              children: []\n            };\n          }\n        });\n        res[key] = item;\n      }\n    });\n    return res;\n  });\n\n  var normalize = function normalize(data) {\n    var rowKey = watcherData.rowKey.value;\n    var res = {};\n    walkTreeNode(data, function (parent, children, level) {\n      var parentId = getRowIdentity(parent, rowKey);\n\n      if (Array.isArray(children)) {\n        res[parentId] = {\n          children: children.map(function (row) {\n            return getRowIdentity(row, rowKey);\n          }),\n          level: level\n        };\n      } else if (lazy.value) {\n        res[parentId] = {\n          children: [],\n          lazy: true,\n          level: level\n        };\n      }\n    }, childrenColumnName.value, lazyColumnIdentifier.value);\n    return res;\n  };\n\n  var updateTreeData = function updateTreeData() {\n    var _a, _b;\n\n    var nested = normalizedData.value;\n    var normalizedLazyNode_ = normalizedLazyNode.value;\n    var keys = Object.keys(nested);\n    var newTreeData = {};\n\n    if (keys.length) {\n      var oldTreeData = unref(treeData);\n      var defaultExpandAll = (_a = instance.store) == null ? void 0 : _a.states.defaultExpandAll.value;\n      var rootLazyRowKeys = [];\n\n      var getExpanded = function getExpanded(oldValue, key) {\n        var included = defaultExpandAll || expandRowKeys.value && expandRowKeys.value.indexOf(key) !== -1;\n        return !!(oldValue && oldValue.expanded || included);\n      };\n\n      keys.forEach(function (key) {\n        var oldValue = oldTreeData[key];\n\n        var newValue = __spreadValues$1({}, nested[key]);\n\n        newValue.expanded = getExpanded(oldValue, key);\n\n        if (newValue.lazy) {\n          var _ref = oldValue || {},\n              _ref$loaded = _ref.loaded,\n              loaded = _ref$loaded === void 0 ? false : _ref$loaded,\n              _ref$loading = _ref.loading,\n              loading = _ref$loading === void 0 ? false : _ref$loading;\n\n          newValue.loaded = !!loaded;\n          newValue.loading = !!loading;\n          rootLazyRowKeys.push(key);\n        }\n\n        newTreeData[key] = newValue;\n      });\n      var lazyKeys = Object.keys(normalizedLazyNode_);\n\n      if (lazy.value && lazyKeys.length && rootLazyRowKeys.length) {\n        lazyKeys.forEach(function (key) {\n          var oldValue = oldTreeData[key];\n          var lazyNodeChildren = normalizedLazyNode_[key].children;\n\n          if (rootLazyRowKeys.indexOf(key) !== -1) {\n            if (newTreeData[key].children.length !== 0) {\n              throw new Error(\"[ElTable]children must be an empty array.\");\n            }\n\n            newTreeData[key].children = lazyNodeChildren;\n          } else {\n            var _ref2 = oldValue || {},\n                _ref2$loaded = _ref2.loaded,\n                loaded = _ref2$loaded === void 0 ? false : _ref2$loaded,\n                _ref2$loading = _ref2.loading,\n                loading = _ref2$loading === void 0 ? false : _ref2$loading;\n\n            newTreeData[key] = {\n              lazy: true,\n              loaded: !!loaded,\n              loading: !!loading,\n              expanded: getExpanded(oldValue, key),\n              children: lazyNodeChildren,\n              level: \"\"\n            };\n          }\n        });\n      }\n    }\n\n    treeData.value = newTreeData;\n    (_b = instance.store) == null ? void 0 : _b.updateTableScrollY();\n  };\n\n  watch(function () {\n    return normalizedData.value;\n  }, updateTreeData);\n  watch(function () {\n    return normalizedLazyNode.value;\n  }, updateTreeData);\n\n  var updateTreeExpandKeys = function updateTreeExpandKeys(value) {\n    expandRowKeys.value = value;\n    updateTreeData();\n  };\n\n  var toggleTreeExpansion = function toggleTreeExpansion(row, expanded) {\n    instance.store.assertRowKey();\n    var rowKey = watcherData.rowKey.value;\n    var id = getRowIdentity(row, rowKey);\n    var data = id && treeData.value[id];\n\n    if (id && data && \"expanded\" in data) {\n      var oldExpanded = data.expanded;\n      expanded = typeof expanded === \"undefined\" ? !data.expanded : expanded;\n      treeData.value[id].expanded = expanded;\n\n      if (oldExpanded !== expanded) {\n        instance.emit(\"expand-change\", row, expanded);\n      }\n\n      instance.store.updateTableScrollY();\n    }\n  };\n\n  var loadOrToggle = function loadOrToggle(row) {\n    instance.store.assertRowKey();\n    var rowKey = watcherData.rowKey.value;\n    var id = getRowIdentity(row, rowKey);\n    var data = treeData.value[id];\n\n    if (lazy.value && data && \"loaded\" in data && !data.loaded) {\n      loadData(row, id, data);\n    } else {\n      toggleTreeExpansion(row, void 0);\n    }\n  };\n\n  var loadData = function loadData(row, key, treeNode) {\n    var load = instance.props.load;\n\n    if (load && !treeData.value[key].loaded) {\n      treeData.value[key].loading = true;\n      load(row, treeNode, function (data) {\n        if (!Array.isArray(data)) {\n          throw new Error(\"[ElTable] data must be an array\");\n        }\n\n        treeData.value[key].loading = false;\n        treeData.value[key].loaded = true;\n        treeData.value[key].expanded = true;\n\n        if (data.length) {\n          lazyTreeNodeMap.value[key] = data;\n        }\n\n        instance.emit(\"expand-change\", row, true);\n      });\n    }\n  };\n\n  return {\n    loadData: loadData,\n    loadOrToggle: loadOrToggle,\n    toggleTreeExpansion: toggleTreeExpansion,\n    updateTreeExpandKeys: updateTreeExpandKeys,\n    updateTreeData: updateTreeData,\n    normalize: normalize,\n    states: {\n      expandRowKeys: expandRowKeys,\n      treeData: treeData,\n      indent: indent,\n      lazy: lazy,\n      lazyTreeNodeMap: lazyTreeNodeMap,\n      lazyColumnIdentifier: lazyColumnIdentifier,\n      childrenColumnName: childrenColumnName\n    }\n  };\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$2 = function __defNormalProp$2(obj, key, value) {\n  return key in obj ? __defProp$2(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues$2 = function __spreadValues$2(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols$2) {\n    var _iterator3 = _createForOfIteratorHelper(__getOwnPropSymbols$2(b)),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var prop = _step3.value;\n        if (__propIsEnum$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  }\n\n  return a;\n};\n\nvar sortData = function sortData(data, states) {\n  var sortingColumn = states.sortingColumn;\n\n  if (!sortingColumn || typeof sortingColumn.sortable === \"string\") {\n    return data;\n  }\n\n  return orderBy(data, states.sortProp, states.sortOrder, sortingColumn.sortMethod, sortingColumn.sortBy);\n};\n\nvar doFlattenColumns = function doFlattenColumns(columns) {\n  var result = [];\n  columns.forEach(function (column) {\n    if (column.children) {\n      result.push.apply(result, doFlattenColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\n\nfunction useWatcher() {\n  var instance = getCurrentInstance();\n  var rowKey = ref(null);\n  var data = ref([]);\n\n  var _data = ref([]);\n\n  var isComplex = ref(false);\n\n  var _columns = ref([]);\n\n  var originColumns = ref([]);\n  var columns = ref([]);\n  var fixedColumns = ref([]);\n  var rightFixedColumns = ref([]);\n  var leafColumns = ref([]);\n  var fixedLeafColumns = ref([]);\n  var rightFixedLeafColumns = ref([]);\n  var leafColumnsLength = ref(0);\n  var fixedLeafColumnsLength = ref(0);\n  var rightFixedLeafColumnsLength = ref(0);\n  var isAllSelected = ref(false);\n  var selection = ref([]);\n  var reserveSelection = ref(false);\n  var selectOnIndeterminate = ref(false);\n  var selectable = ref(null);\n  var filters = ref({});\n  var filteredData = ref(null);\n  var sortingColumn = ref(null);\n  var sortProp = ref(null);\n  var sortOrder = ref(null);\n  var hoverRow = ref(null);\n  watch(data, function () {\n    return instance.state && scheduleLayout(false);\n  }, {\n    deep: true\n  });\n\n  var assertRowKey = function assertRowKey() {\n    if (!rowKey.value) throw new Error(\"[ElTable] prop row-key is required\");\n  };\n\n  var updateColumns = function updateColumns() {\n    fixedColumns.value = _columns.value.filter(function (column) {\n      return column.fixed === true || column.fixed === \"left\";\n    });\n    rightFixedColumns.value = _columns.value.filter(function (column) {\n      return column.fixed === \"right\";\n    });\n\n    if (fixedColumns.value.length > 0 && _columns.value[0] && _columns.value[0].type === \"selection\" && !_columns.value[0].fixed) {\n      _columns.value[0].fixed = true;\n      fixedColumns.value.unshift(_columns.value[0]);\n    }\n\n    var notFixedColumns = _columns.value.filter(function (column) {\n      return !column.fixed;\n    });\n\n    originColumns.value = [].concat(fixedColumns.value).concat(notFixedColumns).concat(rightFixedColumns.value);\n    var leafColumns2 = doFlattenColumns(notFixedColumns);\n    var fixedLeafColumns2 = doFlattenColumns(fixedColumns.value);\n    var rightFixedLeafColumns2 = doFlattenColumns(rightFixedColumns.value);\n    leafColumnsLength.value = leafColumns2.length;\n    fixedLeafColumnsLength.value = fixedLeafColumns2.length;\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns2.length;\n    columns.value = [].concat(fixedLeafColumns2).concat(leafColumns2).concat(rightFixedLeafColumns2);\n    isComplex.value = fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0;\n  };\n\n  var scheduleLayout = function scheduleLayout(needUpdateColumns) {\n    var immediate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (needUpdateColumns) {\n      updateColumns();\n    }\n\n    if (immediate) {\n      instance.state.doLayout();\n    } else {\n      instance.state.debouncedUpdateLayout();\n    }\n  };\n\n  var isSelected = function isSelected(row) {\n    return selection.value.indexOf(row) > -1;\n  };\n\n  var clearSelection = function clearSelection() {\n    isAllSelected.value = false;\n    var oldSelection = selection.value;\n\n    if (oldSelection.length) {\n      selection.value = [];\n      instance.emit(\"selection-change\", []);\n    }\n  };\n\n  var cleanSelection = function cleanSelection() {\n    var deleted;\n\n    if (rowKey.value) {\n      deleted = [];\n      var selectedMap = getKeysMap(selection.value, rowKey.value);\n      var dataMap = getKeysMap(data.value, rowKey.value);\n\n      for (var key in selectedMap) {\n        if (hasOwn(selectedMap, key) && !dataMap[key]) {\n          deleted.push(selectedMap[key].row);\n        }\n      }\n    } else {\n      deleted = selection.value.filter(function (item) {\n        return data.value.indexOf(item) === -1;\n      });\n    }\n\n    if (deleted.length) {\n      var newSelection = selection.value.filter(function (item) {\n        return deleted.indexOf(item) === -1;\n      });\n      selection.value = newSelection;\n      instance.emit(\"selection-change\", newSelection.slice());\n    }\n  };\n\n  var toggleRowSelection = function toggleRowSelection(row) {\n    var selected = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : void 0;\n    var emitChange = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var changed = toggleRowStatus(selection.value, row, selected);\n\n    if (changed) {\n      var newSelection = (selection.value || []).slice();\n\n      if (emitChange) {\n        instance.emit(\"select\", newSelection, row);\n      }\n\n      instance.emit(\"selection-change\", newSelection);\n    }\n  };\n\n  var _toggleAllSelection = function _toggleAllSelection() {\n    var _a, _b;\n\n    var value = selectOnIndeterminate.value ? !isAllSelected.value : !(isAllSelected.value || selection.value.length);\n    isAllSelected.value = value;\n    var selectionChanged = false;\n    var childrenCount = 0;\n    var rowKey2 = (_b = (_a = instance == null ? void 0 : instance.store) == null ? void 0 : _a.states) == null ? void 0 : _b.rowKey.value;\n    data.value.forEach(function (row, index) {\n      var rowIndex = index + childrenCount;\n\n      if (selectable.value) {\n        if (selectable.value.call(null, row, rowIndex) && toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      } else {\n        if (toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      }\n\n      childrenCount += getChildrenCount(getRowIdentity(row, rowKey2));\n    });\n\n    if (selectionChanged) {\n      instance.emit(\"selection-change\", selection.value ? selection.value.slice() : []);\n    }\n\n    instance.emit(\"select-all\", selection.value);\n  };\n\n  var updateSelectionByRowKey = function updateSelectionByRowKey() {\n    var selectedMap = getKeysMap(selection.value, rowKey.value);\n    data.value.forEach(function (row) {\n      var rowId = getRowIdentity(row, rowKey.value);\n      var rowInfo = selectedMap[rowId];\n\n      if (rowInfo) {\n        selection.value[rowInfo.index] = row;\n      }\n    });\n  };\n\n  var updateAllSelected = function updateAllSelected() {\n    var _a, _b, _c;\n\n    if (((_a = data.value) == null ? void 0 : _a.length) === 0) {\n      isAllSelected.value = false;\n      return;\n    }\n\n    var selectedMap;\n\n    if (rowKey.value) {\n      selectedMap = getKeysMap(selection.value, rowKey.value);\n    }\n\n    var isSelected2 = function isSelected2(row) {\n      if (selectedMap) {\n        return !!selectedMap[getRowIdentity(row, rowKey.value)];\n      } else {\n        return selection.value.indexOf(row) !== -1;\n      }\n    };\n\n    var isAllSelected_ = true;\n    var selectedCount = 0;\n    var childrenCount = 0;\n\n    for (var i = 0, j = (data.value || []).length; i < j; i++) {\n      var keyProp = (_c = (_b = instance == null ? void 0 : instance.store) == null ? void 0 : _b.states) == null ? void 0 : _c.rowKey.value;\n      var rowIndex = i + childrenCount;\n      var item = data.value[i];\n      var isRowSelectable = selectable.value && selectable.value.call(null, item, rowIndex);\n\n      if (!isSelected2(item)) {\n        if (!selectable.value || isRowSelectable) {\n          isAllSelected_ = false;\n          break;\n        }\n      } else {\n        selectedCount++;\n      }\n\n      childrenCount += getChildrenCount(getRowIdentity(item, keyProp));\n    }\n\n    if (selectedCount === 0) isAllSelected_ = false;\n    isAllSelected.value = isAllSelected_;\n  };\n\n  var getChildrenCount = function getChildrenCount(rowKey2) {\n    var _a;\n\n    if (!instance || !instance.store) return 0;\n    var treeData = instance.store.states.treeData;\n    var count = 0;\n    var children = (_a = treeData.value[rowKey2]) == null ? void 0 : _a.children;\n\n    if (children) {\n      count += children.length;\n      children.forEach(function (childKey) {\n        count += getChildrenCount(childKey);\n      });\n    }\n\n    return count;\n  };\n\n  var updateFilters = function updateFilters(columns2, values) {\n    if (!Array.isArray(columns2)) {\n      columns2 = [columns2];\n    }\n\n    var filters_ = {};\n    columns2.forEach(function (col) {\n      filters.value[col.id] = values;\n      filters_[col.columnKey || col.id] = values;\n    });\n    return filters_;\n  };\n\n  var updateSort = function updateSort(column, prop, order) {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null;\n    }\n\n    sortingColumn.value = column;\n    sortProp.value = prop;\n    sortOrder.value = order;\n  };\n\n  var execFilter = function execFilter() {\n    var sourceData = unref(_data);\n    Object.keys(filters.value).forEach(function (columnId) {\n      var values = filters.value[columnId];\n      if (!values || values.length === 0) return;\n      var column = getColumnById({\n        columns: columns.value\n      }, columnId);\n\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter(function (row) {\n          return values.some(function (value) {\n            return column.filterMethod.call(null, value, row, column);\n          });\n        });\n      }\n    });\n    filteredData.value = sourceData;\n  };\n\n  var execSort = function execSort() {\n    data.value = sortData(filteredData.value, {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value\n    });\n  };\n\n  var execQuery = function execQuery() {\n    var ignore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : void 0;\n\n    if (!(ignore && ignore.filter)) {\n      execFilter();\n    }\n\n    execSort();\n  };\n\n  var clearFilter = function clearFilter(columnKeys) {\n    var _instance$refs = instance.refs,\n        tableHeader = _instance$refs.tableHeader,\n        fixedTableHeader = _instance$refs.fixedTableHeader,\n        rightFixedTableHeader = _instance$refs.rightFixedTableHeader;\n    var panels = {};\n    if (tableHeader) panels = Object.assign(panels, tableHeader.filterPanels);\n    if (fixedTableHeader) panels = Object.assign(panels, fixedTableHeader.filterPanels);\n    if (rightFixedTableHeader) panels = Object.assign(panels, rightFixedTableHeader.filterPanels);\n    var keys = Object.keys(panels);\n    if (!keys.length) return;\n\n    if (typeof columnKeys === \"string\") {\n      columnKeys = [columnKeys];\n    }\n\n    if (Array.isArray(columnKeys)) {\n      var columns_ = columnKeys.map(function (key) {\n        return getColumnByKey({\n          columns: columns.value\n        }, key);\n      });\n      keys.forEach(function (key) {\n        var column = columns_.find(function (col) {\n          return col.id === key;\n        });\n\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      instance.store.commit(\"filterChange\", {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true\n      });\n    } else {\n      keys.forEach(function (key) {\n        var column = columns.value.find(function (col) {\n          return col.id === key;\n        });\n\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      filters.value = {};\n      instance.store.commit(\"filterChange\", {\n        column: {},\n        values: [],\n        silent: true\n      });\n    }\n  };\n\n  var clearSort = function clearSort() {\n    if (!sortingColumn.value) return;\n    updateSort(null, null, null);\n    instance.store.commit(\"changeSortCondition\", {\n      silent: true\n    });\n  };\n\n  var _useExpand = useExpand({\n    data: data,\n    rowKey: rowKey\n  }),\n      setExpandRowKeys = _useExpand.setExpandRowKeys,\n      toggleRowExpansion = _useExpand.toggleRowExpansion,\n      updateExpandRows = _useExpand.updateExpandRows,\n      expandStates = _useExpand.states,\n      isRowExpanded = _useExpand.isRowExpanded;\n\n  var _useTree = useTree({\n    data: data,\n    rowKey: rowKey\n  }),\n      updateTreeExpandKeys = _useTree.updateTreeExpandKeys,\n      toggleTreeExpansion = _useTree.toggleTreeExpansion,\n      loadOrToggle = _useTree.loadOrToggle,\n      treeStates = _useTree.states;\n\n  var _useCurrent = useCurrent({\n    data: data,\n    rowKey: rowKey\n  }),\n      updateCurrentRowData = _useCurrent.updateCurrentRowData,\n      updateCurrentRow = _useCurrent.updateCurrentRow,\n      setCurrentRowKey = _useCurrent.setCurrentRowKey,\n      currentData = _useCurrent.states;\n\n  var setExpandRowKeysAdapter = function setExpandRowKeysAdapter(val) {\n    setExpandRowKeys(val);\n    updateTreeExpandKeys(val);\n  };\n\n  var toggleRowExpansionAdapter = function toggleRowExpansionAdapter(row, expanded) {\n    var hasExpandColumn = columns.value.some(function (_ref3) {\n      var type = _ref3.type;\n      return type === \"expand\";\n    });\n\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded);\n    } else {\n      toggleTreeExpansion(row, expanded);\n    }\n  };\n\n  return {\n    assertRowKey: assertRowKey,\n    updateColumns: updateColumns,\n    scheduleLayout: scheduleLayout,\n    isSelected: isSelected,\n    clearSelection: clearSelection,\n    cleanSelection: cleanSelection,\n    toggleRowSelection: toggleRowSelection,\n    _toggleAllSelection: _toggleAllSelection,\n    toggleAllSelection: null,\n    updateSelectionByRowKey: updateSelectionByRowKey,\n    updateAllSelected: updateAllSelected,\n    updateFilters: updateFilters,\n    updateCurrentRow: updateCurrentRow,\n    updateSort: updateSort,\n    execFilter: execFilter,\n    execSort: execSort,\n    execQuery: execQuery,\n    clearFilter: clearFilter,\n    clearSort: clearSort,\n    toggleRowExpansion: toggleRowExpansion,\n    setExpandRowKeysAdapter: setExpandRowKeysAdapter,\n    setCurrentRowKey: setCurrentRowKey,\n    toggleRowExpansionAdapter: toggleRowExpansionAdapter,\n    isRowExpanded: isRowExpanded,\n    updateExpandRows: updateExpandRows,\n    updateCurrentRowData: updateCurrentRowData,\n    loadOrToggle: loadOrToggle,\n    states: __spreadValues$2(__spreadValues$2(__spreadValues$2({\n      rowKey: rowKey,\n      data: data,\n      _data: _data,\n      isComplex: isComplex,\n      _columns: _columns,\n      originColumns: originColumns,\n      columns: columns,\n      fixedColumns: fixedColumns,\n      rightFixedColumns: rightFixedColumns,\n      leafColumns: leafColumns,\n      fixedLeafColumns: fixedLeafColumns,\n      rightFixedLeafColumns: rightFixedLeafColumns,\n      leafColumnsLength: leafColumnsLength,\n      fixedLeafColumnsLength: fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength: rightFixedLeafColumnsLength,\n      isAllSelected: isAllSelected,\n      selection: selection,\n      reserveSelection: reserveSelection,\n      selectOnIndeterminate: selectOnIndeterminate,\n      selectable: selectable,\n      filters: filters,\n      filteredData: filteredData,\n      sortingColumn: sortingColumn,\n      sortProp: sortProp,\n      sortOrder: sortOrder,\n      hoverRow: hoverRow\n    }, expandStates), treeStates), currentData)\n  };\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$3 = function __defNormalProp$3(obj, key, value) {\n  return key in obj ? __defProp$3(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues$3 = function __spreadValues$3(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp$3.call(b, prop)) __defNormalProp$3(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols$3) {\n    var _iterator4 = _createForOfIteratorHelper(__getOwnPropSymbols$3(b)),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var prop = _step4.value;\n        if (__propIsEnum$3.call(b, prop)) __defNormalProp$3(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n  }\n\n  return a;\n};\n\nvar __spreadProps = function __spreadProps(a, b) {\n  return __defProps(a, __getOwnPropDescs(b));\n};\n\nfunction replaceColumn(array, column) {\n  return array.map(function (item) {\n    var _a;\n\n    if (item.id === column.id) {\n      return column;\n    } else if ((_a = item.children) == null ? void 0 : _a.length) {\n      item.children = replaceColumn(item.children, column);\n    }\n\n    return item;\n  });\n}\n\nfunction sortColumn(array) {\n  array.forEach(function (item) {\n    var _a, _b;\n\n    item.no = (_a = item.getColumnIndex) == null ? void 0 : _a.call(item);\n\n    if ((_b = item.children) == null ? void 0 : _b.length) {\n      sortColumn(item.children);\n    }\n  });\n  array.sort(function (cur, pre) {\n    return cur.no - pre.no;\n  });\n}\n\nfunction useStore() {\n  var instance = getCurrentInstance();\n  var watcher = useWatcher();\n  var mutations = {\n    setData: function setData(states, data) {\n      var dataInstanceChanged = unref(states.data) !== data;\n      states.data.value = data;\n      states._data.value = data;\n      instance.store.execQuery();\n      instance.store.updateCurrentRowData();\n      instance.store.updateExpandRows();\n\n      if (unref(states.reserveSelection)) {\n        instance.store.assertRowKey();\n        instance.store.updateSelectionByRowKey();\n      } else {\n        if (dataInstanceChanged) {\n          instance.store.clearSelection();\n        } else {\n          instance.store.cleanSelection();\n        }\n      }\n\n      instance.store.updateAllSelected();\n\n      if (instance.$ready) {\n        instance.store.scheduleLayout();\n      }\n    },\n    insertColumn: function insertColumn(states, column, parent) {\n      var array = unref(states._columns);\n      var newColumns = [];\n\n      if (!parent) {\n        array.push(column);\n        newColumns = array;\n      } else {\n        if (parent && !parent.children) {\n          parent.children = [];\n        }\n\n        parent.children.push(column);\n        newColumns = replaceColumn(array, parent);\n      }\n\n      sortColumn(newColumns);\n      states._columns.value = newColumns;\n\n      if (column.type === \"selection\") {\n        states.selectable.value = column.selectable;\n        states.reserveSelection.value = column.reserveSelection;\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n    removeColumn: function removeColumn(states, column, parent) {\n      var array = unref(states._columns) || [];\n\n      if (parent) {\n        parent.children.splice(parent.children.findIndex(function (item) {\n          return item.id === column.id;\n        }), 1);\n\n        if (parent.children.length === 0) {\n          delete parent.children;\n        }\n\n        states._columns.value = replaceColumn(array, parent);\n      } else {\n        var index = array.indexOf(column);\n\n        if (index > -1) {\n          array.splice(index, 1);\n          states._columns.value = array;\n        }\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n    sort: function sort(states, options) {\n      var prop = options.prop,\n          order = options.order,\n          init = options.init;\n\n      if (prop) {\n        var column = arrayFind(unref(states.columns), function (column2) {\n          return column2.property === prop;\n        });\n\n        if (column) {\n          column.order = order;\n          instance.store.updateSort(column, prop, order);\n          instance.store.commit(\"changeSortCondition\", {\n            init: init\n          });\n        }\n      }\n    },\n    changeSortCondition: function changeSortCondition(states, options) {\n      var column = states.sortingColumn,\n          prop = states.sortProp,\n          order = states.sortOrder;\n\n      if (unref(order) === null) {\n        states.sortingColumn.value = null;\n        states.sortProp.value = null;\n      }\n\n      var ingore = {\n        filter: true\n      };\n      instance.store.execQuery(ingore);\n\n      if (!options || !(options.silent || options.init)) {\n        instance.emit(\"sort-change\", {\n          column: unref(column),\n          prop: unref(prop),\n          order: unref(order)\n        });\n      }\n\n      instance.store.updateTableScrollY();\n    },\n    filterChange: function filterChange(_states, options) {\n      var column = options.column,\n          values = options.values,\n          silent = options.silent;\n      var newFilters = instance.store.updateFilters(column, values);\n      instance.store.execQuery();\n\n      if (!silent) {\n        instance.emit(\"filter-change\", newFilters);\n      }\n\n      instance.store.updateTableScrollY();\n    },\n    toggleAllSelection: function toggleAllSelection() {\n      instance.store.toggleAllSelection();\n    },\n    rowSelectedChanged: function rowSelectedChanged(_states, row) {\n      instance.store.toggleRowSelection(row);\n      instance.store.updateAllSelected();\n    },\n    setHoverRow: function setHoverRow(states, row) {\n      states.hoverRow.value = row;\n    },\n    setCurrentRow: function setCurrentRow(_states, row) {\n      instance.store.updateCurrentRow(row);\n    }\n  };\n\n  var commit = function commit(name) {\n    var mutations2 = instance.store.mutations;\n\n    if (mutations2[name]) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      mutations2[name].apply(instance, [instance.store.states].concat(args));\n    } else {\n      throw new Error(\"Action not found: \".concat(name));\n    }\n  };\n\n  var updateTableScrollY = function updateTableScrollY() {\n    nextTick(function () {\n      return instance.layout.updateScrollY.apply(instance.layout);\n    });\n  };\n\n  return __spreadProps(__spreadValues$3({}, watcher), {\n    mutations: mutations,\n    commit: commit,\n    updateTableScrollY: updateTableScrollY\n  });\n}\n\nvar InitialStateMap = (_InitialStateMap = {\n  rowKey: \"rowKey\",\n  defaultExpandAll: \"defaultExpandAll\",\n  selectOnIndeterminate: \"selectOnIndeterminate\",\n  indent: \"indent\",\n  lazy: \"lazy\",\n  data: \"data\"\n}, _defineProperty(_InitialStateMap, \"treeProps.hasChildren\", {\n  key: \"lazyColumnIdentifier\",\n  default: \"hasChildren\"\n}), _defineProperty(_InitialStateMap, \"treeProps.children\", {\n  key: \"childrenColumnName\",\n  default: \"children\"\n}), _InitialStateMap);\n\nfunction createStore(table, props) {\n  if (!table) {\n    throw new Error(\"Table is required.\");\n  }\n\n  var store = useStore();\n  store.toggleAllSelection = debounce(store._toggleAllSelection, 10);\n  Object.keys(InitialStateMap).forEach(function (key) {\n    handleValue(getArrKeysValue(props, key), key, store);\n  });\n  proxyTableProps(store, props);\n  return store;\n}\n\nfunction proxyTableProps(store, props) {\n  Object.keys(InitialStateMap).forEach(function (key) {\n    watch(function () {\n      return getArrKeysValue(props, key);\n    }, function (value) {\n      handleValue(value, key, store);\n    });\n  });\n}\n\nfunction handleValue(value, propsKey, store) {\n  var newVal = value;\n  var storeKey = InitialStateMap[propsKey];\n\n  if (_typeof(InitialStateMap[propsKey]) === \"object\") {\n    storeKey = storeKey.key;\n    newVal = newVal || InitialStateMap[propsKey].default;\n  }\n\n  store.states[storeKey].value = newVal;\n}\n\nfunction getArrKeysValue(props, keys) {\n  if (keys.includes(\".\")) {\n    var keyList = keys.split(\".\");\n    var value = props;\n    keyList.forEach(function (key) {\n      value = value[key];\n    });\n    return value;\n  } else {\n    return props[keys];\n  }\n}\n\nvar TableLayout = /*#__PURE__*/function () {\n  function TableLayout(options) {\n    _classCallCheck(this, TableLayout);\n\n    this.observers = [];\n    this.table = null;\n    this.store = null;\n    this.columns = [];\n    this.fit = true;\n    this.showHeader = true;\n    this.height = ref(null);\n    this.scrollX = ref(false);\n    this.scrollY = ref(false);\n    this.bodyWidth = ref(null);\n    this.fixedWidth = ref(null);\n    this.rightFixedWidth = ref(null);\n    this.tableHeight = ref(null);\n    this.headerHeight = ref(44);\n    this.appendHeight = ref(0);\n    this.footerHeight = ref(44);\n    this.viewportHeight = ref(null);\n    this.bodyHeight = ref(null);\n    this.fixedBodyHeight = ref(null);\n    this.gutterWidth = scrollbarWidth();\n\n    for (var name in options) {\n      if (hasOwn(options, name)) {\n        if (isRef(this[name])) {\n          this[name].value = options[name];\n        } else {\n          this[name] = options[name];\n        }\n      }\n    }\n\n    if (!this.table) {\n      throw new Error(\"table is required for Table Layout\");\n    }\n\n    if (!this.store) {\n      throw new Error(\"store is required for Table Layout\");\n    }\n  }\n\n  _createClass(TableLayout, [{\n    key: \"updateScrollY\",\n    value: function updateScrollY() {\n      var height = this.height.value;\n      if (height === null) return false;\n      var bodyWrapper = this.table.refs.bodyWrapper;\n\n      if (this.table.vnode.el && bodyWrapper) {\n        var scrollY = true;\n        var prevScrollY = this.scrollY.value;\n\n        if (this.bodyHeight.value === null) {\n          scrollY = false;\n        } else {\n          var body = bodyWrapper.querySelector(\".el-table__body\");\n          scrollY = body.offsetHeight > this.bodyHeight.value;\n        }\n\n        this.scrollY.value = scrollY;\n        return prevScrollY !== scrollY;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(value) {\n      var _this = this;\n\n      var prop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"height\";\n      if (isServer) return;\n      var el = this.table.vnode.el;\n      value = parseHeight(value);\n      this.height.value = Number(value);\n      if (!el && (value || value === 0)) return nextTick(function () {\n        return _this.setHeight(value, prop);\n      });\n\n      if (typeof value === \"number\") {\n        el.style[prop] = value + \"px\";\n        this.updateElsHeight();\n      } else if (typeof value === \"string\") {\n        el.style[prop] = value;\n        this.updateElsHeight();\n      }\n    }\n  }, {\n    key: \"setMaxHeight\",\n    value: function setMaxHeight(value) {\n      this.setHeight(value, \"max-height\");\n    }\n  }, {\n    key: \"getFlattenColumns\",\n    value: function getFlattenColumns() {\n      var flattenColumns = [];\n      var columns = this.table.store.states.columns.value;\n      columns.forEach(function (column) {\n        if (column.isColumnGroup) {\n          flattenColumns.push.apply(flattenColumns, column.columns);\n        } else {\n          flattenColumns.push(column);\n        }\n      });\n      return flattenColumns;\n    }\n  }, {\n    key: \"updateElsHeight\",\n    value: function updateElsHeight() {\n      var _this2 = this;\n\n      if (!this.table.$ready) return nextTick(function () {\n        return _this2.updateElsHeight();\n      });\n      var _this$table$refs = this.table.refs,\n          headerWrapper = _this$table$refs.headerWrapper,\n          appendWrapper = _this$table$refs.appendWrapper,\n          footerWrapper = _this$table$refs.footerWrapper;\n      this.appendHeight.value = appendWrapper ? appendWrapper.offsetHeight : 0;\n      if (this.showHeader && !headerWrapper) return;\n      var headerTrElm = headerWrapper ? headerWrapper.querySelector(\".el-table__header tr\") : null;\n      var noneHeader = this.headerDisplayNone(headerTrElm);\n      var headerHeight = this.headerHeight.value = !this.showHeader ? 0 : headerWrapper.offsetHeight;\n\n      if (this.showHeader && !noneHeader && headerWrapper.offsetWidth > 0 && (this.table.store.states.columns.value || []).length > 0 && headerHeight < 2) {\n        return nextTick(function () {\n          return _this2.updateElsHeight();\n        });\n      }\n\n      var tableHeight = this.tableHeight.value = this.table.vnode.el.clientHeight;\n      var footerHeight = this.footerHeight.value = footerWrapper ? footerWrapper.offsetHeight : 0;\n\n      if (this.height.value !== null) {\n        this.bodyHeight.value = tableHeight - headerHeight - footerHeight + (footerWrapper ? 1 : 0);\n      }\n\n      this.fixedBodyHeight.value = this.scrollX.value ? this.bodyHeight.value - this.gutterWidth : this.bodyHeight.value;\n      this.viewportHeight.value = this.scrollX.value ? tableHeight - this.gutterWidth : tableHeight;\n      this.updateScrollY();\n      this.notifyObservers(\"scrollable\");\n    }\n  }, {\n    key: \"headerDisplayNone\",\n    value: function headerDisplayNone(elm) {\n      if (!elm) return true;\n      var headerChild = elm;\n\n      while (headerChild.tagName !== \"DIV\") {\n        if (getComputedStyle(headerChild).display === \"none\") {\n          return true;\n        }\n\n        headerChild = headerChild.parentElement;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"updateColumnsWidth\",\n    value: function updateColumnsWidth() {\n      if (isServer) return;\n      var fit = this.fit;\n      var bodyWidth = this.table.vnode.el.clientWidth;\n      var bodyMinWidth = 0;\n      var flattenColumns = this.getFlattenColumns();\n      var flexColumns = flattenColumns.filter(function (column) {\n        return typeof column.width !== \"number\";\n      });\n      flattenColumns.forEach(function (column) {\n        if (typeof column.width === \"number\" && column.realWidth) column.realWidth = null;\n      });\n\n      if (flexColumns.length > 0 && fit) {\n        flattenColumns.forEach(function (column) {\n          bodyMinWidth += Number(column.width || column.minWidth || 80);\n        });\n        var scrollYWidth = this.scrollY.value ? this.gutterWidth : 0;\n\n        if (bodyMinWidth <= bodyWidth - scrollYWidth) {\n          this.scrollX.value = false;\n          var totalFlexWidth = bodyWidth - scrollYWidth - bodyMinWidth;\n\n          if (flexColumns.length === 1) {\n            flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth;\n          } else {\n            var allColumnsWidth = flexColumns.reduce(function (prev, column) {\n              return prev + Number(column.minWidth || 80);\n            }, 0);\n            var flexWidthPerPixel = totalFlexWidth / allColumnsWidth;\n            var noneFirstWidth = 0;\n            flexColumns.forEach(function (column, index) {\n              if (index === 0) return;\n              var flexWidth = Math.floor(Number(column.minWidth || 80) * flexWidthPerPixel);\n              noneFirstWidth += flexWidth;\n              column.realWidth = Number(column.minWidth || 80) + flexWidth;\n            });\n            flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth - noneFirstWidth;\n          }\n        } else {\n          this.scrollX.value = true;\n          flexColumns.forEach(function (column) {\n            column.realWidth = Number(column.minWidth);\n          });\n        }\n\n        this.bodyWidth.value = Math.max(bodyMinWidth, bodyWidth);\n        this.table.state.resizeState.value.width = this.bodyWidth.value;\n      } else {\n        flattenColumns.forEach(function (column) {\n          if (!column.width && !column.minWidth) {\n            column.realWidth = 80;\n          } else {\n            column.realWidth = Number(column.width || column.minWidth);\n          }\n\n          bodyMinWidth += column.realWidth;\n        });\n        this.scrollX.value = bodyMinWidth > bodyWidth;\n        this.bodyWidth.value = bodyMinWidth;\n      }\n\n      var fixedColumns = this.store.states.fixedColumns.value;\n\n      if (fixedColumns.length > 0) {\n        var fixedWidth = 0;\n        fixedColumns.forEach(function (column) {\n          fixedWidth += Number(column.realWidth || column.width);\n        });\n        this.fixedWidth.value = fixedWidth;\n      }\n\n      var rightFixedColumns = this.store.states.rightFixedColumns.value;\n\n      if (rightFixedColumns.length > 0) {\n        var rightFixedWidth = 0;\n        rightFixedColumns.forEach(function (column) {\n          rightFixedWidth += Number(column.realWidth || column.width);\n        });\n        this.rightFixedWidth.value = rightFixedWidth;\n      }\n\n      this.notifyObservers(\"columns\");\n    }\n  }, {\n    key: \"addObserver\",\n    value: function addObserver(observer) {\n      this.observers.push(observer);\n    }\n  }, {\n    key: \"removeObserver\",\n    value: function removeObserver(observer) {\n      var index = this.observers.indexOf(observer);\n\n      if (index !== -1) {\n        this.observers.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"notifyObservers\",\n    value: function notifyObservers(event) {\n      var _this3 = this;\n\n      var observers = this.observers;\n      observers.forEach(function (observer) {\n        var _a, _b;\n\n        switch (event) {\n          case \"columns\":\n            (_a = observer.state) == null ? void 0 : _a.onColumnsChange(_this3);\n            break;\n\n          case \"scrollable\":\n            (_b = observer.state) == null ? void 0 : _b.onScrollableChange(_this3);\n            break;\n\n          default:\n            throw new Error(\"Table Layout don't have event \".concat(event, \".\"));\n        }\n      });\n    }\n  }]);\n\n  return TableLayout;\n}();\n\nvar script = defineComponent({\n  name: \"ElTableFilterPanel\",\n  components: {\n    ElCheckbox: ElCheckbox,\n    ElCheckboxGroup: ElCheckboxGroup,\n    ElScrollbar: ElScrollbar,\n    ElPopper: ElPopper\n  },\n  directives: {\n    ClickOutside: ClickOutside\n  },\n  props: {\n    placement: {\n      type: String,\n      default: \"bottom-start\"\n    },\n    store: {\n      type: Object\n    },\n    column: {\n      type: Object\n    },\n    upDataColumn: {\n      type: Function\n    }\n  },\n  setup: function setup(props) {\n    var instance = getCurrentInstance();\n\n    var _useLocaleInject = useLocaleInject(),\n        t = _useLocaleInject.t;\n\n    var parent = instance.parent;\n\n    if (!parent.filterPanels.value[props.column.id]) {\n      parent.filterPanels.value[props.column.id] = instance;\n    }\n\n    var tooltipVisible = ref(false);\n    var tooltip = ref(null);\n    var filters = computed(function () {\n      return props.column && props.column.filters;\n    });\n    var filterValue = computed({\n      get: function get() {\n        return (props.column.filteredValue || [])[0];\n      },\n      set: function set(value) {\n        if (filteredValue.value) {\n          if (typeof value !== \"undefined\" && value !== null) {\n            filteredValue.value.splice(0, 1, value);\n          } else {\n            filteredValue.value.splice(0, 1);\n          }\n        }\n      }\n    });\n    var filteredValue = computed({\n      get: function get() {\n        if (props.column) {\n          return props.column.filteredValue || [];\n        }\n\n        return [];\n      },\n      set: function set(value) {\n        if (props.column) {\n          props.upDataColumn(\"filteredValue\", value);\n        }\n      }\n    });\n    var multiple = computed(function () {\n      if (props.column) {\n        return props.column.filterMultiple;\n      }\n\n      return true;\n    });\n\n    var isActive = function isActive(filter) {\n      return filter.value === filterValue.value;\n    };\n\n    var hidden = function hidden() {\n      tooltipVisible.value = false;\n    };\n\n    var showFilterPanel = function showFilterPanel(e) {\n      e.stopPropagation();\n      tooltipVisible.value = !tooltipVisible.value;\n    };\n\n    var hideFilterPanel = function hideFilterPanel() {\n      tooltipVisible.value = false;\n    };\n\n    var handleConfirm = function handleConfirm() {\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n\n    var handleReset = function handleReset() {\n      filteredValue.value = [];\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n\n    var handleSelect = function handleSelect(_filterValue) {\n      filterValue.value = _filterValue;\n\n      if (typeof _filterValue !== \"undefined\" && _filterValue !== null) {\n        confirmFilter(filteredValue.value);\n      } else {\n        confirmFilter([]);\n      }\n\n      hidden();\n    };\n\n    var confirmFilter = function confirmFilter(filteredValue2) {\n      props.store.commit(\"filterChange\", {\n        column: props.column,\n        values: filteredValue2\n      });\n      props.store.updateAllSelected();\n    };\n\n    watch(tooltipVisible, function (value) {\n      if (props.column) {\n        props.upDataColumn(\"filterOpened\", value);\n      }\n    }, {\n      immediate: true\n    });\n    var popperPaneRef = computed(function () {\n      var _a;\n\n      return (_a = tooltip.value) == null ? void 0 : _a.popperRef;\n    });\n    return {\n      tooltipVisible: tooltipVisible,\n      multiple: multiple,\n      filteredValue: filteredValue,\n      filterValue: filterValue,\n      filters: filters,\n      handleConfirm: handleConfirm,\n      handleReset: handleReset,\n      handleSelect: handleSelect,\n      isActive: isActive,\n      t: t,\n      showFilterPanel: showFilterPanel,\n      hideFilterPanel: hideFilterPanel,\n      popperPaneRef: popperPaneRef,\n      tooltip: tooltip\n    };\n  }\n});\nvar _hoisted_1 = {\n  key: 0\n};\nvar _hoisted_2 = {\n  class: \"el-table-filter__content\"\n};\nvar _hoisted_3 = {\n  class: \"el-table-filter__bottom\"\n};\nvar _hoisted_4 = {\n  key: 1,\n  class: \"el-table-filter__list\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_checkbox = resolveComponent(\"el-checkbox\");\n\n  var _component_el_checkbox_group = resolveComponent(\"el-checkbox-group\");\n\n  var _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n\n  var _component_el_popper = resolveComponent(\"el-popper\");\n\n  var _directive_click_outside = resolveDirective(\"click-outside\");\n\n  return openBlock(), createBlock(_component_el_popper, {\n    ref: \"tooltip\",\n    visible: _ctx.tooltipVisible,\n    \"onUpdate:visible\": _cache[6] || (_cache[6] = function ($event) {\n      return _ctx.tooltipVisible = $event;\n    }),\n    offset: 0,\n    placement: _ctx.placement,\n    \"show-arrow\": false,\n    \"stop-popper-mouse-event\": false,\n    effect: \"light\",\n    pure: \"\",\n    \"manual-mode\": \"\",\n    \"popper-class\": \"el-table-filter\",\n    \"append-to-body\": \"\"\n  }, {\n    default: withCtx(function () {\n      return [_ctx.multiple ? (openBlock(), createBlock(\"div\", _hoisted_1, [createVNode(\"div\", _hoisted_2, [createVNode(_component_el_scrollbar, {\n        \"wrap-class\": \"el-table-filter__wrap\"\n      }, {\n        default: withCtx(function () {\n          return [createVNode(_component_el_checkbox_group, {\n            modelValue: _ctx.filteredValue,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n              return _ctx.filteredValue = $event;\n            }),\n            class: \"el-table-filter__checkbox-group\"\n          }, {\n            default: withCtx(function () {\n              return [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.filters, function (filter) {\n                return openBlock(), createBlock(_component_el_checkbox, {\n                  key: filter.value,\n                  label: filter.value\n                }, {\n                  default: withCtx(function () {\n                    return [createTextVNode(toDisplayString(filter.text), 1)];\n                  }),\n                  _: 2\n                }, 1032, [\"label\"]);\n              }), 128))];\n            }),\n            _: 1\n          }, 8, [\"modelValue\"])];\n        }),\n        _: 1\n      })]), createVNode(\"div\", _hoisted_3, [createVNode(\"button\", {\n        class: {\n          \"is-disabled\": _ctx.filteredValue.length === 0\n        },\n        disabled: _ctx.filteredValue.length === 0,\n        type: \"\",\n        onClick: _cache[2] || (_cache[2] = function () {\n          return _ctx.handleConfirm && _ctx.handleConfirm.apply(_ctx, arguments);\n        })\n      }, toDisplayString(_ctx.t(\"el.table.confirmFilter\")), 11, [\"disabled\"]), createVNode(\"button\", {\n        type: \"\",\n        onClick: _cache[3] || (_cache[3] = function () {\n          return _ctx.handleReset && _ctx.handleReset.apply(_ctx, arguments);\n        })\n      }, toDisplayString(_ctx.t(\"el.table.resetFilter\")), 1)])])) : (openBlock(), createBlock(\"ul\", _hoisted_4, [createVNode(\"li\", {\n        class: [{\n          \"is-active\": _ctx.filterValue === void 0 || _ctx.filterValue === null\n        }, \"el-table-filter__list-item\"],\n        onClick: _cache[4] || (_cache[4] = function ($event) {\n          return _ctx.handleSelect(null);\n        })\n      }, toDisplayString(_ctx.t(\"el.table.clearFilter\")), 3), (openBlock(true), createBlock(Fragment, null, renderList(_ctx.filters, function (filter) {\n        return openBlock(), createBlock(\"li\", {\n          key: filter.value,\n          class: [{\n            \"is-active\": _ctx.isActive(filter)\n          }, \"el-table-filter__list-item\"],\n          label: filter.value,\n          onClick: function onClick($event) {\n            return _ctx.handleSelect(filter.value);\n          }\n        }, toDisplayString(filter.text), 11, [\"label\", \"onClick\"]);\n      }), 128))]))];\n    }),\n    trigger: withCtx(function () {\n      return [withDirectives(createVNode(\"span\", {\n        class: \"el-table__column-filter-trigger el-none-outline\",\n        onClick: _cache[5] || (_cache[5] = function () {\n          return _ctx.showFilterPanel && _ctx.showFilterPanel.apply(_ctx, arguments);\n        })\n      }, [createVNode(\"i\", {\n        class: [\"el-icon-arrow-down\", _ctx.column.filterOpened ? \"el-icon-arrow-up\" : \"\"]\n      }, null, 2)], 512), [[_directive_click_outside, _ctx.hideFilterPanel, _ctx.popperPaneRef]])];\n    }),\n    _: 1\n  }, 8, [\"visible\", \"placement\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/table/src/filter-panel.vue\";\n\nfunction useLayoutObserver(root) {\n  var instance = getCurrentInstance();\n  onBeforeMount(function () {\n    tableLayout.value.addObserver(instance);\n  });\n  onMounted(function () {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUpdated(function () {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUnmounted(function () {\n    tableLayout.value.removeObserver(instance);\n  });\n  var tableLayout = computed(function () {\n    var layout = root.layout;\n\n    if (!layout) {\n      throw new Error(\"Can not find table layout.\");\n    }\n\n    return layout;\n  });\n\n  var onColumnsChange = function onColumnsChange(layout) {\n    var _a;\n\n    var cols = ((_a = root.vnode.el) == null ? void 0 : _a.querySelectorAll(\"colgroup > col\")) || [];\n    if (!cols.length) return;\n    var flattenColumns = layout.getFlattenColumns();\n    var columnsMap = {};\n    flattenColumns.forEach(function (column) {\n      columnsMap[column.id] = column;\n    });\n\n    for (var i = 0, j = cols.length; i < j; i++) {\n      var col = cols[i];\n      var name = col.getAttribute(\"name\");\n      var column = columnsMap[name];\n\n      if (column) {\n        col.setAttribute(\"width\", column.realWidth || column.width);\n      }\n    }\n  };\n\n  var onScrollableChange = function onScrollableChange(layout) {\n    var cols = root.vnode.el.querySelectorAll(\"colgroup > col[name=gutter]\");\n\n    for (var i = 0, j = cols.length; i < j; i++) {\n      var col = cols[i];\n      col.setAttribute(\"width\", layout.scrollY.value ? layout.gutterWidth : \"0\");\n    }\n\n    var ths = root.vnode.el.querySelectorAll(\"th.gutter\");\n\n    for (var _i = 0, _j = ths.length; _i < _j; _i++) {\n      var th = ths[_i];\n      th.style.width = layout.scrollY.value ? layout.gutterWidth + \"px\" : \"0\";\n      th.style.display = layout.scrollY.value ? \"\" : \"none\";\n    }\n  };\n\n  return {\n    tableLayout: tableLayout.value,\n    onColumnsChange: onColumnsChange,\n    onScrollableChange: onScrollableChange\n  };\n}\n\nfunction useEvent(props, emit) {\n  var instance = getCurrentInstance();\n  var parent = instance.parent;\n\n  var handleFilterClick = function handleFilterClick(event) {\n    event.stopPropagation();\n    return;\n  };\n\n  var handleHeaderClick = function handleHeaderClick(event, column) {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false);\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event);\n    }\n\n    parent.emit(\"header-click\", column, event);\n  };\n\n  var handleHeaderContextMenu = function handleHeaderContextMenu(event, column) {\n    parent.emit(\"header-contextmenu\", column, event);\n  };\n\n  var draggingColumn = ref(null);\n  var dragging = ref(false);\n  var dragState = ref({});\n\n  var handleMouseDown = function handleMouseDown(event, column) {\n    if (isServer) return;\n    if (column.children && column.children.length > 0) return;\n\n    if (draggingColumn.value && props.border) {\n      dragging.value = true;\n      var table = parent;\n      emit(\"set-drag-visible\", true);\n      var tableEl = table.vnode.el;\n      var tableLeft = tableEl.getBoundingClientRect().left;\n      var columnEl = instance.vnode.el.querySelector(\"th.\".concat(column.id));\n      var columnRect = columnEl.getBoundingClientRect();\n      var minLeft = columnRect.left - tableLeft + 30;\n      addClass(columnEl, \"noclick\");\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft: tableLeft\n      };\n      var resizeProxy = table.refs.resizeProxy;\n      resizeProxy.style.left = dragState.value.startLeft + \"px\";\n\n      document.onselectstart = function () {\n        return false;\n      };\n\n      document.ondragstart = function () {\n        return false;\n      };\n\n      var handleMouseMove2 = function handleMouseMove2(event2) {\n        var deltaLeft = event2.clientX - dragState.value.startMouseLeft;\n        var proxyLeft = dragState.value.startLeft + deltaLeft;\n        resizeProxy.style.left = Math.max(minLeft, proxyLeft) + \"px\";\n      };\n\n      var handleMouseUp = function handleMouseUp() {\n        if (dragging.value) {\n          var _dragState$value = dragState.value,\n              startColumnLeft = _dragState$value.startColumnLeft,\n              startLeft = _dragState$value.startLeft;\n          var finalLeft = parseInt(resizeProxy.style.left, 10);\n          var columnWidth = finalLeft - startColumnLeft;\n          column.width = column.realWidth = columnWidth;\n          table.emit(\"header-dragend\", column.width, startLeft - startColumnLeft, column, event);\n          props.store.scheduleLayout(false, true);\n          document.body.style.cursor = \"\";\n          dragging.value = false;\n          draggingColumn.value = null;\n          dragState.value = {};\n          emit(\"set-drag-visible\", false);\n        }\n\n        document.removeEventListener(\"mousemove\", handleMouseMove2);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        document.onselectstart = null;\n        document.ondragstart = null;\n        setTimeout(function () {\n          removeClass(columnEl, \"noclick\");\n        }, 0);\n      };\n\n      document.addEventListener(\"mousemove\", handleMouseMove2);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n  };\n\n  var handleMouseMove = function handleMouseMove(event, column) {\n    if (column.children && column.children.length > 0) return;\n    var target = event.target;\n\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n\n    if (!column || !column.resizable) return;\n\n    if (!dragging.value && props.border) {\n      var rect = target.getBoundingClientRect();\n      var bodyStyle = document.body.style;\n\n      if (rect.width > 12 && rect.right - event.pageX < 8) {\n        bodyStyle.cursor = \"col-resize\";\n\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"col-resize\";\n        }\n\n        draggingColumn.value = column;\n      } else if (!dragging.value) {\n        bodyStyle.cursor = \"\";\n\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"pointer\";\n        }\n\n        draggingColumn.value = null;\n      }\n    }\n  };\n\n  var handleMouseOut = function handleMouseOut() {\n    if (isServer) return;\n    document.body.style.cursor = \"\";\n  };\n\n  var toggleOrder = function toggleOrder(_ref4) {\n    var order = _ref4.order,\n        sortOrders = _ref4.sortOrders;\n    if (order === \"\") return sortOrders[0];\n    var index = sortOrders.indexOf(order || null);\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1];\n  };\n\n  var handleSortClick = function handleSortClick(event, column, givenOrder) {\n    event.stopPropagation();\n    var order = column.order === givenOrder ? null : givenOrder || toggleOrder(column);\n    var target = event.target;\n\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n\n    if (target && target.tagName === \"TH\") {\n      if (hasClass(target, \"noclick\")) {\n        removeClass(target, \"noclick\");\n        return;\n      }\n    }\n\n    if (!column.sortable) return;\n    var states = props.store.states;\n    var sortProp = states.sortProp.value;\n    var sortOrder;\n    var sortingColumn = states.sortingColumn.value;\n\n    if (sortingColumn !== column || sortingColumn === column && sortingColumn.order === null) {\n      if (sortingColumn) {\n        sortingColumn.order = null;\n      }\n\n      states.sortingColumn.value = column;\n      sortProp = column.property;\n    }\n\n    if (!order) {\n      sortOrder = column.order = null;\n    } else {\n      sortOrder = column.order = order;\n    }\n\n    states.sortProp.value = sortProp;\n    states.sortOrder.value = sortOrder;\n    parent.store.commit(\"changeSortCondition\");\n  };\n\n  return {\n    handleHeaderClick: handleHeaderClick,\n    handleHeaderContextMenu: handleHeaderContextMenu,\n    handleMouseDown: handleMouseDown,\n    handleMouseMove: handleMouseMove,\n    handleMouseOut: handleMouseOut,\n    handleSortClick: handleSortClick,\n    handleFilterClick: handleFilterClick\n  };\n}\n\nfunction useStyle(props) {\n  var instance = getCurrentInstance();\n  var parent = instance.parent;\n  var storeData = parent.store.states;\n\n  var isCellHidden = function isCellHidden(index, columns) {\n    var start = 0;\n\n    for (var i = 0; i < index; i++) {\n      start += columns[i].colSpan;\n    }\n\n    var after = start + columns[index].colSpan - 1;\n\n    if (props.fixed === \"left\") {\n      return after >= storeData.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return start < storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    } else {\n      return after < storeData.fixedLeafColumnsLength.value || start >= storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    }\n  };\n\n  var getHeaderRowStyle = function getHeaderRowStyle(rowIndex) {\n    var headerRowStyle = parent.props.headerRowStyle;\n\n    if (typeof headerRowStyle === \"function\") {\n      return headerRowStyle.call(null, {\n        rowIndex: rowIndex\n      });\n    }\n\n    return headerRowStyle;\n  };\n\n  var getHeaderRowClass = function getHeaderRowClass(rowIndex) {\n    var classes = [];\n    var headerRowClassName = parent.props.headerRowClassName;\n\n    if (typeof headerRowClassName === \"string\") {\n      classes.push(headerRowClassName);\n    } else if (typeof headerRowClassName === \"function\") {\n      classes.push(headerRowClassName.call(null, {\n        rowIndex: rowIndex\n      }));\n    }\n\n    return classes.join(\" \");\n  };\n\n  var getHeaderCellStyle = function getHeaderCellStyle(rowIndex, columnIndex, row, column) {\n    var headerCellStyle = parent.props.headerCellStyle;\n\n    if (typeof headerCellStyle === \"function\") {\n      return headerCellStyle.call(null, {\n        rowIndex: rowIndex,\n        columnIndex: columnIndex,\n        row: row,\n        column: column\n      });\n    }\n\n    return headerCellStyle;\n  };\n\n  var getHeaderCellClass = function getHeaderCellClass(rowIndex, columnIndex, row, column) {\n    var classes = [column.id, column.order, column.headerAlign, column.className, column.labelClassName];\n\n    if (rowIndex === 0 && isCellHidden(columnIndex, row)) {\n      classes.push(\"is-hidden\");\n    }\n\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n\n    if (column.sortable) {\n      classes.push(\"is-sortable\");\n    }\n\n    var headerCellClassName = parent.props.headerCellClassName;\n\n    if (typeof headerCellClassName === \"string\") {\n      classes.push(headerCellClassName);\n    } else if (typeof headerCellClassName === \"function\") {\n      classes.push(headerCellClassName.call(null, {\n        rowIndex: rowIndex,\n        columnIndex: columnIndex,\n        row: row,\n        column: column\n      }));\n    }\n\n    return classes.join(\" \");\n  };\n\n  return {\n    getHeaderRowStyle: getHeaderRowStyle,\n    getHeaderRowClass: getHeaderRowClass,\n    getHeaderCellStyle: getHeaderCellStyle,\n    getHeaderCellClass: getHeaderCellClass\n  };\n}\n\nvar getAllColumns = function getAllColumns(columns) {\n  var result = [];\n  columns.forEach(function (column) {\n    if (column.children) {\n      result.push(column);\n      result.push.apply(result, getAllColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\n\nvar convertToRows = function convertToRows(originColumns) {\n  var maxLevel = 1;\n\n  var traverse = function traverse(column, parent) {\n    if (parent) {\n      column.level = parent.level + 1;\n\n      if (maxLevel < column.level) {\n        maxLevel = column.level;\n      }\n    }\n\n    if (column.children) {\n      var colSpan = 0;\n      column.children.forEach(function (subColumn) {\n        traverse(subColumn, column);\n        colSpan += subColumn.colSpan;\n      });\n      column.colSpan = colSpan;\n    } else {\n      column.colSpan = 1;\n    }\n  };\n\n  originColumns.forEach(function (column) {\n    column.level = 1;\n    traverse(column, void 0);\n  });\n  var rows = [];\n\n  for (var i = 0; i < maxLevel; i++) {\n    rows.push([]);\n  }\n\n  var allColumns = getAllColumns(originColumns);\n  allColumns.forEach(function (column) {\n    if (!column.children) {\n      column.rowSpan = maxLevel - column.level + 1;\n    } else {\n      column.rowSpan = 1;\n    }\n\n    rows[column.level - 1].push(column);\n  });\n  return rows;\n};\n\nfunction useUtils(props) {\n  var instance = getCurrentInstance();\n  var parent = instance.parent;\n  var columnRows = computed(function () {\n    return convertToRows(props.store.states.originColumns.value);\n  });\n  var isGroup = computed(function () {\n    var result = columnRows.value.length > 1;\n    if (result) parent.state.isGroup.value = true;\n    return result;\n  });\n\n  var toggleAllSelection = function toggleAllSelection(event) {\n    event.stopPropagation();\n    parent.store.commit(\"toggleAllSelection\");\n  };\n\n  return {\n    isGroup: isGroup,\n    toggleAllSelection: toggleAllSelection,\n    columnRows: columnRows\n  };\n}\n\nfunction hGutter() {\n  return h(\"col\", {\n    name: \"gutter\"\n  });\n}\n\nfunction hColgroup(columns) {\n  var hasGutter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return h(\"colgroup\", {}, [].concat(_toConsumableArray(columns.map(function (column) {\n    return h(\"col\", {\n      name: column.id,\n      key: column.id\n    });\n  })), [hasGutter && hGutter()]));\n}\n\nvar TableHeader = defineComponent({\n  name: \"ElTableHeader\",\n  components: {\n    ElCheckbox: ElCheckbox\n  },\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: function _default() {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n  setup: function setup(props, _ref5) {\n    var emit = _ref5.emit;\n    var instance = getCurrentInstance();\n    var parent = instance.parent;\n    var storeData = parent.store.states;\n    var filterPanels = ref({});\n\n    var _useLayoutObserver = useLayoutObserver(parent),\n        tableLayout = _useLayoutObserver.tableLayout,\n        onColumnsChange = _useLayoutObserver.onColumnsChange,\n        onScrollableChange = _useLayoutObserver.onScrollableChange;\n\n    var hasGutter = computed(function () {\n      return !props.fixed && tableLayout.gutterWidth;\n    });\n    onMounted(function () {\n      nextTick(function () {\n        var _props$defaultSort = props.defaultSort,\n            prop = _props$defaultSort.prop,\n            order = _props$defaultSort.order;\n        var init = true;\n        parent.store.commit(\"sort\", {\n          prop: prop,\n          order: order,\n          init: init\n        });\n      });\n    });\n\n    var _useEvent = useEvent(props, emit),\n        handleHeaderClick = _useEvent.handleHeaderClick,\n        handleHeaderContextMenu = _useEvent.handleHeaderContextMenu,\n        handleMouseDown = _useEvent.handleMouseDown,\n        handleMouseMove = _useEvent.handleMouseMove,\n        handleMouseOut = _useEvent.handleMouseOut,\n        handleSortClick = _useEvent.handleSortClick,\n        handleFilterClick = _useEvent.handleFilterClick;\n\n    var _useStyle = useStyle(props),\n        getHeaderRowStyle = _useStyle.getHeaderRowStyle,\n        getHeaderRowClass = _useStyle.getHeaderRowClass,\n        getHeaderCellStyle = _useStyle.getHeaderCellStyle,\n        getHeaderCellClass = _useStyle.getHeaderCellClass;\n\n    var _useUtils = useUtils(props),\n        isGroup = _useUtils.isGroup,\n        toggleAllSelection = _useUtils.toggleAllSelection,\n        columnRows = _useUtils.columnRows;\n\n    instance.state = {\n      onColumnsChange: onColumnsChange,\n      onScrollableChange: onScrollableChange\n    };\n    instance.filterPanels = filterPanels;\n    return {\n      columns: storeData.columns,\n      filterPanels: filterPanels,\n      hasGutter: hasGutter,\n      onColumnsChange: onColumnsChange,\n      onScrollableChange: onScrollableChange,\n      columnRows: columnRows,\n      getHeaderRowClass: getHeaderRowClass,\n      getHeaderRowStyle: getHeaderRowStyle,\n      getHeaderCellClass: getHeaderCellClass,\n      getHeaderCellStyle: getHeaderCellStyle,\n      handleHeaderClick: handleHeaderClick,\n      handleHeaderContextMenu: handleHeaderContextMenu,\n      handleMouseDown: handleMouseDown,\n      handleMouseMove: handleMouseMove,\n      handleMouseOut: handleMouseOut,\n      handleSortClick: handleSortClick,\n      handleFilterClick: handleFilterClick,\n      isGroup: isGroup,\n      toggleAllSelection: toggleAllSelection\n    };\n  },\n  render: function render() {\n    var _this4 = this;\n\n    return h(\"table\", {\n      border: \"0\",\n      cellpadding: \"0\",\n      cellspacing: \"0\",\n      class: \"el-table__header\"\n    }, [hColgroup(this.columns, this.hasGutter), h(\"thead\", {\n      class: {\n        \"is-group\": this.isGroup,\n        \"has-gutter\": this.hasGutter\n      }\n    }, this.columnRows.map(function (subColumns, rowIndex) {\n      return h(\"tr\", {\n        class: _this4.getHeaderRowClass(rowIndex),\n        key: rowIndex,\n        style: _this4.getHeaderRowStyle(rowIndex)\n      }, subColumns.map(function (column, cellIndex) {\n        return h(\"th\", {\n          class: _this4.getHeaderCellClass(rowIndex, cellIndex, subColumns, column),\n          colspan: column.colSpan,\n          key: \"\".concat(column.id, \"-thead\"),\n          rowSpan: column.rowSpan,\n          style: _this4.getHeaderCellStyle(rowIndex, cellIndex, subColumns, column),\n          onClick: function onClick($event) {\n            return _this4.handleHeaderClick($event, column);\n          },\n          onContextmenu: function onContextmenu($event) {\n            return _this4.handleHeaderContextMenu($event, column);\n          },\n          onMousedown: function onMousedown($event) {\n            return _this4.handleMouseDown($event, column);\n          },\n          onMousemove: function onMousemove($event) {\n            return _this4.handleMouseMove($event, column);\n          },\n          onMouseout: _this4.handleMouseOut\n        }, [h(\"div\", {\n          class: [\"cell\", column.filteredValue && column.filteredValue.length > 0 ? \"highlight\" : \"\", column.labelClassName]\n        }, [column.renderHeader ? column.renderHeader({\n          column: column,\n          $index: cellIndex,\n          store: _this4.store,\n          _self: _this4.$parent\n        }) : column.label, column.sortable && h(\"span\", {\n          onClick: function onClick($event) {\n            return _this4.handleSortClick($event, column);\n          },\n          class: \"caret-wrapper\"\n        }, [h(\"i\", {\n          onClick: function onClick($event) {\n            return _this4.handleSortClick($event, column, \"ascending\");\n          },\n          class: \"sort-caret ascending\"\n        }), h(\"i\", {\n          onClick: function onClick($event) {\n            return _this4.handleSortClick($event, column, \"descending\");\n          },\n          class: \"sort-caret descending\"\n        })]), column.filterable && h(script, {\n          store: _this4.$parent.store,\n          placement: column.filterPlacement || \"bottom-start\",\n          column: column,\n          upDataColumn: function upDataColumn(key, value) {\n            column[key] = value;\n          }\n        })])]);\n      }));\n    }))]);\n  }\n});\n\nfunction useEvents(props) {\n  var instance = getCurrentInstance();\n  var parent = instance.parent;\n  var tooltipContent = ref(\"\");\n  var tooltipTrigger = ref(h(\"div\"));\n\n  var handleEvent = function handleEvent(event, row, name) {\n    var table = parent;\n    var cell = getCell(event);\n    var column;\n\n    if (cell) {\n      column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n\n      if (column) {\n        table.emit(\"cell-\".concat(name), row, column, cell, event);\n      }\n    }\n\n    table.emit(\"row-\".concat(name), row, column, event);\n  };\n\n  var handleDoubleClick = function handleDoubleClick(event, row) {\n    handleEvent(event, row, \"dblclick\");\n  };\n\n  var handleClick = function handleClick(event, row) {\n    props.store.commit(\"setCurrentRow\", row);\n    handleEvent(event, row, \"click\");\n  };\n\n  var handleContextMenu = function handleContextMenu(event, row) {\n    handleEvent(event, row, \"contextmenu\");\n  };\n\n  var handleMouseEnter = debounce(function (index) {\n    props.store.commit(\"setHoverRow\", index);\n  }, 30);\n  var handleMouseLeave = debounce(function () {\n    props.store.commit(\"setHoverRow\", null);\n  }, 30);\n\n  var handleCellMouseEnter = function handleCellMouseEnter(event, row) {\n    var table = parent;\n    var cell = getCell(event);\n\n    if (cell) {\n      var column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n      var hoverState = table.hoverState = {\n        cell: cell,\n        column: column,\n        row: row\n      };\n      table.emit(\"cell-mouse-enter\", hoverState.row, hoverState.column, hoverState.cell, event);\n    }\n\n    var cellChild = event.target.querySelector(\".cell\");\n\n    if (!(hasClass(cellChild, \"el-tooltip\") && cellChild.childNodes.length)) {\n      return;\n    }\n\n    var range = document.createRange();\n    range.setStart(cellChild, 0);\n    range.setEnd(cellChild, cellChild.childNodes.length);\n    var rangeWidth = range.getBoundingClientRect().width;\n    var padding = (parseInt(getStyle(cellChild, \"paddingLeft\"), 10) || 0) + (parseInt(getStyle(cellChild, \"paddingRight\"), 10) || 0);\n\n    if (rangeWidth + padding > cellChild.offsetWidth || cellChild.scrollWidth > cellChild.offsetWidth) {\n      createTablePopper(cell, cell.innerText || cell.textContent, {\n        placement: \"top\",\n        strategy: \"fixed\"\n      }, row.tooltipEffect);\n    }\n  };\n\n  var handleCellMouseLeave = function handleCellMouseLeave(event) {\n    var cell = getCell(event);\n    if (!cell) return;\n    var oldHoverState = parent.hoverState;\n    parent.emit(\"cell-mouse-leave\", oldHoverState == null ? void 0 : oldHoverState.row, oldHoverState == null ? void 0 : oldHoverState.column, oldHoverState == null ? void 0 : oldHoverState.cell, event);\n  };\n\n  return {\n    handleDoubleClick: handleDoubleClick,\n    handleClick: handleClick,\n    handleContextMenu: handleContextMenu,\n    handleMouseEnter: handleMouseEnter,\n    handleMouseLeave: handleMouseLeave,\n    handleCellMouseEnter: handleCellMouseEnter,\n    handleCellMouseLeave: handleCellMouseLeave,\n    tooltipContent: tooltipContent,\n    tooltipTrigger: tooltipTrigger\n  };\n}\n\nfunction useStyles(props) {\n  var instance = getCurrentInstance();\n  var parent = instance.parent;\n\n  var isColumnHidden = function isColumnHidden(index) {\n    if (props.fixed === \"left\") {\n      return index >= props.store.states.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return index < props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    } else {\n      return index < props.store.states.fixedLeafColumnsLength.value || index >= props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    }\n  };\n\n  var getRowStyle = function getRowStyle(row, rowIndex) {\n    var rowStyle = parent.props.rowStyle;\n\n    if (typeof rowStyle === \"function\") {\n      return rowStyle.call(null, {\n        row: row,\n        rowIndex: rowIndex\n      });\n    }\n\n    return rowStyle || null;\n  };\n\n  var getRowClass = function getRowClass(row, rowIndex) {\n    var classes = [\"el-table__row\"];\n\n    if (parent.props.highlightCurrentRow && row === props.store.states.currentRow.value) {\n      classes.push(\"current-row\");\n    }\n\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(\"el-table__row--striped\");\n    }\n\n    var rowClassName = parent.props.rowClassName;\n\n    if (typeof rowClassName === \"string\") {\n      classes.push(rowClassName);\n    } else if (typeof rowClassName === \"function\") {\n      classes.push(rowClassName.call(null, {\n        row: row,\n        rowIndex: rowIndex\n      }));\n    }\n\n    if (props.store.states.expandRows.value.indexOf(row) > -1) {\n      classes.push(\"expanded\");\n    }\n\n    return classes;\n  };\n\n  var getCellStyle = function getCellStyle(rowIndex, columnIndex, row, column) {\n    var cellStyle = parent.props.cellStyle;\n\n    if (typeof cellStyle === \"function\") {\n      return cellStyle.call(null, {\n        rowIndex: rowIndex,\n        columnIndex: columnIndex,\n        row: row,\n        column: column\n      });\n    }\n\n    return cellStyle;\n  };\n\n  var getCellClass = function getCellClass(rowIndex, columnIndex, row, column) {\n    var classes = [column.id, column.align, column.className];\n\n    if (isColumnHidden(columnIndex)) {\n      classes.push(\"is-hidden\");\n    }\n\n    var cellClassName = parent.props.cellClassName;\n\n    if (typeof cellClassName === \"string\") {\n      classes.push(cellClassName);\n    } else if (typeof cellClassName === \"function\") {\n      classes.push(cellClassName.call(null, {\n        rowIndex: rowIndex,\n        columnIndex: columnIndex,\n        row: row,\n        column: column\n      }));\n    }\n\n    return classes.join(\" \");\n  };\n\n  var getSpan = function getSpan(row, column, rowIndex, columnIndex) {\n    var rowspan = 1;\n    var colspan = 1;\n    var fn = parent.props.spanMethod;\n\n    if (typeof fn === \"function\") {\n      var result = fn({\n        row: row,\n        column: column,\n        rowIndex: rowIndex,\n        columnIndex: columnIndex\n      });\n\n      if (Array.isArray(result)) {\n        rowspan = result[0];\n        colspan = result[1];\n      } else if (_typeof(result) === \"object\") {\n        rowspan = result.rowspan;\n        colspan = result.colspan;\n      }\n    }\n\n    return {\n      rowspan: rowspan,\n      colspan: colspan\n    };\n  };\n\n  var getColspanRealWidth = function getColspanRealWidth(columns, colspan, index) {\n    if (colspan < 1) {\n      return columns[index].realWidth;\n    }\n\n    var widthArr = columns.map(function (_ref6) {\n      var realWidth = _ref6.realWidth,\n          width = _ref6.width;\n      return realWidth || width;\n    }).slice(index, index + colspan);\n    return Number(widthArr.reduce(function (acc, width) {\n      return Number(acc) + Number(width);\n    }, -1));\n  };\n\n  return {\n    getRowStyle: getRowStyle,\n    getRowClass: getRowClass,\n    getCellStyle: getCellStyle,\n    getCellClass: getCellClass,\n    getSpan: getSpan,\n    getColspanRealWidth: getColspanRealWidth,\n    isColumnHidden: isColumnHidden\n  };\n}\n\nvar __defProp$4 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$4 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$4 = function __defNormalProp$4(obj, key, value) {\n  return key in obj ? __defProp$4(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues$4 = function __spreadValues$4(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp$4.call(b, prop)) __defNormalProp$4(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols$4) {\n    var _iterator5 = _createForOfIteratorHelper(__getOwnPropSymbols$4(b)),\n        _step5;\n\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var prop = _step5.value;\n        if (__propIsEnum$4.call(b, prop)) __defNormalProp$4(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n  }\n\n  return a;\n};\n\nvar __spreadProps$1 = function __spreadProps$1(a, b) {\n  return __defProps$1(a, __getOwnPropDescs$1(b));\n};\n\nfunction useRender(props) {\n  var instance = getCurrentInstance();\n  var parent = instance.parent;\n\n  var _useEvents = useEvents(props),\n      handleDoubleClick = _useEvents.handleDoubleClick,\n      handleClick = _useEvents.handleClick,\n      handleContextMenu = _useEvents.handleContextMenu,\n      handleMouseEnter = _useEvents.handleMouseEnter,\n      handleMouseLeave = _useEvents.handleMouseLeave,\n      handleCellMouseEnter = _useEvents.handleCellMouseEnter,\n      handleCellMouseLeave = _useEvents.handleCellMouseLeave,\n      tooltipContent = _useEvents.tooltipContent,\n      tooltipTrigger = _useEvents.tooltipTrigger;\n\n  var _useStyles = useStyles(props),\n      getRowStyle = _useStyles.getRowStyle,\n      getRowClass = _useStyles.getRowClass,\n      getCellStyle = _useStyles.getCellStyle,\n      getCellClass = _useStyles.getCellClass,\n      getSpan = _useStyles.getSpan,\n      getColspanRealWidth = _useStyles.getColspanRealWidth;\n\n  var firstDefaultColumnIndex = computed(function () {\n    return arrayFindIndex(props.store.states.columns.value, function (_ref7) {\n      var type = _ref7.type;\n      return type === \"default\";\n    });\n  });\n\n  var getKeyOfRow = function getKeyOfRow(row, index) {\n    var rowKey = parent.props.rowKey;\n\n    if (rowKey) {\n      return getRowIdentity(row, rowKey);\n    }\n\n    return index;\n  };\n\n  var rowRender = function rowRender(row, $index, treeRowData) {\n    var tooltipEffect = props.tooltipEffect,\n        store = props.store;\n    var _store$states = store.states,\n        indent = _store$states.indent,\n        columns = _store$states.columns;\n    var rowClasses = getRowClass(row, $index);\n    var display = true;\n\n    if (treeRowData) {\n      rowClasses.push(\"el-table__row--level-\" + treeRowData.level);\n      display = treeRowData.display;\n    }\n\n    var displayStyle = display ? null : {\n      display: \"none\"\n    };\n    return h(\"tr\", {\n      style: [displayStyle, getRowStyle(row, $index)],\n      class: rowClasses,\n      key: getKeyOfRow(row, $index),\n      onDblclick: function onDblclick($event) {\n        return handleDoubleClick($event, row);\n      },\n      onClick: function onClick($event) {\n        return handleClick($event, row);\n      },\n      onContextmenu: function onContextmenu($event) {\n        return handleContextMenu($event, row);\n      },\n      onMouseenter: function onMouseenter() {\n        return handleMouseEnter($index);\n      },\n      onMouseleave: handleMouseLeave\n    }, columns.value.map(function (column, cellIndex) {\n      var _getSpan = getSpan(row, column, $index, cellIndex),\n          rowspan = _getSpan.rowspan,\n          colspan = _getSpan.colspan;\n\n      if (!rowspan || !colspan) {\n        return null;\n      }\n\n      var columnData = __spreadValues$4({}, column);\n\n      columnData.realWidth = getColspanRealWidth(columns.value, colspan, cellIndex);\n      var data = {\n        store: props.store,\n        _self: props.context || parent,\n        column: columnData,\n        row: row,\n        $index: $index\n      };\n\n      if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n        data.treeNode = {\n          indent: treeRowData.level * indent.value,\n          level: treeRowData.level\n        };\n\n        if (typeof treeRowData.expanded === \"boolean\") {\n          data.treeNode.expanded = treeRowData.expanded;\n\n          if (\"loading\" in treeRowData) {\n            data.treeNode.loading = treeRowData.loading;\n          }\n\n          if (\"noLazyChildren\" in treeRowData) {\n            data.treeNode.noLazyChildren = treeRowData.noLazyChildren;\n          }\n        }\n      }\n\n      var baseKey = \"\".concat($index, \",\").concat(cellIndex);\n      var patchKey = columnData.columnKey || columnData.rawColumnKey || \"\";\n      return h(\"td\", {\n        style: getCellStyle($index, cellIndex, row, column),\n        class: getCellClass($index, cellIndex, row, column),\n        key: \"\".concat(patchKey).concat(baseKey),\n        rowspan: rowspan,\n        colspan: colspan,\n        onMouseenter: function onMouseenter($event) {\n          return handleCellMouseEnter($event, __spreadProps$1(__spreadValues$4({}, row), {\n            tooltipEffect: tooltipEffect\n          }));\n        },\n        onMouseleave: handleCellMouseLeave\n      }, [column.renderCell(data)]);\n    }));\n  };\n\n  var wrappedRowRender = function wrappedRowRender(row, $index) {\n    var store = props.store;\n    var isRowExpanded = store.isRowExpanded,\n        assertRowKey = store.assertRowKey;\n    var _store$states2 = store.states,\n        treeData = _store$states2.treeData,\n        lazyTreeNodeMap = _store$states2.lazyTreeNodeMap,\n        childrenColumnName = _store$states2.childrenColumnName,\n        rowKey = _store$states2.rowKey;\n    var hasExpandColumn = store.states.columns.value.some(function (_ref8) {\n      var type = _ref8.type;\n      return type === \"expand\";\n    });\n\n    if (hasExpandColumn && isRowExpanded(row)) {\n      var renderExpanded = parent.renderExpanded;\n      var tr = rowRender(row, $index, void 0);\n\n      if (!renderExpanded) {\n        console.error(\"[Element Error]renderExpanded is required.\");\n        return tr;\n      }\n\n      return [[tr, h(\"tr\", {\n        key: \"expanded-row__\" + tr.key\n      }, [h(\"td\", {\n        colspan: store.states.columns.value.length,\n        class: \"el-table__expanded-cell\"\n      }, [renderExpanded({\n        row: row,\n        $index: $index,\n        store: store\n      })])])]];\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey();\n      var key = getRowIdentity(row, rowKey.value);\n      var cur = treeData.value[key];\n      var treeRowData = null;\n\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true\n        };\n\n        if (typeof cur.lazy === \"boolean\") {\n          if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length);\n          }\n\n          treeRowData.loading = cur.loading;\n        }\n      }\n\n      var tmp = [rowRender(row, $index, treeRowData)];\n\n      if (cur) {\n        var i = 0;\n\n        var traverse = function traverse(children, parent2) {\n          if (!(children && children.length && parent2)) return;\n          children.forEach(function (node) {\n            var innerTreeRowData = {\n              display: parent2.display && parent2.expanded,\n              level: parent2.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false\n            };\n            var childKey = getRowIdentity(node, rowKey.value);\n\n            if (childKey === void 0 || childKey === null) {\n              throw new Error(\"for nested data item, row-key is required.\");\n            }\n\n            cur = __spreadValues$4({}, treeData.value[childKey]);\n\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded;\n              cur.level = cur.level || innerTreeRowData.level;\n              cur.display = !!(cur.expanded && innerTreeRowData.display);\n\n              if (typeof cur.lazy === \"boolean\") {\n                if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(cur.children && cur.children.length);\n                }\n\n                innerTreeRowData.loading = cur.loading;\n              }\n            }\n\n            i++;\n            tmp.push(rowRender(node, $index + i, innerTreeRowData));\n\n            if (cur) {\n              var nodes2 = lazyTreeNodeMap.value[childKey] || node[childrenColumnName.value];\n              traverse(nodes2, cur);\n            }\n          });\n        };\n\n        cur.display = true;\n        var nodes = lazyTreeNodeMap.value[key] || row[childrenColumnName.value];\n        traverse(nodes, cur);\n      }\n\n      return tmp;\n    } else {\n      return rowRender(row, $index, void 0);\n    }\n  };\n\n  return {\n    wrappedRowRender: wrappedRowRender,\n    tooltipContent: tooltipContent,\n    tooltipTrigger: tooltipTrigger\n  };\n}\n\nvar defaultProps = {\n  store: {\n    required: true,\n    type: Object\n  },\n  stripe: Boolean,\n  tooltipEffect: String,\n  context: {\n    default: function _default() {\n      return {};\n    },\n    type: Object\n  },\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  fixed: {\n    type: String,\n    default: \"\"\n  },\n  highlight: Boolean\n};\nvar TableBody = defineComponent({\n  name: \"ElTableBody\",\n  props: defaultProps,\n  setup: function setup(props) {\n    var instance = getCurrentInstance();\n    var parent = instance.parent;\n\n    var _useRender = useRender(props),\n        wrappedRowRender = _useRender.wrappedRowRender,\n        tooltipContent = _useRender.tooltipContent,\n        tooltipTrigger = _useRender.tooltipTrigger;\n\n    var _useLayoutObserver2 = useLayoutObserver(parent),\n        onColumnsChange = _useLayoutObserver2.onColumnsChange,\n        onScrollableChange = _useLayoutObserver2.onScrollableChange;\n\n    watch(props.store.states.hoverRow, function (newVal, oldVal) {\n      if (!props.store.states.isComplex.value || isServer) return;\n      var raf = window.requestAnimationFrame;\n\n      if (!raf) {\n        raf = function raf(fn) {\n          return window.setTimeout(fn, 16);\n        };\n      }\n\n      raf(function () {\n        var rows = instance.vnode.el.querySelectorAll(\".el-table__row\");\n        var oldRow = rows[oldVal];\n        var newRow = rows[newVal];\n\n        if (oldRow) {\n          removeClass(oldRow, \"hover-row\");\n        }\n\n        if (newRow) {\n          addClass(newRow, \"hover-row\");\n        }\n      });\n    });\n    onUnmounted(function () {\n      var _a;\n\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    onUpdated(function () {\n      var _a;\n\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    return {\n      onColumnsChange: onColumnsChange,\n      onScrollableChange: onScrollableChange,\n      wrappedRowRender: wrappedRowRender,\n      tooltipContent: tooltipContent,\n      tooltipTrigger: tooltipTrigger\n    };\n  },\n  render: function render() {\n    var _this5 = this;\n\n    var data = this.store.states.data.value || [];\n    return h(\"table\", {\n      class: \"el-table__body\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [hColgroup(this.store.states.columns.value), h(\"tbody\", {}, [data.reduce(function (acc, row) {\n      return acc.concat(_this5.wrappedRowRender(row, acc.length));\n    }, [])])]);\n  }\n});\n\nfunction useMapState() {\n  var instance = getCurrentInstance();\n  var table = instance.parent;\n  var store = table.store;\n  var leftFixedLeafCount = computed(function () {\n    return store.states.fixedLeafColumnsLength.value;\n  });\n  var rightFixedLeafCount = computed(function () {\n    return store.states.rightFixedColumns.value.length;\n  });\n  var columnsCount = computed(function () {\n    return store.states.columns.value.length;\n  });\n  var leftFixedCount = computed(function () {\n    return store.states.fixedColumns.value.length;\n  });\n  var rightFixedCount = computed(function () {\n    return store.states.rightFixedColumns.value.length;\n  });\n  return {\n    leftFixedLeafCount: leftFixedLeafCount,\n    rightFixedLeafCount: rightFixedLeafCount,\n    columnsCount: columnsCount,\n    leftFixedCount: leftFixedCount,\n    rightFixedCount: rightFixedCount,\n    columns: store.states.columns\n  };\n}\n\nfunction useStyle$1(props) {\n  var instance = getCurrentInstance();\n  var table = instance.parent;\n  var store = table.store;\n\n  var _useMapState = useMapState(),\n      leftFixedLeafCount = _useMapState.leftFixedLeafCount,\n      rightFixedLeafCount = _useMapState.rightFixedLeafCount,\n      columnsCount = _useMapState.columnsCount,\n      leftFixedCount = _useMapState.leftFixedCount,\n      rightFixedCount = _useMapState.rightFixedCount,\n      columns = _useMapState.columns;\n\n  var hasGutter = computed(function () {\n    return !props.fixed && table.layout.gutterWidth;\n  });\n\n  var isCellHidden = function isCellHidden(index, columns2, column) {\n    if (props.fixed || props.fixed === \"left\") {\n      return index >= leftFixedLeafCount.value;\n    } else if (props.fixed === \"right\") {\n      var before = 0;\n\n      for (var i = 0; i < index; i++) {\n        before += columns2[i].colSpan;\n      }\n\n      return before < columnsCount.value - rightFixedLeafCount.value;\n    } else if (!props.fixed && column.fixed) {\n      return true;\n    } else {\n      return index < leftFixedCount.value || index >= columnsCount.value - rightFixedCount.value;\n    }\n  };\n\n  var getRowClasses = function getRowClasses(column, cellIndex) {\n    var classes = [column.id, column.align, column.labelClassName];\n\n    if (column.className) {\n      classes.push(column.className);\n    }\n\n    if (isCellHidden(cellIndex, store.states.columns.value, column)) {\n      classes.push(\"is-hidden\");\n    }\n\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n\n    return classes;\n  };\n\n  return {\n    hasGutter: hasGutter,\n    getRowClasses: getRowClasses,\n    columns: columns\n  };\n}\n\nvar TableFooter = defineComponent({\n  name: \"ElTableFooter\",\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    summaryMethod: Function,\n    sumText: String,\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: function _default() {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n  setup: function setup(props) {\n    var _useStyle$ = useStyle$1(props),\n        hasGutter = _useStyle$.hasGutter,\n        getRowClasses = _useStyle$.getRowClasses,\n        columns = _useStyle$.columns;\n\n    return {\n      getRowClasses: getRowClasses,\n      hasGutter: hasGutter,\n      columns: columns\n    };\n  },\n  render: function render() {\n    var _this6 = this;\n\n    var sums = [];\n\n    if (this.summaryMethod) {\n      sums = this.summaryMethod({\n        columns: this.columns,\n        data: this.store.states.data.value\n      });\n    } else {\n      this.columns.forEach(function (column, index) {\n        if (index === 0) {\n          sums[index] = _this6.sumText;\n          return;\n        }\n\n        var values = _this6.store.states.data.value.map(function (item) {\n          return Number(item[column.property]);\n        });\n\n        var precisions = [];\n        var notNumber = true;\n        values.forEach(function (value) {\n          if (!isNaN(value)) {\n            notNumber = false;\n            var decimal = (\"\" + value).split(\".\")[1];\n            precisions.push(decimal ? decimal.length : 0);\n          }\n        });\n        var precision = Math.max.apply(null, precisions);\n\n        if (!notNumber) {\n          sums[index] = values.reduce(function (prev, curr) {\n            var value = Number(curr);\n\n            if (!isNaN(value)) {\n              return parseFloat((prev + curr).toFixed(Math.min(precision, 20)));\n            } else {\n              return prev;\n            }\n          }, 0);\n        } else {\n          sums[index] = \"\";\n        }\n      });\n    }\n\n    return h(\"table\", {\n      class: \"el-table__footer\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [hColgroup(this.columns, this.hasGutter), h(\"tbody\", {\n      class: [{\n        \"has-gutter\": this.hasGutter\n      }]\n    }, [h(\"tr\", {}, [].concat(_toConsumableArray(this.columns.map(function (column, cellIndex) {\n      return h(\"td\", {\n        key: cellIndex,\n        colspan: column.colSpan,\n        rowspan: column.rowSpan,\n        class: _this6.getRowClasses(column, cellIndex)\n      }, [h(\"div\", {\n        class: [\"cell\", column.labelClassName]\n      }, [sums[cellIndex]])]);\n    })), [this.hasGutter && hGutter()]))])]);\n  }\n});\n\nfunction useUtils$1(store) {\n  var setCurrentRow = function setCurrentRow(row) {\n    store.commit(\"setCurrentRow\", row);\n  };\n\n  var toggleRowSelection = function toggleRowSelection(row, selected) {\n    store.toggleRowSelection(row, selected, false);\n    store.updateAllSelected();\n  };\n\n  var clearSelection = function clearSelection() {\n    store.clearSelection();\n  };\n\n  var clearFilter = function clearFilter(columnKeys) {\n    store.clearFilter(columnKeys);\n  };\n\n  var toggleAllSelection = function toggleAllSelection() {\n    store.commit(\"toggleAllSelection\");\n  };\n\n  var toggleRowExpansion = function toggleRowExpansion(row, expanded) {\n    store.toggleRowExpansionAdapter(row, expanded);\n  };\n\n  var clearSort = function clearSort() {\n    store.clearSort();\n  };\n\n  var sort = function sort(prop, order) {\n    store.commit(\"sort\", {\n      prop: prop,\n      order: order\n    });\n  };\n\n  return {\n    setCurrentRow: setCurrentRow,\n    toggleRowSelection: toggleRowSelection,\n    clearSelection: clearSelection,\n    clearFilter: clearFilter,\n    toggleAllSelection: toggleAllSelection,\n    toggleRowExpansion: toggleRowExpansion,\n    clearSort: clearSort,\n    sort: sort\n  };\n}\n\nfunction useStyle$2(props, layout, store, table) {\n  var $ELEMENT = useGlobalConfig();\n  var isHidden = ref(false);\n  var renderExpanded = ref(null);\n  var resizeProxyVisible = ref(false);\n\n  var setDragVisible = function setDragVisible(visible) {\n    resizeProxyVisible.value = visible;\n  };\n\n  var resizeState = ref({\n    width: null,\n    height: null\n  });\n  var isGroup = ref(false);\n  watchEffect(function () {\n    layout.setHeight(props.height);\n  });\n  watchEffect(function () {\n    layout.setMaxHeight(props.maxHeight);\n  });\n  watch(function () {\n    return [props.currentRowKey, store.states.rowKey];\n  }, function (_ref9) {\n    var _ref10 = _slicedToArray(_ref9, 2),\n        currentRowKey = _ref10[0],\n        rowKey = _ref10[1];\n\n    if (!unref(rowKey)) return;\n    store.setCurrentRowKey(currentRowKey + \"\");\n  }, {\n    immediate: true\n  });\n  watch(function () {\n    return props.data;\n  }, function (data) {\n    table.store.commit(\"setData\", data);\n  }, {\n    immediate: true,\n    deep: true\n  });\n  watchEffect(function () {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys);\n    }\n  });\n\n  var handleMouseLeave = function handleMouseLeave() {\n    table.store.commit(\"setHoverRow\", null);\n    if (table.hoverState) table.hoverState = null;\n  };\n\n  var handleHeaderFooterMousewheel = function handleHeaderFooterMousewheel(event, data) {\n    var pixelX = data.pixelX,\n        pixelY = data.pixelY;\n\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5;\n    }\n  };\n\n  var shouldUpdateHeight = computed(function () {\n    return props.height || props.maxHeight || store.states.fixedColumns.value.length > 0 || store.states.rightFixedColumns.value.length > 0;\n  });\n\n  var doLayout = function doLayout() {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight();\n    }\n\n    layout.updateColumnsWidth();\n    syncPostion();\n  };\n\n  onMounted(function () {\n    setScrollClass(\"is-scrolling-left\");\n    bindEvents();\n    store.updateColumns();\n    doLayout();\n    resizeState.value = {\n      width: table.vnode.el.offsetWidth,\n      height: table.vnode.el.offsetHeight\n    };\n    store.states.columns.value.forEach(function (column) {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit(\"filterChange\", {\n          column: column,\n          values: column.filteredValue,\n          silent: true\n        });\n      }\n    });\n    table.$ready = true;\n  });\n\n  var setScrollClassByEl = function setScrollClassByEl(el, className) {\n    if (!el) return;\n    var classList = Array.from(el.classList).filter(function (item) {\n      return !item.startsWith(\"is-scrolling-\");\n    });\n    classList.push(layout.scrollX.value ? className : \"is-scrolling-none\");\n    el.className = classList.join(\" \");\n  };\n\n  var setScrollClass = function setScrollClass(className) {\n    var bodyWrapper = table.refs.bodyWrapper;\n    setScrollClassByEl(bodyWrapper, className);\n  };\n\n  var syncPostion = throttle(function () {\n    if (!table.refs.bodyWrapper) return;\n    var _table$refs$bodyWrapp = table.refs.bodyWrapper,\n        scrollLeft = _table$refs$bodyWrapp.scrollLeft,\n        scrollTop = _table$refs$bodyWrapp.scrollTop,\n        offsetWidth = _table$refs$bodyWrapp.offsetWidth,\n        scrollWidth = _table$refs$bodyWrapp.scrollWidth;\n    var _table$refs = table.refs,\n        headerWrapper = _table$refs.headerWrapper,\n        footerWrapper = _table$refs.footerWrapper,\n        fixedBodyWrapper = _table$refs.fixedBodyWrapper,\n        rightFixedBodyWrapper = _table$refs.rightFixedBodyWrapper;\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft;\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft;\n    if (fixedBodyWrapper) fixedBodyWrapper.scrollTop = scrollTop;\n    if (rightFixedBodyWrapper) rightFixedBodyWrapper.scrollTop = scrollTop;\n    var maxScrollLeftPosition = scrollWidth - offsetWidth - 1;\n\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass(\"is-scrolling-right\");\n    } else if (scrollLeft === 0) {\n      setScrollClass(\"is-scrolling-left\");\n    } else {\n      setScrollClass(\"is-scrolling-middle\");\n    }\n  }, 10);\n\n  var bindEvents = function bindEvents() {\n    window.addEventListener(\"resize\", doLayout);\n    table.refs.bodyWrapper.addEventListener(\"scroll\", syncPostion, {\n      passive: true\n    });\n\n    if (props.fit) {\n      addResizeListener(table.vnode.el, resizeListener);\n    }\n  };\n\n  onUnmounted(function () {\n    unbindEvents();\n  });\n\n  var unbindEvents = function unbindEvents() {\n    var _a;\n\n    (_a = table.refs.bodyWrapper) == null ? void 0 : _a.removeEventListener(\"scroll\", syncPostion, true);\n    window.removeEventListener(\"resize\", doLayout);\n\n    if (props.fit) {\n      removeResizeListener(table.vnode.el, resizeListener);\n    }\n  };\n\n  var resizeListener = function resizeListener() {\n    if (!table.$ready) return;\n    var shouldUpdateLayout = false;\n    var el = table.vnode.el;\n    var _resizeState$value = resizeState.value,\n        oldWidth = _resizeState$value.width,\n        oldHeight = _resizeState$value.height;\n    var width = el.offsetWidth;\n\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true;\n    }\n\n    var height = el.offsetHeight;\n\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true;\n    }\n\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width: width,\n        height: height\n      };\n      doLayout();\n    }\n  };\n\n  var tableSize = computed(function () {\n    return props.size || $ELEMENT.size;\n  });\n  var bodyWidth = computed(function () {\n    var bodyWidth_ = layout.bodyWidth,\n        scrollY = layout.scrollY,\n        gutterWidth = layout.gutterWidth;\n    return bodyWidth_.value ? bodyWidth_.value - (scrollY.value ? gutterWidth : 0) + \"px\" : \"\";\n  });\n  var bodyHeight = computed(function () {\n    var headerHeight = layout.headerHeight.value || 0;\n    var bodyHeight2 = layout.bodyHeight.value;\n    var footerHeight = layout.footerHeight.value || 0;\n\n    if (props.height) {\n      return {\n        height: bodyHeight2 ? bodyHeight2 + \"px\" : \"\"\n      };\n    } else if (props.maxHeight) {\n      var maxHeight = parseHeight(props.maxHeight);\n\n      if (typeof maxHeight === \"number\") {\n        return {\n          \"max-height\": maxHeight - footerHeight - (props.showHeader ? headerHeight : 0) + \"px\"\n        };\n      }\n    }\n\n    return {};\n  });\n  var emptyBlockStyle = computed(function () {\n    if (props.data && props.data.length) return null;\n    var height = \"100%\";\n\n    if (layout.appendHeight.value) {\n      height = \"calc(100% - \".concat(layout.appendHeight.value, \"px)\");\n    }\n\n    return {\n      width: bodyWidth.value,\n      height: height\n    };\n  });\n\n  var handleFixedMousewheel = function handleFixedMousewheel(event, data) {\n    var bodyWrapper = table.refs.bodyWrapper;\n\n    if (Math.abs(data.spinY) > 0) {\n      var currentScrollTop = bodyWrapper.scrollTop;\n\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault();\n      }\n\n      if (data.pixelY > 0 && bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop) {\n        event.preventDefault();\n      }\n\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5);\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5);\n    }\n  };\n\n  var fixedHeight = computed(function () {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0\n        };\n      }\n\n      return {\n        bottom: layout.scrollX.value && props.data.length ? layout.gutterWidth + \"px\" : \"\"\n      };\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value ? layout.tableHeight.value + \"px\" : \"\"\n        };\n      }\n\n      return {\n        height: layout.viewportHeight.value ? layout.viewportHeight.value + \"px\" : \"\"\n      };\n    }\n  });\n  var fixedBodyHeight = computed(function () {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value ? layout.fixedBodyHeight.value + \"px\" : \"\"\n      };\n    } else if (props.maxHeight) {\n      var maxHeight = parseHeight(props.maxHeight);\n\n      if (typeof maxHeight === \"number\") {\n        maxHeight = layout.scrollX.value ? maxHeight - layout.gutterWidth : maxHeight;\n\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value;\n        }\n\n        maxHeight -= layout.footerHeight.value;\n        return {\n          \"max-height\": maxHeight + \"px\"\n        };\n      }\n    }\n\n    return {};\n  });\n  return {\n    isHidden: isHidden,\n    renderExpanded: renderExpanded,\n    setDragVisible: setDragVisible,\n    isGroup: isGroup,\n    handleMouseLeave: handleMouseLeave,\n    handleHeaderFooterMousewheel: handleHeaderFooterMousewheel,\n    tableSize: tableSize,\n    bodyHeight: bodyHeight,\n    emptyBlockStyle: emptyBlockStyle,\n    handleFixedMousewheel: handleFixedMousewheel,\n    fixedHeight: fixedHeight,\n    fixedBodyHeight: fixedBodyHeight,\n    resizeProxyVisible: resizeProxyVisible,\n    bodyWidth: bodyWidth,\n    resizeState: resizeState,\n    doLayout: doLayout\n  };\n}\n\nvar defaultProps$1 = {\n  data: {\n    type: Array,\n    default: function _default() {\n      return [];\n    }\n  },\n  size: String,\n  width: [String, Number],\n  height: [String, Number],\n  maxHeight: [String, Number],\n  fit: {\n    type: Boolean,\n    default: true\n  },\n  stripe: Boolean,\n  border: Boolean,\n  rowKey: [String, Function],\n  showHeader: {\n    type: Boolean,\n    default: true\n  },\n  showSummary: Boolean,\n  sumText: String,\n  summaryMethod: Function,\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  cellClassName: [String, Function],\n  cellStyle: [Object, Function],\n  headerRowClassName: [String, Function],\n  headerRowStyle: [Object, Function],\n  headerCellClassName: [String, Function],\n  headerCellStyle: [Object, Function],\n  highlightCurrentRow: Boolean,\n  currentRowKey: [String, Number],\n  emptyText: String,\n  expandRowKeys: Array,\n  defaultExpandAll: Boolean,\n  defaultSort: Object,\n  tooltipEffect: String,\n  spanMethod: Function,\n  selectOnIndeterminate: {\n    type: Boolean,\n    default: true\n  },\n  indent: {\n    type: Number,\n    default: 16\n  },\n  treeProps: {\n    type: Object,\n    default: function _default() {\n      return {\n        hasChildren: \"hasChildren\",\n        children: \"children\"\n      };\n    }\n  },\n  lazy: Boolean,\n  load: Function,\n  style: {\n    type: Object,\n    default: function _default() {\n      return {};\n    }\n  },\n  className: {\n    type: String,\n    default: \"\"\n  }\n};\nvar tableIdSeed = 1;\nvar script$1 = defineComponent({\n  name: \"ElTable\",\n  directives: {\n    Mousewheel: Mousewheel\n  },\n  components: {\n    TableHeader: TableHeader,\n    TableBody: TableBody,\n    TableFooter: TableFooter\n  },\n  props: defaultProps$1,\n  emits: [\"select\", \"select-all\", \"selection-change\", \"cell-mouse-enter\", \"cell-mouse-leave\", \"cell-contextmenu\", \"cell-click\", \"cell-dblclick\", \"row-click\", \"row-contextmenu\", \"row-dblclick\", \"header-click\", \"header-contextmenu\", \"sort-change\", \"filter-change\", \"current-change\", \"header-dragend\", \"expand-change\"],\n  setup: function setup(props) {\n    var _useLocaleInject2 = useLocaleInject(),\n        t = _useLocaleInject2.t;\n\n    var table = getCurrentInstance();\n    var store = createStore(table, props);\n    table.store = store;\n    var layout = new TableLayout({\n      store: table.store,\n      table: table,\n      fit: props.fit,\n      showHeader: props.showHeader\n    });\n    table.layout = layout;\n    var isEmpty = computed(function () {\n      return (store.states.data.value || []).length === 0;\n    });\n\n    var _useUtils$ = useUtils$1(store),\n        setCurrentRow = _useUtils$.setCurrentRow,\n        toggleRowSelection = _useUtils$.toggleRowSelection,\n        clearSelection = _useUtils$.clearSelection,\n        clearFilter = _useUtils$.clearFilter,\n        toggleAllSelection = _useUtils$.toggleAllSelection,\n        toggleRowExpansion = _useUtils$.toggleRowExpansion,\n        clearSort = _useUtils$.clearSort,\n        sort = _useUtils$.sort;\n\n    var _useStyle$2 = useStyle$2(props, layout, store, table),\n        isHidden = _useStyle$2.isHidden,\n        renderExpanded = _useStyle$2.renderExpanded,\n        setDragVisible = _useStyle$2.setDragVisible,\n        isGroup = _useStyle$2.isGroup,\n        handleMouseLeave = _useStyle$2.handleMouseLeave,\n        handleHeaderFooterMousewheel = _useStyle$2.handleHeaderFooterMousewheel,\n        tableSize = _useStyle$2.tableSize,\n        bodyHeight = _useStyle$2.bodyHeight,\n        emptyBlockStyle = _useStyle$2.emptyBlockStyle,\n        handleFixedMousewheel = _useStyle$2.handleFixedMousewheel,\n        fixedHeight = _useStyle$2.fixedHeight,\n        fixedBodyHeight = _useStyle$2.fixedBodyHeight,\n        resizeProxyVisible = _useStyle$2.resizeProxyVisible,\n        bodyWidth = _useStyle$2.bodyWidth,\n        resizeState = _useStyle$2.resizeState,\n        doLayout = _useStyle$2.doLayout;\n\n    var debouncedUpdateLayout = debounce(doLayout, 50);\n    var tableId = \"el-table_\" + tableIdSeed++;\n    table.tableId = tableId;\n    table.state = {\n      isGroup: isGroup,\n      resizeState: resizeState,\n      doLayout: doLayout,\n      debouncedUpdateLayout: debouncedUpdateLayout\n    };\n    return {\n      layout: layout,\n      store: store,\n      handleHeaderFooterMousewheel: handleHeaderFooterMousewheel,\n      handleMouseLeave: handleMouseLeave,\n      tableId: tableId,\n      tableSize: tableSize,\n      isHidden: isHidden,\n      isEmpty: isEmpty,\n      renderExpanded: renderExpanded,\n      resizeProxyVisible: resizeProxyVisible,\n      resizeState: resizeState,\n      isGroup: isGroup,\n      bodyWidth: bodyWidth,\n      bodyHeight: bodyHeight,\n      emptyBlockStyle: emptyBlockStyle,\n      debouncedUpdateLayout: debouncedUpdateLayout,\n      handleFixedMousewheel: handleFixedMousewheel,\n      fixedHeight: fixedHeight,\n      fixedBodyHeight: fixedBodyHeight,\n      setCurrentRow: setCurrentRow,\n      toggleRowSelection: toggleRowSelection,\n      clearSelection: clearSelection,\n      clearFilter: clearFilter,\n      toggleAllSelection: toggleAllSelection,\n      toggleRowExpansion: toggleRowExpansion,\n      clearSort: clearSort,\n      doLayout: doLayout,\n      sort: sort,\n      t: t,\n      setDragVisible: setDragVisible,\n      context: table\n    };\n  }\n});\nvar _hoisted_1$1 = {\n  ref: \"hiddenColumns\",\n  class: \"hidden-columns\"\n};\nvar _hoisted_2$1 = {\n  key: 0,\n  ref: \"headerWrapper\",\n  class: \"el-table__header-wrapper\"\n};\nvar _hoisted_3$1 = {\n  class: \"el-table__empty-text\"\n};\nvar _hoisted_4$1 = {\n  key: 1,\n  ref: \"appendWrapper\",\n  class: \"el-table__append-wrapper\"\n};\nvar _hoisted_5 = {\n  key: 1,\n  ref: \"footerWrapper\",\n  class: \"el-table__footer-wrapper\"\n};\nvar _hoisted_6 = {\n  key: 0,\n  ref: \"fixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nvar _hoisted_7 = {\n  key: 1,\n  ref: \"fixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nvar _hoisted_8 = {\n  key: 0,\n  ref: \"rightFixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nvar _hoisted_9 = {\n  key: 1,\n  ref: \"rightFixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nvar _hoisted_10 = {\n  ref: \"resizeProxy\",\n  class: \"el-table__column-resize-proxy\"\n};\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_table_header = resolveComponent(\"table-header\");\n\n  var _component_table_body = resolveComponent(\"table-body\");\n\n  var _component_table_footer = resolveComponent(\"table-footer\");\n\n  var _directive_mousewheel = resolveDirective(\"mousewheel\");\n\n  return openBlock(), createBlock(\"div\", {\n    class: [{\n      \"el-table--fit\": _ctx.fit,\n      \"el-table--striped\": _ctx.stripe,\n      \"el-table--border\": _ctx.border || _ctx.isGroup,\n      \"el-table--hidden\": _ctx.isHidden,\n      \"el-table--group\": _ctx.isGroup,\n      \"el-table--fluid-height\": _ctx.maxHeight,\n      \"el-table--scrollable-x\": _ctx.layout.scrollX.value,\n      \"el-table--scrollable-y\": _ctx.layout.scrollY.value,\n      \"el-table--enable-row-hover\": !_ctx.store.states.isComplex.value,\n      \"el-table--enable-row-transition\": (_ctx.store.states.data.value || []).length !== 0 && (_ctx.store.states.data.value || []).length < 100\n    }, _ctx.tableSize ? \"el-table--\".concat(_ctx.tableSize) : \"\", _ctx.className, \"el-table\"],\n    style: _ctx.style,\n    onMouseleave: _cache[1] || (_cache[1] = function ($event) {\n      return _ctx.handleMouseLeave();\n    })\n  }, [createVNode(\"div\", _hoisted_1$1, [renderSlot(_ctx.$slots, \"default\")], 512), _ctx.showHeader ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_2$1, [createVNode(_component_table_header, {\n    ref: \"tableHeader\",\n    border: _ctx.border,\n    \"default-sort\": _ctx.defaultSort,\n    store: _ctx.store,\n    style: {\n      width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n    },\n    onSetDragVisible: _ctx.setDragVisible\n  }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"onSetDragVisible\"])], 512)), [[_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]]) : createCommentVNode(\"v-if\", true), createVNode(\"div\", {\n    ref: \"bodyWrapper\",\n    style: [_ctx.bodyHeight],\n    class: \"el-table__body-wrapper\"\n  }, [createVNode(_component_table_body, {\n    context: _ctx.context,\n    highlight: _ctx.highlightCurrentRow,\n    \"row-class-name\": _ctx.rowClassName,\n    \"tooltip-effect\": _ctx.tooltipEffect,\n    \"row-style\": _ctx.rowStyle,\n    store: _ctx.store,\n    stripe: _ctx.stripe,\n    style: {\n      width: _ctx.bodyWidth\n    }\n  }, null, 8, [\"context\", \"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]), _ctx.isEmpty ? (openBlock(), createBlock(\"div\", {\n    key: 0,\n    ref: \"emptyBlock\",\n    style: _ctx.emptyBlockStyle,\n    class: \"el-table__empty-block\"\n  }, [createVNode(\"span\", _hoisted_3$1, [renderSlot(_ctx.$slots, \"empty\", {}, function () {\n    return [createTextVNode(toDisplayString(_ctx.emptyText || _ctx.t(\"el.table.emptyText\")), 1)];\n  })])], 4)) : createCommentVNode(\"v-if\", true), _ctx.$slots.append ? (openBlock(), createBlock(\"div\", _hoisted_4$1, [renderSlot(_ctx.$slots, \"append\")], 512)) : createCommentVNode(\"v-if\", true)], 4), _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_5, [createVNode(_component_table_footer, {\n    border: _ctx.border,\n    \"default-sort\": _ctx.defaultSort,\n    store: _ctx.store,\n    style: {\n      width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n    },\n    \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n    \"summary-method\": _ctx.summaryMethod\n  }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"sum-text\", \"summary-method\"])], 512)), [[vShow, !_ctx.isEmpty], [_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]]) : createCommentVNode(\"v-if\", true), _ctx.store.states.fixedColumns.value.length > 0 ? withDirectives((openBlock(), createBlock(\"div\", {\n    key: 2,\n    ref: \"fixedWrapper\",\n    style: [{\n      width: _ctx.layout.fixedWidth.value ? _ctx.layout.fixedWidth.value + \"px\" : \"\"\n    }, _ctx.fixedHeight],\n    class: \"el-table__fixed\"\n  }, [_ctx.showHeader ? (openBlock(), createBlock(\"div\", _hoisted_6, [createVNode(_component_table_header, {\n    ref: \"fixedTableHeader\",\n    border: _ctx.border,\n    store: _ctx.store,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    fixed: \"left\",\n    onSetDragVisible: _ctx.setDragVisible\n  }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])], 512)) : createCommentVNode(\"v-if\", true), createVNode(\"div\", {\n    ref: \"fixedBodyWrapper\",\n    style: [{\n      top: _ctx.layout.headerHeight.value + \"px\"\n    }, _ctx.fixedBodyHeight],\n    class: \"el-table__fixed-body-wrapper\"\n  }, [createVNode(_component_table_body, {\n    highlight: _ctx.highlightCurrentRow,\n    \"row-class-name\": _ctx.rowClassName,\n    \"tooltip-effect\": _ctx.tooltipEffect,\n    \"row-style\": _ctx.rowStyle,\n    store: _ctx.store,\n    stripe: _ctx.stripe,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    fixed: \"left\"\n  }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]), _ctx.$slots.append ? (openBlock(), createBlock(\"div\", {\n    key: 0,\n    style: {\n      height: _ctx.layout.appendHeight.value + \"px\"\n    },\n    class: \"el-table__append-gutter\"\n  }, null, 4)) : createCommentVNode(\"v-if\", true)], 4), _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_7, [createVNode(_component_table_footer, {\n    border: _ctx.border,\n    store: _ctx.store,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n    \"summary-method\": _ctx.summaryMethod,\n    fixed: \"left\"\n  }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])], 512)), [[vShow, !_ctx.isEmpty]]) : createCommentVNode(\"v-if\", true)], 4)), [[_directive_mousewheel, _ctx.handleFixedMousewheel]]) : createCommentVNode(\"v-if\", true), _ctx.store.states.rightFixedColumns.value.length > 0 ? withDirectives((openBlock(), createBlock(\"div\", {\n    key: 3,\n    ref: \"rightFixedWrapper\",\n    style: [{\n      width: _ctx.layout.rightFixedWidth.value ? _ctx.layout.rightFixedWidth.value + \"px\" : \"\",\n      right: _ctx.layout.scrollY.value ? (_ctx.border ? _ctx.layout.gutterWidth : _ctx.layout.gutterWidth || 0) + \"px\" : \"\"\n    }, _ctx.fixedHeight],\n    class: \"el-table__fixed-right\"\n  }, [_ctx.showHeader ? (openBlock(), createBlock(\"div\", _hoisted_8, [createVNode(_component_table_header, {\n    ref: \"rightFixedTableHeader\",\n    border: _ctx.border,\n    store: _ctx.store,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    fixed: \"right\",\n    onSetDragVisible: _ctx.setDragVisible\n  }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])], 512)) : createCommentVNode(\"v-if\", true), createVNode(\"div\", {\n    ref: \"rightFixedBodyWrapper\",\n    style: [{\n      top: _ctx.layout.headerHeight.value + \"px\"\n    }, _ctx.fixedBodyHeight],\n    class: \"el-table__fixed-body-wrapper\"\n  }, [createVNode(_component_table_body, {\n    highlight: _ctx.highlightCurrentRow,\n    \"row-class-name\": _ctx.rowClassName,\n    \"tooltip-effect\": _ctx.tooltipEffect,\n    \"row-style\": _ctx.rowStyle,\n    store: _ctx.store,\n    stripe: _ctx.stripe,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    fixed: \"right\"\n  }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]), _ctx.$slots.append ? (openBlock(), createBlock(\"div\", {\n    key: 0,\n    style: {\n      height: _ctx.layout.appendHeight.value + \"px\"\n    },\n    class: \"el-table__append-gutter\"\n  }, null, 4)) : createCommentVNode(\"v-if\", true)], 4), _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_9, [createVNode(_component_table_footer, {\n    border: _ctx.border,\n    store: _ctx.store,\n    style: {\n      width: _ctx.bodyWidth\n    },\n    \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n    \"summary-method\": _ctx.summaryMethod,\n    fixed: \"right\"\n  }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])], 512)), [[vShow, !_ctx.isEmpty]]) : createCommentVNode(\"v-if\", true)], 4)), [[_directive_mousewheel, _ctx.handleFixedMousewheel]]) : createCommentVNode(\"v-if\", true), _ctx.store.states.rightFixedColumns.value.length > 0 ? (openBlock(), createBlock(\"div\", {\n    key: 4,\n    ref: \"rightFixedPatch\",\n    style: {\n      width: _ctx.layout.scrollY.value ? _ctx.layout.gutterWidth + \"px\" : \"0\",\n      height: _ctx.layout.headerHeight.value + \"px\"\n    },\n    class: \"el-table__fixed-right-patch\"\n  }, null, 4)) : createCommentVNode(\"v-if\", true), withDirectives(createVNode(\"div\", _hoisted_10, null, 512), [[vShow, _ctx.resizeProxyVisible]])], 38);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/table/src/table.vue\";\n\nscript$1.install = function (app) {\n  app.component(script$1.name, script$1);\n};\n\nvar _Table = script$1;\nexport default _Table;","map":{"version":3,"sources":["/Users/fabienne/studium/praxissemester/portfolio/fabienne.vatter/node_modules/element-plus/es/el-table/index.js"],"names":["getCurrentInstance","ref","unref","computed","watch","nextTick","isRef","defineComponent","resolveComponent","resolveDirective","openBlock","createBlock","withCtx","createVNode","Fragment","renderList","createTextVNode","toDisplayString","withDirectives","onBeforeMount","onMounted","onUpdated","onUnmounted","h","watchEffect","renderSlot","createCommentVNode","vShow","getValueByPath","arrayFind","arrayFindIndex","useGlobalConfig","off","on","addClass","hasClass","removeClass","getStyle","createPopper","PopupManager","debounce","useLocaleInject","ClickOutside","Mousewheel","scrollbarWidth","isServer","ElCheckbox","ElPopper","ElCheckboxGroup","ElScrollbar","addResizeListener","removeResizeListener","throttle","EMPTY_OBJ","process","env","NODE_ENV","Object","freeze","EMPTY_ARR","hasOwnProperty","prototype","hasOwn","val","key","call","__defProp","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","value","enumerable","configurable","writable","__spreadValues","a","b","prop","getCell","event","cell","target","tagName","toUpperCase","parentNode","isObject","orderBy","array","sortKey","reverse","sortMethod","sortBy","Array","isArray","length","getKey","index","map","by","$value","compare","i","len","sort","order","item","getColumnById","table","columnId","column","columns","forEach","id","getColumnByKey","columnKey","getColumnByCell","matches","className","match","getRowIdentity","row","rowKey","Error","indexOf","split","current","getKeysMap","arrayMap","parseHeight","height","test","parseInt","toggleRowStatus","statusArr","newVal","changed","included","addRow","push","removeRow","splice","walkTreeNode","root","cb","childrenKey","lazyKey","isNil","_walker","parent","children","level","children2","removePopper","createTablePopper","trigger","popperContent","popperOptions","tooltipEffect","renderContent","isLight","content2","document","createElement","innerHTML","style","zIndex","String","nextZIndex","body","appendChild","renderArrow","arrow2","bottom","showPopper","popperInstance","update","removePopper2","destroy","content","removeChild","e","arrow","modifiers","name","options","offset","element","padding","useExpand","watcherData","instance","defaultExpandAll","expandRows","updateExpandRows","data","slice","expandRowsMap","reduce","prev","rowId","rowInfo","toggleRowExpansion","expanded","emit","store","scheduleLayout","setExpandRowKeys","rowKeys","assertRowKey","keysMap","cur","info","isRowExpanded","expandMap","states","useCurrent","_currentRowKey","currentRow","setCurrentRowKey","setCurrentRowByKey","restoreCurrentRowKey","_currentRow","updateCurrentRow","oldCurrentRow","updateCurrentRowData","currentRowKey","__defProp$1","__getOwnPropSymbols$1","__hasOwnProp$1","__propIsEnum$1","__defNormalProp$1","__spreadValues$1","useTree","expandRowKeys","treeData","indent","lazy","lazyTreeNodeMap","lazyColumnIdentifier","childrenColumnName","normalizedData","normalize","normalizedLazyNode","keys","res","parentId","updateTreeData","_a","_b","nested","normalizedLazyNode_","newTreeData","oldTreeData","rootLazyRowKeys","getExpanded","oldValue","newValue","loaded","loading","lazyKeys","lazyNodeChildren","updateTableScrollY","updateTreeExpandKeys","toggleTreeExpansion","oldExpanded","loadOrToggle","loadData","treeNode","load","props","__defProp$2","__getOwnPropSymbols$2","__hasOwnProp$2","__propIsEnum$2","__defNormalProp$2","__spreadValues$2","sortData","sortingColumn","sortable","sortProp","sortOrder","doFlattenColumns","result","apply","useWatcher","_data","isComplex","_columns","originColumns","fixedColumns","rightFixedColumns","leafColumns","fixedLeafColumns","rightFixedLeafColumns","leafColumnsLength","fixedLeafColumnsLength","rightFixedLeafColumnsLength","isAllSelected","selection","reserveSelection","selectOnIndeterminate","selectable","filters","filteredData","hoverRow","state","deep","updateColumns","filter","fixed","type","unshift","notFixedColumns","concat","leafColumns2","fixedLeafColumns2","rightFixedLeafColumns2","needUpdateColumns","immediate","doLayout","debouncedUpdateLayout","isSelected","clearSelection","oldSelection","cleanSelection","deleted","selectedMap","dataMap","newSelection","toggleRowSelection","selected","emitChange","_toggleAllSelection","selectionChanged","childrenCount","rowKey2","rowIndex","getChildrenCount","updateSelectionByRowKey","updateAllSelected","_c","isSelected2","isAllSelected_","selectedCount","j","keyProp","isRowSelectable","count","childKey","updateFilters","columns2","values","filters_","col","updateSort","execFilter","sourceData","filterMethod","some","execSort","execQuery","ignore","clearFilter","columnKeys","refs","tableHeader","fixedTableHeader","rightFixedTableHeader","panels","assign","filterPanels","columns_","find","filteredValue","commit","silent","multi","clearSort","expandStates","treeStates","currentData","setExpandRowKeysAdapter","toggleRowExpansionAdapter","hasExpandColumn","toggleAllSelection","__defProp$3","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols$3","__hasOwnProp$3","__propIsEnum$3","__defNormalProp$3","__spreadValues$3","__spreadProps","replaceColumn","sortColumn","no","getColumnIndex","pre","useStore","watcher","mutations","setData","dataInstanceChanged","$ready","insertColumn","newColumns","removeColumn","findIndex","init","column2","property","changeSortCondition","ingore","filterChange","_states","newFilters","rowSelectedChanged","setHoverRow","setCurrentRow","mutations2","args","layout","updateScrollY","InitialStateMap","default","createStore","handleValue","getArrKeysValue","proxyTableProps","propsKey","storeKey","includes","keyList","TableLayout","observers","fit","showHeader","scrollX","scrollY","bodyWidth","fixedWidth","rightFixedWidth","tableHeight","headerHeight","appendHeight","footerHeight","viewportHeight","bodyHeight","fixedBodyHeight","gutterWidth","bodyWrapper","vnode","el","prevScrollY","querySelector","offsetHeight","Number","setHeight","updateElsHeight","flattenColumns","isColumnGroup","headerWrapper","appendWrapper","footerWrapper","headerTrElm","noneHeader","headerDisplayNone","offsetWidth","clientHeight","notifyObservers","elm","headerChild","getComputedStyle","display","parentElement","clientWidth","bodyMinWidth","getFlattenColumns","flexColumns","width","realWidth","minWidth","scrollYWidth","totalFlexWidth","allColumnsWidth","flexWidthPerPixel","noneFirstWidth","flexWidth","Math","floor","max","resizeState","observer","onColumnsChange","onScrollableChange","script","components","directives","placement","upDataColumn","Function","setup","t","tooltipVisible","tooltip","filterValue","get","set","multiple","filterMultiple","isActive","hidden","showFilterPanel","stopPropagation","hideFilterPanel","handleConfirm","confirmFilter","handleReset","handleSelect","_filterValue","filteredValue2","popperPaneRef","popperRef","_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_checkbox","_component_el_checkbox_group","_component_el_scrollbar","_component_el_popper","_directive_click_outside","visible","$event","effect","pure","modelValue","label","text","_","disabled","onClick","filterOpened","__file","useLayoutObserver","tableLayout","addObserver","removeObserver","cols","querySelectorAll","columnsMap","getAttribute","setAttribute","ths","th","useEvent","handleFilterClick","handleHeaderClick","handleSortClick","filterable","handleHeaderContextMenu","draggingColumn","dragging","dragState","handleMouseDown","border","tableEl","tableLeft","getBoundingClientRect","left","columnEl","columnRect","minLeft","startMouseLeft","clientX","startLeft","right","startColumnLeft","resizeProxy","onselectstart","ondragstart","handleMouseMove2","event2","deltaLeft","proxyLeft","handleMouseUp","finalLeft","columnWidth","cursor","removeEventListener","setTimeout","addEventListener","handleMouseMove","resizable","rect","bodyStyle","pageX","handleMouseOut","toggleOrder","sortOrders","givenOrder","useStyle","storeData","isCellHidden","start","colSpan","after","getHeaderRowStyle","headerRowStyle","getHeaderRowClass","classes","headerRowClassName","join","getHeaderCellStyle","columnIndex","headerCellStyle","getHeaderCellClass","headerAlign","labelClassName","headerCellClassName","getAllColumns","convertToRows","maxLevel","traverse","subColumn","rows","allColumns","rowSpan","useUtils","columnRows","isGroup","hGutter","hColgroup","hasGutter","TableHeader","required","Boolean","defaultSort","cellpadding","cellspacing","subColumns","cellIndex","colspan","onContextmenu","onMousedown","onMousemove","onMouseout","renderHeader","$index","_self","$parent","filterPlacement","useEvents","tooltipContent","tooltipTrigger","handleEvent","handleDoubleClick","handleClick","handleContextMenu","handleMouseEnter","handleMouseLeave","handleCellMouseEnter","hoverState","cellChild","childNodes","range","createRange","setStart","setEnd","rangeWidth","scrollWidth","innerText","textContent","strategy","handleCellMouseLeave","oldHoverState","useStyles","isColumnHidden","getRowStyle","rowStyle","getRowClass","highlightCurrentRow","stripe","rowClassName","getCellStyle","cellStyle","getCellClass","align","cellClassName","getSpan","rowspan","fn","spanMethod","getColspanRealWidth","widthArr","acc","__defProp$4","__defProps$1","__getOwnPropDescs$1","__getOwnPropSymbols$4","__hasOwnProp$4","__propIsEnum$4","__defNormalProp$4","__spreadValues$4","__spreadProps$1","useRender","firstDefaultColumnIndex","getKeyOfRow","rowRender","treeRowData","rowClasses","displayStyle","onDblclick","onMouseenter","onMouseleave","columnData","context","noLazyChildren","baseKey","patchKey","rawColumnKey","renderCell","wrappedRowRender","renderExpanded","tr","console","error","tmp","parent2","node","innerTreeRowData","nodes2","nodes","defaultProps","highlight","TableBody","oldVal","raf","window","requestAnimationFrame","oldRow","newRow","useMapState","leftFixedLeafCount","rightFixedLeafCount","columnsCount","leftFixedCount","rightFixedCount","useStyle$1","before","getRowClasses","TableFooter","summaryMethod","sumText","sums","precisions","notNumber","isNaN","decimal","precision","curr","parseFloat","toFixed","min","useUtils$1","useStyle$2","$ELEMENT","isHidden","resizeProxyVisible","setDragVisible","setMaxHeight","maxHeight","handleHeaderFooterMousewheel","pixelX","pixelY","abs","scrollLeft","shouldUpdateHeight","updateColumnsWidth","syncPostion","setScrollClass","bindEvents","setScrollClassByEl","classList","from","startsWith","scrollTop","fixedBodyWrapper","rightFixedBodyWrapper","maxScrollLeftPosition","passive","resizeListener","unbindEvents","shouldUpdateLayout","oldWidth","oldHeight","tableSize","size","bodyWidth_","bodyHeight2","emptyBlockStyle","handleFixedMousewheel","spinY","currentScrollTop","preventDefault","scrollHeight","ceil","fixedHeight","showSummary","defaultProps$1","emptyText","treeProps","hasChildren","tableIdSeed","script$1","emits","isEmpty","tableId","_hoisted_1$1","_hoisted_2$1","_hoisted_3$1","_hoisted_4$1","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","render$1","_component_table_header","_component_table_body","_component_table_footer","_directive_mousewheel","$slots","onSetDragVisible","append","top","install","app","component","_Table"],"mappings":"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","sourcesContent":["import { getCurrentInstance, ref, unref, computed, watch, nextTick, isRef, defineComponent, resolveComponent, resolveDirective, openBlock, createBlock, withCtx, createVNode, Fragment, renderList, createTextVNode, toDisplayString, withDirectives, onBeforeMount, onMounted, onUpdated, onUnmounted, h, watchEffect, renderSlot, createCommentVNode, vShow } from 'vue';\nimport { getValueByPath, arrayFind, arrayFindIndex, useGlobalConfig } from '../utils/util';\nimport { off, on, addClass, hasClass, removeClass, getStyle } from '../utils/dom';\nimport { createPopper } from '@popperjs/core';\nimport PopupManager from '../utils/popup-manager';\nimport debounce from 'lodash/debounce';\nimport { useLocaleInject } from '../hooks';\nimport { ClickOutside, Mousewheel } from '../directives';\nimport scrollbarWidth from '../utils/scrollbar-width';\nimport isServer from '../utils/isServer';\nimport ElCheckbox from '../el-checkbox';\nimport ElPopper from '../el-popper';\nimport ElCheckboxGroup from '../el-checkbox-group';\nimport ElScrollbar from '../el-scrollbar';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport throttle from 'lodash/throttle';\n\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nconst getCell = function(event) {\n  let cell = event.target;\n  while (cell && cell.tagName.toUpperCase() !== \"HTML\") {\n    if (cell.tagName.toUpperCase() === \"TD\") {\n      return cell;\n    }\n    cell = cell.parentNode;\n  }\n  return null;\n};\nconst isObject = function(obj) {\n  return obj !== null && typeof obj === \"object\";\n};\nconst orderBy = function(array, sortKey, reverse, sortMethod, sortBy) {\n  if (!sortKey && !sortMethod && (!sortBy || Array.isArray(sortBy) && !sortBy.length)) {\n    return array;\n  }\n  if (typeof reverse === \"string\") {\n    reverse = reverse === \"descending\" ? -1 : 1;\n  } else {\n    reverse = reverse && reverse < 0 ? -1 : 1;\n  }\n  const getKey = sortMethod ? null : function(value, index) {\n    if (sortBy) {\n      if (!Array.isArray(sortBy)) {\n        sortBy = [sortBy];\n      }\n      return sortBy.map(function(by) {\n        if (typeof by === \"string\") {\n          return getValueByPath(value, by);\n        } else {\n          return by(value, index, array);\n        }\n      });\n    }\n    if (sortKey !== \"$key\") {\n      if (isObject(value) && \"$value\" in value)\n        value = value.$value;\n    }\n    return [isObject(value) ? getValueByPath(value, sortKey) : value];\n  };\n  const compare = function(a, b) {\n    if (sortMethod) {\n      return sortMethod(a.value, b.value);\n    }\n    for (let i = 0, len = a.key.length; i < len; i++) {\n      if (a.key[i] < b.key[i]) {\n        return -1;\n      }\n      if (a.key[i] > b.key[i]) {\n        return 1;\n      }\n    }\n    return 0;\n  };\n  return array.map(function(value, index) {\n    return {\n      value,\n      index,\n      key: getKey ? getKey(value, index) : null\n    };\n  }).sort(function(a, b) {\n    let order = compare(a, b);\n    if (!order) {\n      order = a.index - b.index;\n    }\n    return order * +reverse;\n  }).map((item) => item.value);\n};\nconst getColumnById = function(table, columnId) {\n  let column = null;\n  table.columns.forEach(function(item) {\n    if (item.id === columnId) {\n      column = item;\n    }\n  });\n  return column;\n};\nconst getColumnByKey = function(table, columnKey) {\n  let column = null;\n  for (let i = 0; i < table.columns.length; i++) {\n    const item = table.columns[i];\n    if (item.columnKey === columnKey) {\n      column = item;\n      break;\n    }\n  }\n  return column;\n};\nconst getColumnByCell = function(table, cell) {\n  const matches = (cell.className || \"\").match(/el-table_[^\\s]+/gm);\n  if (matches) {\n    return getColumnById(table, matches[0]);\n  }\n  return null;\n};\nconst getRowIdentity = (row, rowKey) => {\n  if (!row)\n    throw new Error(\"row is required when get row identity\");\n  if (typeof rowKey === \"string\") {\n    if (rowKey.indexOf(\".\") < 0) {\n      return row[rowKey] + \"\";\n    }\n    const key = rowKey.split(\".\");\n    let current = row;\n    for (let i = 0; i < key.length; i++) {\n      current = current[key[i]];\n    }\n    return current + \"\";\n  } else if (typeof rowKey === \"function\") {\n    return rowKey.call(null, row);\n  }\n};\nconst getKeysMap = function(array, rowKey) {\n  const arrayMap = {};\n  (array || []).forEach((row, index) => {\n    arrayMap[getRowIdentity(row, rowKey)] = { row, index };\n  });\n  return arrayMap;\n};\nfunction parseHeight(height) {\n  if (typeof height === \"number\") {\n    return height;\n  }\n  if (typeof height === \"string\") {\n    if (/^\\d+(?:px)?$/.test(height)) {\n      return parseInt(height, 10);\n    } else {\n      return height;\n    }\n  }\n  return null;\n}\nfunction toggleRowStatus(statusArr, row, newVal) {\n  let changed = false;\n  const index = statusArr.indexOf(row);\n  const included = index !== -1;\n  const addRow = () => {\n    statusArr.push(row);\n    changed = true;\n  };\n  const removeRow = () => {\n    statusArr.splice(index, 1);\n    changed = true;\n  };\n  if (typeof newVal === \"boolean\") {\n    if (newVal && !included) {\n      addRow();\n    } else if (!newVal && included) {\n      removeRow();\n    }\n  } else {\n    if (included) {\n      removeRow();\n    } else {\n      addRow();\n    }\n  }\n  return changed;\n}\nfunction walkTreeNode(root, cb, childrenKey = \"children\", lazyKey = \"hasChildren\") {\n  const isNil = (array) => !(Array.isArray(array) && array.length);\n  function _walker(parent, children, level) {\n    cb(parent, children, level);\n    children.forEach((item) => {\n      if (item[lazyKey]) {\n        cb(item, null, level + 1);\n        return;\n      }\n      const children2 = item[childrenKey];\n      if (!isNil(children2)) {\n        _walker(item, children2, level + 1);\n      }\n    });\n  }\n  root.forEach((item) => {\n    if (item[lazyKey]) {\n      cb(item, null, 0);\n      return;\n    }\n    const children = item[childrenKey];\n    if (!isNil(children)) {\n      _walker(item, children, 0);\n    }\n  });\n}\nlet removePopper;\nfunction createTablePopper(trigger, popperContent, popperOptions, tooltipEffect) {\n  function renderContent() {\n    const isLight = tooltipEffect === \"light\";\n    const content2 = document.createElement(\"div\");\n    content2.className = `el-popper ${isLight ? \"is-light\" : \"is-dark\"}`;\n    content2.innerHTML = popperContent;\n    content2.style.zIndex = String(PopupManager.nextZIndex());\n    document.body.appendChild(content2);\n    return content2;\n  }\n  function renderArrow() {\n    const arrow2 = document.createElement(\"div\");\n    arrow2.className = \"el-popper__arrow\";\n    arrow2.style.bottom = \"-4px\";\n    return arrow2;\n  }\n  function showPopper() {\n    popperInstance && popperInstance.update();\n  }\n  removePopper = function removePopper2() {\n    try {\n      popperInstance && popperInstance.destroy();\n      content && document.body.removeChild(content);\n      off(trigger, \"mouseenter\", showPopper);\n      off(trigger, \"mouseleave\", removePopper2);\n    } catch (e) {\n    }\n  };\n  let popperInstance = null;\n  const content = renderContent();\n  const arrow = renderArrow();\n  content.appendChild(arrow);\n  popperInstance = createPopper(trigger, content, __spreadValues({\n    modifiers: [\n      {\n        name: \"offset\",\n        options: {\n          offset: [0, 8]\n        }\n      },\n      {\n        name: \"arrow\",\n        options: {\n          element: arrow,\n          padding: 10\n        }\n      }\n    ]\n  }, popperOptions));\n  on(trigger, \"mouseenter\", showPopper);\n  on(trigger, \"mouseleave\", removePopper);\n  return popperInstance;\n}\n\nfunction useExpand(watcherData) {\n  const instance = getCurrentInstance();\n  const defaultExpandAll = ref(false);\n  const expandRows = ref([]);\n  const updateExpandRows = () => {\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n    if (defaultExpandAll.value) {\n      expandRows.value = data.slice();\n    } else if (rowKey) {\n      const expandRowsMap = getKeysMap(expandRows.value, rowKey);\n      expandRows.value = data.reduce((prev, row) => {\n        const rowId = getRowIdentity(row, rowKey);\n        const rowInfo = expandRowsMap[rowId];\n        if (rowInfo) {\n          prev.push(row);\n        }\n        return prev;\n      }, []);\n    } else {\n      expandRows.value = [];\n    }\n  };\n  const toggleRowExpansion = (row, expanded) => {\n    const changed = toggleRowStatus(expandRows.value, row, expanded);\n    if (changed) {\n      instance.emit(\"expand-change\", row, expandRows.value.slice());\n      instance.store.scheduleLayout();\n    }\n  };\n  const setExpandRowKeys = (rowKeys) => {\n    instance.store.assertRowKey();\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n    const keysMap = getKeysMap(data, rowKey);\n    expandRows.value = rowKeys.reduce((prev, cur) => {\n      const info = keysMap[cur];\n      if (info) {\n        prev.push(info.row);\n      }\n      return prev;\n    }, []);\n  };\n  const isRowExpanded = (row) => {\n    const rowKey = watcherData.rowKey.value;\n    if (rowKey) {\n      const expandMap = getKeysMap(expandRows.value, rowKey);\n      return !!expandMap[getRowIdentity(row, rowKey)];\n    }\n    return expandRows.value.indexOf(row) !== -1;\n  };\n  return {\n    updateExpandRows,\n    toggleRowExpansion,\n    setExpandRowKeys,\n    isRowExpanded,\n    states: {\n      expandRows,\n      defaultExpandAll\n    }\n  };\n}\n\nfunction useCurrent(watcherData) {\n  const instance = getCurrentInstance();\n  const _currentRowKey = ref(null);\n  const currentRow = ref(null);\n  const setCurrentRowKey = (key) => {\n    instance.store.assertRowKey();\n    _currentRowKey.value = key;\n    setCurrentRowByKey(key);\n  };\n  const restoreCurrentRowKey = () => {\n    _currentRowKey.value = null;\n  };\n  const setCurrentRowByKey = (key) => {\n    const { data = [], rowKey } = watcherData;\n    let _currentRow = null;\n    if (rowKey.value) {\n      _currentRow = arrayFind(unref(data), (item) => getRowIdentity(item, rowKey.value) === key);\n    }\n    currentRow.value = _currentRow;\n  };\n  const updateCurrentRow = (_currentRow) => {\n    const oldCurrentRow = currentRow.value;\n    if (_currentRow && _currentRow !== oldCurrentRow) {\n      currentRow.value = _currentRow;\n      instance.emit(\"current-change\", currentRow.value, oldCurrentRow);\n      return;\n    }\n    if (!_currentRow && oldCurrentRow) {\n      currentRow.value = null;\n      instance.emit(\"current-change\", null, oldCurrentRow);\n    }\n  };\n  const updateCurrentRowData = () => {\n    const rowKey = watcherData.rowKey.value;\n    const data = watcherData.data.value || [];\n    const oldCurrentRow = currentRow.value;\n    if (data.indexOf(oldCurrentRow) === -1 && oldCurrentRow) {\n      if (rowKey) {\n        const currentRowKey = getRowIdentity(oldCurrentRow, rowKey);\n        setCurrentRowByKey(currentRowKey);\n      } else {\n        currentRow.value = null;\n      }\n      if (currentRow.value === null) {\n        instance.emit(\"current-change\", null, oldCurrentRow);\n      }\n    } else if (_currentRowKey.value) {\n      setCurrentRowByKey(_currentRowKey.value);\n      restoreCurrentRowKey();\n    }\n  };\n  return {\n    setCurrentRowKey,\n    restoreCurrentRowKey,\n    setCurrentRowByKey,\n    updateCurrentRow,\n    updateCurrentRowData,\n    states: {\n      _currentRowKey,\n      currentRow\n    }\n  };\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useTree(watcherData) {\n  const expandRowKeys = ref([]);\n  const treeData = ref({});\n  const indent = ref(16);\n  const lazy = ref(false);\n  const lazyTreeNodeMap = ref({});\n  const lazyColumnIdentifier = ref(\"hasChildren\");\n  const childrenColumnName = ref(\"children\");\n  const instance = getCurrentInstance();\n  const normalizedData = computed(() => {\n    if (!watcherData.rowKey.value)\n      return {};\n    const data = watcherData.data.value || [];\n    return normalize(data);\n  });\n  const normalizedLazyNode = computed(() => {\n    const rowKey = watcherData.rowKey.value;\n    const keys = Object.keys(lazyTreeNodeMap.value);\n    const res = {};\n    if (!keys.length)\n      return res;\n    keys.forEach((key) => {\n      if (lazyTreeNodeMap.value[key].length) {\n        const item = { children: [] };\n        lazyTreeNodeMap.value[key].forEach((row) => {\n          const currentRowKey = getRowIdentity(row, rowKey);\n          item.children.push(currentRowKey);\n          if (row[lazyColumnIdentifier.value] && !res[currentRowKey]) {\n            res[currentRowKey] = { children: [] };\n          }\n        });\n        res[key] = item;\n      }\n    });\n    return res;\n  });\n  const normalize = (data) => {\n    const rowKey = watcherData.rowKey.value;\n    const res = {};\n    walkTreeNode(data, (parent, children, level) => {\n      const parentId = getRowIdentity(parent, rowKey);\n      if (Array.isArray(children)) {\n        res[parentId] = {\n          children: children.map((row) => getRowIdentity(row, rowKey)),\n          level\n        };\n      } else if (lazy.value) {\n        res[parentId] = {\n          children: [],\n          lazy: true,\n          level\n        };\n      }\n    }, childrenColumnName.value, lazyColumnIdentifier.value);\n    return res;\n  };\n  const updateTreeData = () => {\n    var _a, _b;\n    const nested = normalizedData.value;\n    const normalizedLazyNode_ = normalizedLazyNode.value;\n    const keys = Object.keys(nested);\n    const newTreeData = {};\n    if (keys.length) {\n      const oldTreeData = unref(treeData);\n      const defaultExpandAll = (_a = instance.store) == null ? void 0 : _a.states.defaultExpandAll.value;\n      const rootLazyRowKeys = [];\n      const getExpanded = (oldValue, key) => {\n        const included = defaultExpandAll || expandRowKeys.value && expandRowKeys.value.indexOf(key) !== -1;\n        return !!(oldValue && oldValue.expanded || included);\n      };\n      keys.forEach((key) => {\n        const oldValue = oldTreeData[key];\n        const newValue = __spreadValues$1({}, nested[key]);\n        newValue.expanded = getExpanded(oldValue, key);\n        if (newValue.lazy) {\n          const { loaded = false, loading = false } = oldValue || {};\n          newValue.loaded = !!loaded;\n          newValue.loading = !!loading;\n          rootLazyRowKeys.push(key);\n        }\n        newTreeData[key] = newValue;\n      });\n      const lazyKeys = Object.keys(normalizedLazyNode_);\n      if (lazy.value && lazyKeys.length && rootLazyRowKeys.length) {\n        lazyKeys.forEach((key) => {\n          const oldValue = oldTreeData[key];\n          const lazyNodeChildren = normalizedLazyNode_[key].children;\n          if (rootLazyRowKeys.indexOf(key) !== -1) {\n            if (newTreeData[key].children.length !== 0) {\n              throw new Error(\"[ElTable]children must be an empty array.\");\n            }\n            newTreeData[key].children = lazyNodeChildren;\n          } else {\n            const { loaded = false, loading = false } = oldValue || {};\n            newTreeData[key] = {\n              lazy: true,\n              loaded: !!loaded,\n              loading: !!loading,\n              expanded: getExpanded(oldValue, key),\n              children: lazyNodeChildren,\n              level: \"\"\n            };\n          }\n        });\n      }\n    }\n    treeData.value = newTreeData;\n    (_b = instance.store) == null ? void 0 : _b.updateTableScrollY();\n  };\n  watch(() => normalizedData.value, updateTreeData);\n  watch(() => normalizedLazyNode.value, updateTreeData);\n  const updateTreeExpandKeys = (value) => {\n    expandRowKeys.value = value;\n    updateTreeData();\n  };\n  const toggleTreeExpansion = (row, expanded) => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = id && treeData.value[id];\n    if (id && data && \"expanded\" in data) {\n      const oldExpanded = data.expanded;\n      expanded = typeof expanded === \"undefined\" ? !data.expanded : expanded;\n      treeData.value[id].expanded = expanded;\n      if (oldExpanded !== expanded) {\n        instance.emit(\"expand-change\", row, expanded);\n      }\n      instance.store.updateTableScrollY();\n    }\n  };\n  const loadOrToggle = (row) => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = treeData.value[id];\n    if (lazy.value && data && \"loaded\" in data && !data.loaded) {\n      loadData(row, id, data);\n    } else {\n      toggleTreeExpansion(row, void 0);\n    }\n  };\n  const loadData = (row, key, treeNode) => {\n    const { load } = instance.props;\n    if (load && !treeData.value[key].loaded) {\n      treeData.value[key].loading = true;\n      load(row, treeNode, (data) => {\n        if (!Array.isArray(data)) {\n          throw new Error(\"[ElTable] data must be an array\");\n        }\n        treeData.value[key].loading = false;\n        treeData.value[key].loaded = true;\n        treeData.value[key].expanded = true;\n        if (data.length) {\n          lazyTreeNodeMap.value[key] = data;\n        }\n        instance.emit(\"expand-change\", row, true);\n      });\n    }\n  };\n  return {\n    loadData,\n    loadOrToggle,\n    toggleTreeExpansion,\n    updateTreeExpandKeys,\n    updateTreeData,\n    normalize,\n    states: {\n      expandRowKeys,\n      treeData,\n      indent,\n      lazy,\n      lazyTreeNodeMap,\n      lazyColumnIdentifier,\n      childrenColumnName\n    }\n  };\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nconst sortData = (data, states) => {\n  const sortingColumn = states.sortingColumn;\n  if (!sortingColumn || typeof sortingColumn.sortable === \"string\") {\n    return data;\n  }\n  return orderBy(data, states.sortProp, states.sortOrder, sortingColumn.sortMethod, sortingColumn.sortBy);\n};\nconst doFlattenColumns = (columns) => {\n  const result = [];\n  columns.forEach((column) => {\n    if (column.children) {\n      result.push.apply(result, doFlattenColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\nfunction useWatcher() {\n  const instance = getCurrentInstance();\n  const rowKey = ref(null);\n  const data = ref([]);\n  const _data = ref([]);\n  const isComplex = ref(false);\n  const _columns = ref([]);\n  const originColumns = ref([]);\n  const columns = ref([]);\n  const fixedColumns = ref([]);\n  const rightFixedColumns = ref([]);\n  const leafColumns = ref([]);\n  const fixedLeafColumns = ref([]);\n  const rightFixedLeafColumns = ref([]);\n  const leafColumnsLength = ref(0);\n  const fixedLeafColumnsLength = ref(0);\n  const rightFixedLeafColumnsLength = ref(0);\n  const isAllSelected = ref(false);\n  const selection = ref([]);\n  const reserveSelection = ref(false);\n  const selectOnIndeterminate = ref(false);\n  const selectable = ref(null);\n  const filters = ref({});\n  const filteredData = ref(null);\n  const sortingColumn = ref(null);\n  const sortProp = ref(null);\n  const sortOrder = ref(null);\n  const hoverRow = ref(null);\n  watch(data, () => instance.state && scheduleLayout(false), {\n    deep: true\n  });\n  const assertRowKey = () => {\n    if (!rowKey.value)\n      throw new Error(\"[ElTable] prop row-key is required\");\n  };\n  const updateColumns = () => {\n    fixedColumns.value = _columns.value.filter((column) => column.fixed === true || column.fixed === \"left\");\n    rightFixedColumns.value = _columns.value.filter((column) => column.fixed === \"right\");\n    if (fixedColumns.value.length > 0 && _columns.value[0] && _columns.value[0].type === \"selection\" && !_columns.value[0].fixed) {\n      _columns.value[0].fixed = true;\n      fixedColumns.value.unshift(_columns.value[0]);\n    }\n    const notFixedColumns = _columns.value.filter((column) => !column.fixed);\n    originColumns.value = [].concat(fixedColumns.value).concat(notFixedColumns).concat(rightFixedColumns.value);\n    const leafColumns2 = doFlattenColumns(notFixedColumns);\n    const fixedLeafColumns2 = doFlattenColumns(fixedColumns.value);\n    const rightFixedLeafColumns2 = doFlattenColumns(rightFixedColumns.value);\n    leafColumnsLength.value = leafColumns2.length;\n    fixedLeafColumnsLength.value = fixedLeafColumns2.length;\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns2.length;\n    columns.value = [].concat(fixedLeafColumns2).concat(leafColumns2).concat(rightFixedLeafColumns2);\n    isComplex.value = fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0;\n  };\n  const scheduleLayout = (needUpdateColumns, immediate = false) => {\n    if (needUpdateColumns) {\n      updateColumns();\n    }\n    if (immediate) {\n      instance.state.doLayout();\n    } else {\n      instance.state.debouncedUpdateLayout();\n    }\n  };\n  const isSelected = (row) => {\n    return selection.value.indexOf(row) > -1;\n  };\n  const clearSelection = () => {\n    isAllSelected.value = false;\n    const oldSelection = selection.value;\n    if (oldSelection.length) {\n      selection.value = [];\n      instance.emit(\"selection-change\", []);\n    }\n  };\n  const cleanSelection = () => {\n    let deleted;\n    if (rowKey.value) {\n      deleted = [];\n      const selectedMap = getKeysMap(selection.value, rowKey.value);\n      const dataMap = getKeysMap(data.value, rowKey.value);\n      for (const key in selectedMap) {\n        if (hasOwn(selectedMap, key) && !dataMap[key]) {\n          deleted.push(selectedMap[key].row);\n        }\n      }\n    } else {\n      deleted = selection.value.filter((item) => data.value.indexOf(item) === -1);\n    }\n    if (deleted.length) {\n      const newSelection = selection.value.filter((item) => deleted.indexOf(item) === -1);\n      selection.value = newSelection;\n      instance.emit(\"selection-change\", newSelection.slice());\n    }\n  };\n  const toggleRowSelection = (row, selected = void 0, emitChange = true) => {\n    const changed = toggleRowStatus(selection.value, row, selected);\n    if (changed) {\n      const newSelection = (selection.value || []).slice();\n      if (emitChange) {\n        instance.emit(\"select\", newSelection, row);\n      }\n      instance.emit(\"selection-change\", newSelection);\n    }\n  };\n  const _toggleAllSelection = () => {\n    var _a, _b;\n    const value = selectOnIndeterminate.value ? !isAllSelected.value : !(isAllSelected.value || selection.value.length);\n    isAllSelected.value = value;\n    let selectionChanged = false;\n    let childrenCount = 0;\n    const rowKey2 = (_b = (_a = instance == null ? void 0 : instance.store) == null ? void 0 : _a.states) == null ? void 0 : _b.rowKey.value;\n    data.value.forEach((row, index) => {\n      const rowIndex = index + childrenCount;\n      if (selectable.value) {\n        if (selectable.value.call(null, row, rowIndex) && toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      } else {\n        if (toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      }\n      childrenCount += getChildrenCount(getRowIdentity(row, rowKey2));\n    });\n    if (selectionChanged) {\n      instance.emit(\"selection-change\", selection.value ? selection.value.slice() : []);\n    }\n    instance.emit(\"select-all\", selection.value);\n  };\n  const updateSelectionByRowKey = () => {\n    const selectedMap = getKeysMap(selection.value, rowKey.value);\n    data.value.forEach((row) => {\n      const rowId = getRowIdentity(row, rowKey.value);\n      const rowInfo = selectedMap[rowId];\n      if (rowInfo) {\n        selection.value[rowInfo.index] = row;\n      }\n    });\n  };\n  const updateAllSelected = () => {\n    var _a, _b, _c;\n    if (((_a = data.value) == null ? void 0 : _a.length) === 0) {\n      isAllSelected.value = false;\n      return;\n    }\n    let selectedMap;\n    if (rowKey.value) {\n      selectedMap = getKeysMap(selection.value, rowKey.value);\n    }\n    const isSelected2 = function(row) {\n      if (selectedMap) {\n        return !!selectedMap[getRowIdentity(row, rowKey.value)];\n      } else {\n        return selection.value.indexOf(row) !== -1;\n      }\n    };\n    let isAllSelected_ = true;\n    let selectedCount = 0;\n    let childrenCount = 0;\n    for (let i = 0, j = (data.value || []).length; i < j; i++) {\n      const keyProp = (_c = (_b = instance == null ? void 0 : instance.store) == null ? void 0 : _b.states) == null ? void 0 : _c.rowKey.value;\n      const rowIndex = i + childrenCount;\n      const item = data.value[i];\n      const isRowSelectable = selectable.value && selectable.value.call(null, item, rowIndex);\n      if (!isSelected2(item)) {\n        if (!selectable.value || isRowSelectable) {\n          isAllSelected_ = false;\n          break;\n        }\n      } else {\n        selectedCount++;\n      }\n      childrenCount += getChildrenCount(getRowIdentity(item, keyProp));\n    }\n    if (selectedCount === 0)\n      isAllSelected_ = false;\n    isAllSelected.value = isAllSelected_;\n  };\n  const getChildrenCount = (rowKey2) => {\n    var _a;\n    if (!instance || !instance.store)\n      return 0;\n    const {\n      treeData\n    } = instance.store.states;\n    let count = 0;\n    const children = (_a = treeData.value[rowKey2]) == null ? void 0 : _a.children;\n    if (children) {\n      count += children.length;\n      children.forEach((childKey) => {\n        count += getChildrenCount(childKey);\n      });\n    }\n    return count;\n  };\n  const updateFilters = (columns2, values) => {\n    if (!Array.isArray(columns2)) {\n      columns2 = [columns2];\n    }\n    const filters_ = {};\n    columns2.forEach((col) => {\n      filters.value[col.id] = values;\n      filters_[col.columnKey || col.id] = values;\n    });\n    return filters_;\n  };\n  const updateSort = (column, prop, order) => {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null;\n    }\n    sortingColumn.value = column;\n    sortProp.value = prop;\n    sortOrder.value = order;\n  };\n  const execFilter = () => {\n    let sourceData = unref(_data);\n    Object.keys(filters.value).forEach((columnId) => {\n      const values = filters.value[columnId];\n      if (!values || values.length === 0)\n        return;\n      const column = getColumnById({\n        columns: columns.value\n      }, columnId);\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter((row) => {\n          return values.some((value) => column.filterMethod.call(null, value, row, column));\n        });\n      }\n    });\n    filteredData.value = sourceData;\n  };\n  const execSort = () => {\n    data.value = sortData(filteredData.value, {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value\n    });\n  };\n  const execQuery = (ignore = void 0) => {\n    if (!(ignore && ignore.filter)) {\n      execFilter();\n    }\n    execSort();\n  };\n  const clearFilter = (columnKeys) => {\n    const {\n      tableHeader,\n      fixedTableHeader,\n      rightFixedTableHeader\n    } = instance.refs;\n    let panels = {};\n    if (tableHeader)\n      panels = Object.assign(panels, tableHeader.filterPanels);\n    if (fixedTableHeader)\n      panels = Object.assign(panels, fixedTableHeader.filterPanels);\n    if (rightFixedTableHeader)\n      panels = Object.assign(panels, rightFixedTableHeader.filterPanels);\n    const keys = Object.keys(panels);\n    if (!keys.length)\n      return;\n    if (typeof columnKeys === \"string\") {\n      columnKeys = [columnKeys];\n    }\n    if (Array.isArray(columnKeys)) {\n      const columns_ = columnKeys.map((key) => getColumnByKey({\n        columns: columns.value\n      }, key));\n      keys.forEach((key) => {\n        const column = columns_.find((col) => col.id === key);\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      instance.store.commit(\"filterChange\", {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true\n      });\n    } else {\n      keys.forEach((key) => {\n        const column = columns.value.find((col) => col.id === key);\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      filters.value = {};\n      instance.store.commit(\"filterChange\", {\n        column: {},\n        values: [],\n        silent: true\n      });\n    }\n  };\n  const clearSort = () => {\n    if (!sortingColumn.value)\n      return;\n    updateSort(null, null, null);\n    instance.store.commit(\"changeSortCondition\", {\n      silent: true\n    });\n  };\n  const {\n    setExpandRowKeys,\n    toggleRowExpansion,\n    updateExpandRows,\n    states: expandStates,\n    isRowExpanded\n  } = useExpand({\n    data,\n    rowKey\n  });\n  const {\n    updateTreeExpandKeys,\n    toggleTreeExpansion,\n    loadOrToggle,\n    states: treeStates\n  } = useTree({\n    data,\n    rowKey\n  });\n  const {\n    updateCurrentRowData,\n    updateCurrentRow,\n    setCurrentRowKey,\n    states: currentData\n  } = useCurrent({\n    data,\n    rowKey\n  });\n  const setExpandRowKeysAdapter = (val) => {\n    setExpandRowKeys(val);\n    updateTreeExpandKeys(val);\n  };\n  const toggleRowExpansionAdapter = (row, expanded) => {\n    const hasExpandColumn = columns.value.some(({ type }) => type === \"expand\");\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded);\n    } else {\n      toggleTreeExpansion(row, expanded);\n    }\n  };\n  return {\n    assertRowKey,\n    updateColumns,\n    scheduleLayout,\n    isSelected,\n    clearSelection,\n    cleanSelection,\n    toggleRowSelection,\n    _toggleAllSelection,\n    toggleAllSelection: null,\n    updateSelectionByRowKey,\n    updateAllSelected,\n    updateFilters,\n    updateCurrentRow,\n    updateSort,\n    execFilter,\n    execSort,\n    execQuery,\n    clearFilter,\n    clearSort,\n    toggleRowExpansion,\n    setExpandRowKeysAdapter,\n    setCurrentRowKey,\n    toggleRowExpansionAdapter,\n    isRowExpanded,\n    updateExpandRows,\n    updateCurrentRowData,\n    loadOrToggle,\n    states: __spreadValues$2(__spreadValues$2(__spreadValues$2({\n      rowKey,\n      data,\n      _data,\n      isComplex,\n      _columns,\n      originColumns,\n      columns,\n      fixedColumns,\n      rightFixedColumns,\n      leafColumns,\n      fixedLeafColumns,\n      rightFixedLeafColumns,\n      leafColumnsLength,\n      fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength,\n      isAllSelected,\n      selection,\n      reserveSelection,\n      selectOnIndeterminate,\n      selectable,\n      filters,\n      filteredData,\n      sortingColumn,\n      sortProp,\n      sortOrder,\n      hoverRow\n    }, expandStates), treeStates), currentData)\n  };\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$3 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$3.call(b, prop))\n      __defNormalProp$3(a, prop, b[prop]);\n  if (__getOwnPropSymbols$3)\n    for (var prop of __getOwnPropSymbols$3(b)) {\n      if (__propIsEnum$3.call(b, prop))\n        __defNormalProp$3(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction replaceColumn(array, column) {\n  return array.map((item) => {\n    var _a;\n    if (item.id === column.id) {\n      return column;\n    } else if ((_a = item.children) == null ? void 0 : _a.length) {\n      item.children = replaceColumn(item.children, column);\n    }\n    return item;\n  });\n}\nfunction sortColumn(array) {\n  array.forEach((item) => {\n    var _a, _b;\n    item.no = (_a = item.getColumnIndex) == null ? void 0 : _a.call(item);\n    if ((_b = item.children) == null ? void 0 : _b.length) {\n      sortColumn(item.children);\n    }\n  });\n  array.sort((cur, pre) => cur.no - pre.no);\n}\nfunction useStore() {\n  const instance = getCurrentInstance();\n  const watcher = useWatcher();\n  const mutations = {\n    setData(states, data) {\n      const dataInstanceChanged = unref(states.data) !== data;\n      states.data.value = data;\n      states._data.value = data;\n      instance.store.execQuery();\n      instance.store.updateCurrentRowData();\n      instance.store.updateExpandRows();\n      if (unref(states.reserveSelection)) {\n        instance.store.assertRowKey();\n        instance.store.updateSelectionByRowKey();\n      } else {\n        if (dataInstanceChanged) {\n          instance.store.clearSelection();\n        } else {\n          instance.store.cleanSelection();\n        }\n      }\n      instance.store.updateAllSelected();\n      if (instance.$ready) {\n        instance.store.scheduleLayout();\n      }\n    },\n    insertColumn(states, column, parent) {\n      const array = unref(states._columns);\n      let newColumns = [];\n      if (!parent) {\n        array.push(column);\n        newColumns = array;\n      } else {\n        if (parent && !parent.children) {\n          parent.children = [];\n        }\n        parent.children.push(column);\n        newColumns = replaceColumn(array, parent);\n      }\n      sortColumn(newColumns);\n      states._columns.value = newColumns;\n      if (column.type === \"selection\") {\n        states.selectable.value = column.selectable;\n        states.reserveSelection.value = column.reserveSelection;\n      }\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n    removeColumn(states, column, parent) {\n      const array = unref(states._columns) || [];\n      if (parent) {\n        parent.children.splice(parent.children.findIndex((item) => item.id === column.id), 1);\n        if (parent.children.length === 0) {\n          delete parent.children;\n        }\n        states._columns.value = replaceColumn(array, parent);\n      } else {\n        const index = array.indexOf(column);\n        if (index > -1) {\n          array.splice(index, 1);\n          states._columns.value = array;\n        }\n      }\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n    sort(states, options) {\n      const { prop, order, init } = options;\n      if (prop) {\n        const column = arrayFind(unref(states.columns), (column2) => column2.property === prop);\n        if (column) {\n          column.order = order;\n          instance.store.updateSort(column, prop, order);\n          instance.store.commit(\"changeSortCondition\", { init });\n        }\n      }\n    },\n    changeSortCondition(states, options) {\n      const { sortingColumn: column, sortProp: prop, sortOrder: order } = states;\n      if (unref(order) === null) {\n        states.sortingColumn.value = null;\n        states.sortProp.value = null;\n      }\n      const ingore = { filter: true };\n      instance.store.execQuery(ingore);\n      if (!options || !(options.silent || options.init)) {\n        instance.emit(\"sort-change\", {\n          column: unref(column),\n          prop: unref(prop),\n          order: unref(order)\n        });\n      }\n      instance.store.updateTableScrollY();\n    },\n    filterChange(_states, options) {\n      const { column, values, silent } = options;\n      const newFilters = instance.store.updateFilters(column, values);\n      instance.store.execQuery();\n      if (!silent) {\n        instance.emit(\"filter-change\", newFilters);\n      }\n      instance.store.updateTableScrollY();\n    },\n    toggleAllSelection() {\n      instance.store.toggleAllSelection();\n    },\n    rowSelectedChanged(_states, row) {\n      instance.store.toggleRowSelection(row);\n      instance.store.updateAllSelected();\n    },\n    setHoverRow(states, row) {\n      states.hoverRow.value = row;\n    },\n    setCurrentRow(_states, row) {\n      instance.store.updateCurrentRow(row);\n    }\n  };\n  const commit = function(name, ...args) {\n    const mutations2 = instance.store.mutations;\n    if (mutations2[name]) {\n      mutations2[name].apply(instance, [instance.store.states].concat(args));\n    } else {\n      throw new Error(`Action not found: ${name}`);\n    }\n  };\n  const updateTableScrollY = function() {\n    nextTick(() => instance.layout.updateScrollY.apply(instance.layout));\n  };\n  return __spreadProps(__spreadValues$3({}, watcher), {\n    mutations,\n    commit,\n    updateTableScrollY\n  });\n}\n\nconst InitialStateMap = {\n  rowKey: \"rowKey\",\n  defaultExpandAll: \"defaultExpandAll\",\n  selectOnIndeterminate: \"selectOnIndeterminate\",\n  indent: \"indent\",\n  lazy: \"lazy\",\n  data: \"data\",\n  [\"treeProps.hasChildren\"]: {\n    key: \"lazyColumnIdentifier\",\n    default: \"hasChildren\"\n  },\n  [\"treeProps.children\"]: {\n    key: \"childrenColumnName\",\n    default: \"children\"\n  }\n};\nfunction createStore(table, props) {\n  if (!table) {\n    throw new Error(\"Table is required.\");\n  }\n  const store = useStore();\n  store.toggleAllSelection = debounce(store._toggleAllSelection, 10);\n  Object.keys(InitialStateMap).forEach((key) => {\n    handleValue(getArrKeysValue(props, key), key, store);\n  });\n  proxyTableProps(store, props);\n  return store;\n}\nfunction proxyTableProps(store, props) {\n  Object.keys(InitialStateMap).forEach((key) => {\n    watch(() => getArrKeysValue(props, key), (value) => {\n      handleValue(value, key, store);\n    });\n  });\n}\nfunction handleValue(value, propsKey, store) {\n  let newVal = value;\n  let storeKey = InitialStateMap[propsKey];\n  if (typeof InitialStateMap[propsKey] === \"object\") {\n    storeKey = storeKey.key;\n    newVal = newVal || InitialStateMap[propsKey].default;\n  }\n  store.states[storeKey].value = newVal;\n}\nfunction getArrKeysValue(props, keys) {\n  if (keys.includes(\".\")) {\n    const keyList = keys.split(\".\");\n    let value = props;\n    keyList.forEach((key) => {\n      value = value[key];\n    });\n    return value;\n  } else {\n    return props[keys];\n  }\n}\n\nclass TableLayout {\n  constructor(options) {\n    this.observers = [];\n    this.table = null;\n    this.store = null;\n    this.columns = [];\n    this.fit = true;\n    this.showHeader = true;\n    this.height = ref(null);\n    this.scrollX = ref(false);\n    this.scrollY = ref(false);\n    this.bodyWidth = ref(null);\n    this.fixedWidth = ref(null);\n    this.rightFixedWidth = ref(null);\n    this.tableHeight = ref(null);\n    this.headerHeight = ref(44);\n    this.appendHeight = ref(0);\n    this.footerHeight = ref(44);\n    this.viewportHeight = ref(null);\n    this.bodyHeight = ref(null);\n    this.fixedBodyHeight = ref(null);\n    this.gutterWidth = scrollbarWidth();\n    for (const name in options) {\n      if (hasOwn(options, name)) {\n        if (isRef(this[name])) {\n          this[name].value = options[name];\n        } else {\n          this[name] = options[name];\n        }\n      }\n    }\n    if (!this.table) {\n      throw new Error(\"table is required for Table Layout\");\n    }\n    if (!this.store) {\n      throw new Error(\"store is required for Table Layout\");\n    }\n  }\n  updateScrollY() {\n    const height = this.height.value;\n    if (height === null)\n      return false;\n    const bodyWrapper = this.table.refs.bodyWrapper;\n    if (this.table.vnode.el && bodyWrapper) {\n      let scrollY = true;\n      const prevScrollY = this.scrollY.value;\n      if (this.bodyHeight.value === null) {\n        scrollY = false;\n      } else {\n        const body = bodyWrapper.querySelector(\".el-table__body\");\n        scrollY = body.offsetHeight > this.bodyHeight.value;\n      }\n      this.scrollY.value = scrollY;\n      return prevScrollY !== scrollY;\n    }\n    return false;\n  }\n  setHeight(value, prop = \"height\") {\n    if (isServer)\n      return;\n    const el = this.table.vnode.el;\n    value = parseHeight(value);\n    this.height.value = Number(value);\n    if (!el && (value || value === 0))\n      return nextTick(() => this.setHeight(value, prop));\n    if (typeof value === \"number\") {\n      el.style[prop] = value + \"px\";\n      this.updateElsHeight();\n    } else if (typeof value === \"string\") {\n      el.style[prop] = value;\n      this.updateElsHeight();\n    }\n  }\n  setMaxHeight(value) {\n    this.setHeight(value, \"max-height\");\n  }\n  getFlattenColumns() {\n    const flattenColumns = [];\n    const columns = this.table.store.states.columns.value;\n    columns.forEach((column) => {\n      if (column.isColumnGroup) {\n        flattenColumns.push.apply(flattenColumns, column.columns);\n      } else {\n        flattenColumns.push(column);\n      }\n    });\n    return flattenColumns;\n  }\n  updateElsHeight() {\n    if (!this.table.$ready)\n      return nextTick(() => this.updateElsHeight());\n    const { headerWrapper, appendWrapper, footerWrapper } = this.table.refs;\n    this.appendHeight.value = appendWrapper ? appendWrapper.offsetHeight : 0;\n    if (this.showHeader && !headerWrapper)\n      return;\n    const headerTrElm = headerWrapper ? headerWrapper.querySelector(\".el-table__header tr\") : null;\n    const noneHeader = this.headerDisplayNone(headerTrElm);\n    const headerHeight = this.headerHeight.value = !this.showHeader ? 0 : headerWrapper.offsetHeight;\n    if (this.showHeader && !noneHeader && headerWrapper.offsetWidth > 0 && (this.table.store.states.columns.value || []).length > 0 && headerHeight < 2) {\n      return nextTick(() => this.updateElsHeight());\n    }\n    const tableHeight = this.tableHeight.value = this.table.vnode.el.clientHeight;\n    const footerHeight = this.footerHeight.value = footerWrapper ? footerWrapper.offsetHeight : 0;\n    if (this.height.value !== null) {\n      this.bodyHeight.value = tableHeight - headerHeight - footerHeight + (footerWrapper ? 1 : 0);\n    }\n    this.fixedBodyHeight.value = this.scrollX.value ? this.bodyHeight.value - this.gutterWidth : this.bodyHeight.value;\n    this.viewportHeight.value = this.scrollX.value ? tableHeight - this.gutterWidth : tableHeight;\n    this.updateScrollY();\n    this.notifyObservers(\"scrollable\");\n  }\n  headerDisplayNone(elm) {\n    if (!elm)\n      return true;\n    let headerChild = elm;\n    while (headerChild.tagName !== \"DIV\") {\n      if (getComputedStyle(headerChild).display === \"none\") {\n        return true;\n      }\n      headerChild = headerChild.parentElement;\n    }\n    return false;\n  }\n  updateColumnsWidth() {\n    if (isServer)\n      return;\n    const fit = this.fit;\n    const bodyWidth = this.table.vnode.el.clientWidth;\n    let bodyMinWidth = 0;\n    const flattenColumns = this.getFlattenColumns();\n    const flexColumns = flattenColumns.filter((column) => typeof column.width !== \"number\");\n    flattenColumns.forEach((column) => {\n      if (typeof column.width === \"number\" && column.realWidth)\n        column.realWidth = null;\n    });\n    if (flexColumns.length > 0 && fit) {\n      flattenColumns.forEach((column) => {\n        bodyMinWidth += Number(column.width || column.minWidth || 80);\n      });\n      const scrollYWidth = this.scrollY.value ? this.gutterWidth : 0;\n      if (bodyMinWidth <= bodyWidth - scrollYWidth) {\n        this.scrollX.value = false;\n        const totalFlexWidth = bodyWidth - scrollYWidth - bodyMinWidth;\n        if (flexColumns.length === 1) {\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth;\n        } else {\n          const allColumnsWidth = flexColumns.reduce((prev, column) => prev + Number(column.minWidth || 80), 0);\n          const flexWidthPerPixel = totalFlexWidth / allColumnsWidth;\n          let noneFirstWidth = 0;\n          flexColumns.forEach((column, index) => {\n            if (index === 0)\n              return;\n            const flexWidth = Math.floor(Number(column.minWidth || 80) * flexWidthPerPixel);\n            noneFirstWidth += flexWidth;\n            column.realWidth = Number(column.minWidth || 80) + flexWidth;\n          });\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth - noneFirstWidth;\n        }\n      } else {\n        this.scrollX.value = true;\n        flexColumns.forEach(function(column) {\n          column.realWidth = Number(column.minWidth);\n        });\n      }\n      this.bodyWidth.value = Math.max(bodyMinWidth, bodyWidth);\n      this.table.state.resizeState.value.width = this.bodyWidth.value;\n    } else {\n      flattenColumns.forEach((column) => {\n        if (!column.width && !column.minWidth) {\n          column.realWidth = 80;\n        } else {\n          column.realWidth = Number(column.width || column.minWidth);\n        }\n        bodyMinWidth += column.realWidth;\n      });\n      this.scrollX.value = bodyMinWidth > bodyWidth;\n      this.bodyWidth.value = bodyMinWidth;\n    }\n    const fixedColumns = this.store.states.fixedColumns.value;\n    if (fixedColumns.length > 0) {\n      let fixedWidth = 0;\n      fixedColumns.forEach(function(column) {\n        fixedWidth += Number(column.realWidth || column.width);\n      });\n      this.fixedWidth.value = fixedWidth;\n    }\n    const rightFixedColumns = this.store.states.rightFixedColumns.value;\n    if (rightFixedColumns.length > 0) {\n      let rightFixedWidth = 0;\n      rightFixedColumns.forEach(function(column) {\n        rightFixedWidth += Number(column.realWidth || column.width);\n      });\n      this.rightFixedWidth.value = rightFixedWidth;\n    }\n    this.notifyObservers(\"columns\");\n  }\n  addObserver(observer) {\n    this.observers.push(observer);\n  }\n  removeObserver(observer) {\n    const index = this.observers.indexOf(observer);\n    if (index !== -1) {\n      this.observers.splice(index, 1);\n    }\n  }\n  notifyObservers(event) {\n    const observers = this.observers;\n    observers.forEach((observer) => {\n      var _a, _b;\n      switch (event) {\n        case \"columns\":\n          (_a = observer.state) == null ? void 0 : _a.onColumnsChange(this);\n          break;\n        case \"scrollable\":\n          (_b = observer.state) == null ? void 0 : _b.onScrollableChange(this);\n          break;\n        default:\n          throw new Error(`Table Layout don't have event ${event}.`);\n      }\n    });\n  }\n}\n\nvar script = defineComponent({\n  name: \"ElTableFilterPanel\",\n  components: {\n    ElCheckbox,\n    ElCheckboxGroup,\n    ElScrollbar,\n    ElPopper\n  },\n  directives: { ClickOutside },\n  props: {\n    placement: {\n      type: String,\n      default: \"bottom-start\"\n    },\n    store: {\n      type: Object\n    },\n    column: {\n      type: Object\n    },\n    upDataColumn: {\n      type: Function\n    }\n  },\n  setup(props) {\n    const instance = getCurrentInstance();\n    const { t } = useLocaleInject();\n    const parent = instance.parent;\n    if (!parent.filterPanels.value[props.column.id]) {\n      parent.filterPanels.value[props.column.id] = instance;\n    }\n    const tooltipVisible = ref(false);\n    const tooltip = ref(null);\n    const filters = computed(() => {\n      return props.column && props.column.filters;\n    });\n    const filterValue = computed({\n      get: () => (props.column.filteredValue || [])[0],\n      set: (value) => {\n        if (filteredValue.value) {\n          if (typeof value !== \"undefined\" && value !== null) {\n            filteredValue.value.splice(0, 1, value);\n          } else {\n            filteredValue.value.splice(0, 1);\n          }\n        }\n      }\n    });\n    const filteredValue = computed({\n      get() {\n        if (props.column) {\n          return props.column.filteredValue || [];\n        }\n        return [];\n      },\n      set(value) {\n        if (props.column) {\n          props.upDataColumn(\"filteredValue\", value);\n        }\n      }\n    });\n    const multiple = computed(() => {\n      if (props.column) {\n        return props.column.filterMultiple;\n      }\n      return true;\n    });\n    const isActive = (filter) => {\n      return filter.value === filterValue.value;\n    };\n    const hidden = () => {\n      tooltipVisible.value = false;\n    };\n    const showFilterPanel = (e) => {\n      e.stopPropagation();\n      tooltipVisible.value = !tooltipVisible.value;\n    };\n    const hideFilterPanel = () => {\n      tooltipVisible.value = false;\n    };\n    const handleConfirm = () => {\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n    const handleReset = () => {\n      filteredValue.value = [];\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n    const handleSelect = (_filterValue) => {\n      filterValue.value = _filterValue;\n      if (typeof _filterValue !== \"undefined\" && _filterValue !== null) {\n        confirmFilter(filteredValue.value);\n      } else {\n        confirmFilter([]);\n      }\n      hidden();\n    };\n    const confirmFilter = (filteredValue2) => {\n      props.store.commit(\"filterChange\", {\n        column: props.column,\n        values: filteredValue2\n      });\n      props.store.updateAllSelected();\n    };\n    watch(tooltipVisible, (value) => {\n      if (props.column) {\n        props.upDataColumn(\"filterOpened\", value);\n      }\n    }, {\n      immediate: true\n    });\n    const popperPaneRef = computed(() => {\n      var _a;\n      return (_a = tooltip.value) == null ? void 0 : _a.popperRef;\n    });\n    return {\n      tooltipVisible,\n      multiple,\n      filteredValue,\n      filterValue,\n      filters,\n      handleConfirm,\n      handleReset,\n      handleSelect,\n      isActive,\n      t,\n      showFilterPanel,\n      hideFilterPanel,\n      popperPaneRef,\n      tooltip\n    };\n  }\n});\n\nconst _hoisted_1 = { key: 0 };\nconst _hoisted_2 = { class: \"el-table-filter__content\" };\nconst _hoisted_3 = { class: \"el-table-filter__bottom\" };\nconst _hoisted_4 = {\n  key: 1,\n  class: \"el-table-filter__list\"\n};\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_checkbox = resolveComponent(\"el-checkbox\");\n  const _component_el_checkbox_group = resolveComponent(\"el-checkbox-group\");\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n  const _component_el_popper = resolveComponent(\"el-popper\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return openBlock(), createBlock(_component_el_popper, {\n    ref: \"tooltip\",\n    visible: _ctx.tooltipVisible,\n    \"onUpdate:visible\": _cache[6] || (_cache[6] = ($event) => _ctx.tooltipVisible = $event),\n    offset: 0,\n    placement: _ctx.placement,\n    \"show-arrow\": false,\n    \"stop-popper-mouse-event\": false,\n    effect: \"light\",\n    pure: \"\",\n    \"manual-mode\": \"\",\n    \"popper-class\": \"el-table-filter\",\n    \"append-to-body\": \"\"\n  }, {\n    default: withCtx(() => [\n      _ctx.multiple ? (openBlock(), createBlock(\"div\", _hoisted_1, [\n        createVNode(\"div\", _hoisted_2, [\n          createVNode(_component_el_scrollbar, { \"wrap-class\": \"el-table-filter__wrap\" }, {\n            default: withCtx(() => [\n              createVNode(_component_el_checkbox_group, {\n                modelValue: _ctx.filteredValue,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => _ctx.filteredValue = $event),\n                class: \"el-table-filter__checkbox-group\"\n              }, {\n                default: withCtx(() => [\n                  (openBlock(true), createBlock(Fragment, null, renderList(_ctx.filters, (filter) => {\n                    return openBlock(), createBlock(_component_el_checkbox, {\n                      key: filter.value,\n                      label: filter.value\n                    }, {\n                      default: withCtx(() => [\n                        createTextVNode(toDisplayString(filter.text), 1)\n                      ]),\n                      _: 2\n                    }, 1032, [\"label\"]);\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          })\n        ]),\n        createVNode(\"div\", _hoisted_3, [\n          createVNode(\"button\", {\n            class: { \"is-disabled\": _ctx.filteredValue.length === 0 },\n            disabled: _ctx.filteredValue.length === 0,\n            type: \"\",\n            onClick: _cache[2] || (_cache[2] = (...args) => _ctx.handleConfirm && _ctx.handleConfirm(...args))\n          }, toDisplayString(_ctx.t(\"el.table.confirmFilter\")), 11, [\"disabled\"]),\n          createVNode(\"button\", {\n            type: \"\",\n            onClick: _cache[3] || (_cache[3] = (...args) => _ctx.handleReset && _ctx.handleReset(...args))\n          }, toDisplayString(_ctx.t(\"el.table.resetFilter\")), 1)\n        ])\n      ])) : (openBlock(), createBlock(\"ul\", _hoisted_4, [\n        createVNode(\"li\", {\n          class: [{\n            \"is-active\": _ctx.filterValue === void 0 || _ctx.filterValue === null\n          }, \"el-table-filter__list-item\"],\n          onClick: _cache[4] || (_cache[4] = ($event) => _ctx.handleSelect(null))\n        }, toDisplayString(_ctx.t(\"el.table.clearFilter\")), 3),\n        (openBlock(true), createBlock(Fragment, null, renderList(_ctx.filters, (filter) => {\n          return openBlock(), createBlock(\"li\", {\n            key: filter.value,\n            class: [{ \"is-active\": _ctx.isActive(filter) }, \"el-table-filter__list-item\"],\n            label: filter.value,\n            onClick: ($event) => _ctx.handleSelect(filter.value)\n          }, toDisplayString(filter.text), 11, [\"label\", \"onClick\"]);\n        }), 128))\n      ]))\n    ]),\n    trigger: withCtx(() => [\n      withDirectives(createVNode(\"span\", {\n        class: \"el-table__column-filter-trigger el-none-outline\",\n        onClick: _cache[5] || (_cache[5] = (...args) => _ctx.showFilterPanel && _ctx.showFilterPanel(...args))\n      }, [\n        createVNode(\"i\", {\n          class: [\n            \"el-icon-arrow-down\",\n            _ctx.column.filterOpened ? \"el-icon-arrow-up\" : \"\"\n          ]\n        }, null, 2)\n      ], 512), [\n        [_directive_click_outside, _ctx.hideFilterPanel, _ctx.popperPaneRef]\n      ])\n    ]),\n    _: 1\n  }, 8, [\"visible\", \"placement\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/table/src/filter-panel.vue\";\n\nfunction useLayoutObserver(root) {\n  const instance = getCurrentInstance();\n  onBeforeMount(() => {\n    tableLayout.value.addObserver(instance);\n  });\n  onMounted(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUpdated(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUnmounted(() => {\n    tableLayout.value.removeObserver(instance);\n  });\n  const tableLayout = computed(() => {\n    const layout = root.layout;\n    if (!layout) {\n      throw new Error(\"Can not find table layout.\");\n    }\n    return layout;\n  });\n  const onColumnsChange = (layout) => {\n    var _a;\n    const cols = ((_a = root.vnode.el) == null ? void 0 : _a.querySelectorAll(\"colgroup > col\")) || [];\n    if (!cols.length)\n      return;\n    const flattenColumns = layout.getFlattenColumns();\n    const columnsMap = {};\n    flattenColumns.forEach((column) => {\n      columnsMap[column.id] = column;\n    });\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      const name = col.getAttribute(\"name\");\n      const column = columnsMap[name];\n      if (column) {\n        col.setAttribute(\"width\", column.realWidth || column.width);\n      }\n    }\n  };\n  const onScrollableChange = (layout) => {\n    const cols = root.vnode.el.querySelectorAll(\"colgroup > col[name=gutter]\");\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      col.setAttribute(\"width\", layout.scrollY.value ? layout.gutterWidth : \"0\");\n    }\n    const ths = root.vnode.el.querySelectorAll(\"th.gutter\");\n    for (let i = 0, j = ths.length; i < j; i++) {\n      const th = ths[i];\n      th.style.width = layout.scrollY.value ? layout.gutterWidth + \"px\" : \"0\";\n      th.style.display = layout.scrollY.value ? \"\" : \"none\";\n    }\n  };\n  return {\n    tableLayout: tableLayout.value,\n    onColumnsChange,\n    onScrollableChange\n  };\n}\n\nfunction useEvent(props, emit) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const handleFilterClick = (event) => {\n    event.stopPropagation();\n    return;\n  };\n  const handleHeaderClick = (event, column) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false);\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event);\n    }\n    parent.emit(\"header-click\", column, event);\n  };\n  const handleHeaderContextMenu = (event, column) => {\n    parent.emit(\"header-contextmenu\", column, event);\n  };\n  const draggingColumn = ref(null);\n  const dragging = ref(false);\n  const dragState = ref({});\n  const handleMouseDown = (event, column) => {\n    if (isServer)\n      return;\n    if (column.children && column.children.length > 0)\n      return;\n    if (draggingColumn.value && props.border) {\n      dragging.value = true;\n      const table = parent;\n      emit(\"set-drag-visible\", true);\n      const tableEl = table.vnode.el;\n      const tableLeft = tableEl.getBoundingClientRect().left;\n      const columnEl = instance.vnode.el.querySelector(`th.${column.id}`);\n      const columnRect = columnEl.getBoundingClientRect();\n      const minLeft = columnRect.left - tableLeft + 30;\n      addClass(columnEl, \"noclick\");\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft\n      };\n      const resizeProxy = table.refs.resizeProxy;\n      resizeProxy.style.left = dragState.value.startLeft + \"px\";\n      document.onselectstart = function() {\n        return false;\n      };\n      document.ondragstart = function() {\n        return false;\n      };\n      const handleMouseMove2 = (event2) => {\n        const deltaLeft = event2.clientX - dragState.value.startMouseLeft;\n        const proxyLeft = dragState.value.startLeft + deltaLeft;\n        resizeProxy.style.left = Math.max(minLeft, proxyLeft) + \"px\";\n      };\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const { startColumnLeft, startLeft } = dragState.value;\n          const finalLeft = parseInt(resizeProxy.style.left, 10);\n          const columnWidth = finalLeft - startColumnLeft;\n          column.width = column.realWidth = columnWidth;\n          table.emit(\"header-dragend\", column.width, startLeft - startColumnLeft, column, event);\n          props.store.scheduleLayout(false, true);\n          document.body.style.cursor = \"\";\n          dragging.value = false;\n          draggingColumn.value = null;\n          dragState.value = {};\n          emit(\"set-drag-visible\", false);\n        }\n        document.removeEventListener(\"mousemove\", handleMouseMove2);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        document.onselectstart = null;\n        document.ondragstart = null;\n        setTimeout(function() {\n          removeClass(columnEl, \"noclick\");\n        }, 0);\n      };\n      document.addEventListener(\"mousemove\", handleMouseMove2);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n  };\n  const handleMouseMove = (event, column) => {\n    if (column.children && column.children.length > 0)\n      return;\n    let target = event.target;\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n    if (!column || !column.resizable)\n      return;\n    if (!dragging.value && props.border) {\n      const rect = target.getBoundingClientRect();\n      const bodyStyle = document.body.style;\n      if (rect.width > 12 && rect.right - event.pageX < 8) {\n        bodyStyle.cursor = \"col-resize\";\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"col-resize\";\n        }\n        draggingColumn.value = column;\n      } else if (!dragging.value) {\n        bodyStyle.cursor = \"\";\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"pointer\";\n        }\n        draggingColumn.value = null;\n      }\n    }\n  };\n  const handleMouseOut = () => {\n    if (isServer)\n      return;\n    document.body.style.cursor = \"\";\n  };\n  const toggleOrder = ({ order, sortOrders }) => {\n    if (order === \"\")\n      return sortOrders[0];\n    const index = sortOrders.indexOf(order || null);\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1];\n  };\n  const handleSortClick = (event, column, givenOrder) => {\n    event.stopPropagation();\n    const order = column.order === givenOrder ? null : givenOrder || toggleOrder(column);\n    let target = event.target;\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n    if (target && target.tagName === \"TH\") {\n      if (hasClass(target, \"noclick\")) {\n        removeClass(target, \"noclick\");\n        return;\n      }\n    }\n    if (!column.sortable)\n      return;\n    const states = props.store.states;\n    let sortProp = states.sortProp.value;\n    let sortOrder;\n    const sortingColumn = states.sortingColumn.value;\n    if (sortingColumn !== column || sortingColumn === column && sortingColumn.order === null) {\n      if (sortingColumn) {\n        sortingColumn.order = null;\n      }\n      states.sortingColumn.value = column;\n      sortProp = column.property;\n    }\n    if (!order) {\n      sortOrder = column.order = null;\n    } else {\n      sortOrder = column.order = order;\n    }\n    states.sortProp.value = sortProp;\n    states.sortOrder.value = sortOrder;\n    parent.store.commit(\"changeSortCondition\");\n  };\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick\n  };\n}\n\nfunction useStyle(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const storeData = parent.store.states;\n  const isCellHidden = (index, columns) => {\n    let start = 0;\n    for (let i = 0; i < index; i++) {\n      start += columns[i].colSpan;\n    }\n    const after = start + columns[index].colSpan - 1;\n    if (props.fixed === \"left\") {\n      return after >= storeData.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return start < storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    } else {\n      return after < storeData.fixedLeafColumnsLength.value || start >= storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    }\n  };\n  const getHeaderRowStyle = (rowIndex) => {\n    const headerRowStyle = parent.props.headerRowStyle;\n    if (typeof headerRowStyle === \"function\") {\n      return headerRowStyle.call(null, { rowIndex });\n    }\n    return headerRowStyle;\n  };\n  const getHeaderRowClass = (rowIndex) => {\n    const classes = [];\n    const headerRowClassName = parent.props.headerRowClassName;\n    if (typeof headerRowClassName === \"string\") {\n      classes.push(headerRowClassName);\n    } else if (typeof headerRowClassName === \"function\") {\n      classes.push(headerRowClassName.call(null, { rowIndex }));\n    }\n    return classes.join(\" \");\n  };\n  const getHeaderCellStyle = (rowIndex, columnIndex, row, column) => {\n    const headerCellStyle = parent.props.headerCellStyle;\n    if (typeof headerCellStyle === \"function\") {\n      return headerCellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n    return headerCellStyle;\n  };\n  const getHeaderCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [\n      column.id,\n      column.order,\n      column.headerAlign,\n      column.className,\n      column.labelClassName\n    ];\n    if (rowIndex === 0 && isCellHidden(columnIndex, row)) {\n      classes.push(\"is-hidden\");\n    }\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n    if (column.sortable) {\n      classes.push(\"is-sortable\");\n    }\n    const headerCellClassName = parent.props.headerCellClassName;\n    if (typeof headerCellClassName === \"string\") {\n      classes.push(headerCellClassName);\n    } else if (typeof headerCellClassName === \"function\") {\n      classes.push(headerCellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n    return classes.join(\" \");\n  };\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass\n  };\n}\n\nconst getAllColumns = (columns) => {\n  const result = [];\n  columns.forEach((column) => {\n    if (column.children) {\n      result.push(column);\n      result.push.apply(result, getAllColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\nconst convertToRows = (originColumns) => {\n  let maxLevel = 1;\n  const traverse = (column, parent) => {\n    if (parent) {\n      column.level = parent.level + 1;\n      if (maxLevel < column.level) {\n        maxLevel = column.level;\n      }\n    }\n    if (column.children) {\n      let colSpan = 0;\n      column.children.forEach((subColumn) => {\n        traverse(subColumn, column);\n        colSpan += subColumn.colSpan;\n      });\n      column.colSpan = colSpan;\n    } else {\n      column.colSpan = 1;\n    }\n  };\n  originColumns.forEach((column) => {\n    column.level = 1;\n    traverse(column, void 0);\n  });\n  const rows = [];\n  for (let i = 0; i < maxLevel; i++) {\n    rows.push([]);\n  }\n  const allColumns = getAllColumns(originColumns);\n  allColumns.forEach((column) => {\n    if (!column.children) {\n      column.rowSpan = maxLevel - column.level + 1;\n    } else {\n      column.rowSpan = 1;\n    }\n    rows[column.level - 1].push(column);\n  });\n  return rows;\n};\nfunction useUtils(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const columnRows = computed(() => {\n    return convertToRows(props.store.states.originColumns.value);\n  });\n  const isGroup = computed(() => {\n    const result = columnRows.value.length > 1;\n    if (result)\n      parent.state.isGroup.value = true;\n    return result;\n  });\n  const toggleAllSelection = (event) => {\n    event.stopPropagation();\n    parent.store.commit(\"toggleAllSelection\");\n  };\n  return {\n    isGroup,\n    toggleAllSelection,\n    columnRows\n  };\n}\n\nfunction hGutter() {\n  return h(\"col\", {\n    name: \"gutter\"\n  });\n}\nfunction hColgroup(columns, hasGutter = false) {\n  return h(\"colgroup\", {}, [\n    ...columns.map((column) => h(\"col\", {\n      name: column.id,\n      key: column.id\n    })),\n    hasGutter && hGutter()\n  ]);\n}\n\nvar TableHeader = defineComponent({\n  name: \"ElTableHeader\",\n  components: {\n    ElCheckbox\n  },\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n  setup(props, { emit }) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const storeData = parent.store.states;\n    const filterPanels = ref({});\n    const {\n      tableLayout,\n      onColumnsChange,\n      onScrollableChange\n    } = useLayoutObserver(parent);\n    const hasGutter = computed(() => {\n      return !props.fixed && tableLayout.gutterWidth;\n    });\n    onMounted(() => {\n      nextTick(() => {\n        const { prop, order } = props.defaultSort;\n        const init = true;\n        parent.store.commit(\"sort\", { prop, order, init });\n      });\n    });\n    const {\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick\n    } = useEvent(props, emit);\n    const {\n      getHeaderRowStyle,\n      getHeaderRowClass,\n      getHeaderCellStyle,\n      getHeaderCellClass\n    } = useStyle(props);\n    const { isGroup, toggleAllSelection, columnRows } = useUtils(props);\n    instance.state = {\n      onColumnsChange,\n      onScrollableChange\n    };\n    instance.filterPanels = filterPanels;\n    return {\n      columns: storeData.columns,\n      filterPanels,\n      hasGutter,\n      onColumnsChange,\n      onScrollableChange,\n      columnRows,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      getHeaderCellClass,\n      getHeaderCellStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n      isGroup,\n      toggleAllSelection\n    };\n  },\n  render() {\n    return h(\"table\", {\n      border: \"0\",\n      cellpadding: \"0\",\n      cellspacing: \"0\",\n      class: \"el-table__header\"\n    }, [\n      hColgroup(this.columns, this.hasGutter),\n      h(\"thead\", {\n        class: { \"is-group\": this.isGroup, \"has-gutter\": this.hasGutter }\n      }, this.columnRows.map((subColumns, rowIndex) => h(\"tr\", {\n        class: this.getHeaderRowClass(rowIndex),\n        key: rowIndex,\n        style: this.getHeaderRowStyle(rowIndex)\n      }, subColumns.map((column, cellIndex) => h(\"th\", {\n        class: this.getHeaderCellClass(rowIndex, cellIndex, subColumns, column),\n        colspan: column.colSpan,\n        key: `${column.id}-thead`,\n        rowSpan: column.rowSpan,\n        style: this.getHeaderCellStyle(rowIndex, cellIndex, subColumns, column),\n        onClick: ($event) => this.handleHeaderClick($event, column),\n        onContextmenu: ($event) => this.handleHeaderContextMenu($event, column),\n        onMousedown: ($event) => this.handleMouseDown($event, column),\n        onMousemove: ($event) => this.handleMouseMove($event, column),\n        onMouseout: this.handleMouseOut\n      }, [\n        h(\"div\", {\n          class: [\n            \"cell\",\n            column.filteredValue && column.filteredValue.length > 0 ? \"highlight\" : \"\",\n            column.labelClassName\n          ]\n        }, [\n          column.renderHeader ? column.renderHeader({\n            column,\n            $index: cellIndex,\n            store: this.store,\n            _self: this.$parent\n          }) : column.label,\n          column.sortable && h(\"span\", {\n            onClick: ($event) => this.handleSortClick($event, column),\n            class: \"caret-wrapper\"\n          }, [\n            h(\"i\", {\n              onClick: ($event) => this.handleSortClick($event, column, \"ascending\"),\n              class: \"sort-caret ascending\"\n            }),\n            h(\"i\", {\n              onClick: ($event) => this.handleSortClick($event, column, \"descending\"),\n              class: \"sort-caret descending\"\n            })\n          ]),\n          column.filterable && h(script, {\n            store: this.$parent.store,\n            placement: column.filterPlacement || \"bottom-start\",\n            column,\n            upDataColumn: (key, value) => {\n              column[key] = value;\n            }\n          })\n        ])\n      ])))))\n    ]);\n  }\n});\n\nfunction useEvents(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const tooltipContent = ref(\"\");\n  const tooltipTrigger = ref(h(\"div\"));\n  const handleEvent = (event, row, name) => {\n    const table = parent;\n    const cell = getCell(event);\n    let column;\n    if (cell) {\n      column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n      if (column) {\n        table.emit(`cell-${name}`, row, column, cell, event);\n      }\n    }\n    table.emit(`row-${name}`, row, column, event);\n  };\n  const handleDoubleClick = (event, row) => {\n    handleEvent(event, row, \"dblclick\");\n  };\n  const handleClick = (event, row) => {\n    props.store.commit(\"setCurrentRow\", row);\n    handleEvent(event, row, \"click\");\n  };\n  const handleContextMenu = (event, row) => {\n    handleEvent(event, row, \"contextmenu\");\n  };\n  const handleMouseEnter = debounce(function(index) {\n    props.store.commit(\"setHoverRow\", index);\n  }, 30);\n  const handleMouseLeave = debounce(function() {\n    props.store.commit(\"setHoverRow\", null);\n  }, 30);\n  const handleCellMouseEnter = (event, row) => {\n    const table = parent;\n    const cell = getCell(event);\n    if (cell) {\n      const column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n      const hoverState = table.hoverState = { cell, column, row };\n      table.emit(\"cell-mouse-enter\", hoverState.row, hoverState.column, hoverState.cell, event);\n    }\n    const cellChild = event.target.querySelector(\".cell\");\n    if (!(hasClass(cellChild, \"el-tooltip\") && cellChild.childNodes.length)) {\n      return;\n    }\n    const range = document.createRange();\n    range.setStart(cellChild, 0);\n    range.setEnd(cellChild, cellChild.childNodes.length);\n    const rangeWidth = range.getBoundingClientRect().width;\n    const padding = (parseInt(getStyle(cellChild, \"paddingLeft\"), 10) || 0) + (parseInt(getStyle(cellChild, \"paddingRight\"), 10) || 0);\n    if (rangeWidth + padding > cellChild.offsetWidth || cellChild.scrollWidth > cellChild.offsetWidth) {\n      createTablePopper(cell, cell.innerText || cell.textContent, {\n        placement: \"top\",\n        strategy: \"fixed\"\n      }, row.tooltipEffect);\n    }\n  };\n  const handleCellMouseLeave = (event) => {\n    const cell = getCell(event);\n    if (!cell)\n      return;\n    const oldHoverState = parent.hoverState;\n    parent.emit(\"cell-mouse-leave\", oldHoverState == null ? void 0 : oldHoverState.row, oldHoverState == null ? void 0 : oldHoverState.column, oldHoverState == null ? void 0 : oldHoverState.cell, event);\n  };\n  return {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nfunction useStyles(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const isColumnHidden = (index) => {\n    if (props.fixed === \"left\") {\n      return index >= props.store.states.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return index < props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    } else {\n      return index < props.store.states.fixedLeafColumnsLength.value || index >= props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    }\n  };\n  const getRowStyle = (row, rowIndex) => {\n    const rowStyle = parent.props.rowStyle;\n    if (typeof rowStyle === \"function\") {\n      return rowStyle.call(null, {\n        row,\n        rowIndex\n      });\n    }\n    return rowStyle || null;\n  };\n  const getRowClass = (row, rowIndex) => {\n    const classes = [\"el-table__row\"];\n    if (parent.props.highlightCurrentRow && row === props.store.states.currentRow.value) {\n      classes.push(\"current-row\");\n    }\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(\"el-table__row--striped\");\n    }\n    const rowClassName = parent.props.rowClassName;\n    if (typeof rowClassName === \"string\") {\n      classes.push(rowClassName);\n    } else if (typeof rowClassName === \"function\") {\n      classes.push(rowClassName.call(null, {\n        row,\n        rowIndex\n      }));\n    }\n    if (props.store.states.expandRows.value.indexOf(row) > -1) {\n      classes.push(\"expanded\");\n    }\n    return classes;\n  };\n  const getCellStyle = (rowIndex, columnIndex, row, column) => {\n    const cellStyle = parent.props.cellStyle;\n    if (typeof cellStyle === \"function\") {\n      return cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n    return cellStyle;\n  };\n  const getCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [column.id, column.align, column.className];\n    if (isColumnHidden(columnIndex)) {\n      classes.push(\"is-hidden\");\n    }\n    const cellClassName = parent.props.cellClassName;\n    if (typeof cellClassName === \"string\") {\n      classes.push(cellClassName);\n    } else if (typeof cellClassName === \"function\") {\n      classes.push(cellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n    return classes.join(\" \");\n  };\n  const getSpan = (row, column, rowIndex, columnIndex) => {\n    let rowspan = 1;\n    let colspan = 1;\n    const fn = parent.props.spanMethod;\n    if (typeof fn === \"function\") {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex\n      });\n      if (Array.isArray(result)) {\n        rowspan = result[0];\n        colspan = result[1];\n      } else if (typeof result === \"object\") {\n        rowspan = result.rowspan;\n        colspan = result.colspan;\n      }\n    }\n    return { rowspan, colspan };\n  };\n  const getColspanRealWidth = (columns, colspan, index) => {\n    if (colspan < 1) {\n      return columns[index].realWidth;\n    }\n    const widthArr = columns.map(({ realWidth, width }) => realWidth || width).slice(index, index + colspan);\n    return Number(widthArr.reduce((acc, width) => Number(acc) + Number(width), -1));\n  };\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n    isColumnHidden\n  };\n}\n\nvar __defProp$4 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$4 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$4 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$4.call(b, prop))\n      __defNormalProp$4(a, prop, b[prop]);\n  if (__getOwnPropSymbols$4)\n    for (var prop of __getOwnPropSymbols$4(b)) {\n      if (__propIsEnum$4.call(b, prop))\n        __defNormalProp$4(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\nfunction useRender(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  } = useEvents(props);\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth\n  } = useStyles(props);\n  const firstDefaultColumnIndex = computed(() => {\n    return arrayFindIndex(props.store.states.columns.value, ({ type }) => type === \"default\");\n  });\n  const getKeyOfRow = (row, index) => {\n    const rowKey = parent.props.rowKey;\n    if (rowKey) {\n      return getRowIdentity(row, rowKey);\n    }\n    return index;\n  };\n  const rowRender = (row, $index, treeRowData) => {\n    const { tooltipEffect, store } = props;\n    const { indent, columns } = store.states;\n    const rowClasses = getRowClass(row, $index);\n    let display = true;\n    if (treeRowData) {\n      rowClasses.push(\"el-table__row--level-\" + treeRowData.level);\n      display = treeRowData.display;\n    }\n    const displayStyle = display ? null : {\n      display: \"none\"\n    };\n    return h(\"tr\", {\n      style: [displayStyle, getRowStyle(row, $index)],\n      class: rowClasses,\n      key: getKeyOfRow(row, $index),\n      onDblclick: ($event) => handleDoubleClick($event, row),\n      onClick: ($event) => handleClick($event, row),\n      onContextmenu: ($event) => handleContextMenu($event, row),\n      onMouseenter: () => handleMouseEnter($index),\n      onMouseleave: handleMouseLeave\n    }, columns.value.map((column, cellIndex) => {\n      const { rowspan, colspan } = getSpan(row, column, $index, cellIndex);\n      if (!rowspan || !colspan) {\n        return null;\n      }\n      const columnData = __spreadValues$4({}, column);\n      columnData.realWidth = getColspanRealWidth(columns.value, colspan, cellIndex);\n      const data = {\n        store: props.store,\n        _self: props.context || parent,\n        column: columnData,\n        row,\n        $index\n      };\n      if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n        data.treeNode = {\n          indent: treeRowData.level * indent.value,\n          level: treeRowData.level\n        };\n        if (typeof treeRowData.expanded === \"boolean\") {\n          data.treeNode.expanded = treeRowData.expanded;\n          if (\"loading\" in treeRowData) {\n            data.treeNode.loading = treeRowData.loading;\n          }\n          if (\"noLazyChildren\" in treeRowData) {\n            data.treeNode.noLazyChildren = treeRowData.noLazyChildren;\n          }\n        }\n      }\n      const baseKey = `${$index},${cellIndex}`;\n      const patchKey = columnData.columnKey || columnData.rawColumnKey || \"\";\n      return h(\"td\", {\n        style: getCellStyle($index, cellIndex, row, column),\n        class: getCellClass($index, cellIndex, row, column),\n        key: `${patchKey}${baseKey}`,\n        rowspan,\n        colspan,\n        onMouseenter: ($event) => handleCellMouseEnter($event, __spreadProps$1(__spreadValues$4({}, row), { tooltipEffect })),\n        onMouseleave: handleCellMouseLeave\n      }, [column.renderCell(data)]);\n    }));\n  };\n  const wrappedRowRender = (row, $index) => {\n    const store = props.store;\n    const { isRowExpanded, assertRowKey } = store;\n    const {\n      treeData,\n      lazyTreeNodeMap,\n      childrenColumnName,\n      rowKey\n    } = store.states;\n    const hasExpandColumn = store.states.columns.value.some(({ type }) => type === \"expand\");\n    if (hasExpandColumn && isRowExpanded(row)) {\n      const renderExpanded = parent.renderExpanded;\n      const tr = rowRender(row, $index, void 0);\n      if (!renderExpanded) {\n        console.error(\"[Element Error]renderExpanded is required.\");\n        return tr;\n      }\n      return [[\n        tr,\n        h(\"tr\", {\n          key: \"expanded-row__\" + tr.key\n        }, [\n          h(\"td\", {\n            colspan: store.states.columns.value.length,\n            class: \"el-table__expanded-cell\"\n          }, [renderExpanded({ row, $index, store })])\n        ])\n      ]];\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey();\n      const key = getRowIdentity(row, rowKey.value);\n      let cur = treeData.value[key];\n      let treeRowData = null;\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true\n        };\n        if (typeof cur.lazy === \"boolean\") {\n          if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length);\n          }\n          treeRowData.loading = cur.loading;\n        }\n      }\n      const tmp = [rowRender(row, $index, treeRowData)];\n      if (cur) {\n        let i = 0;\n        const traverse = (children, parent2) => {\n          if (!(children && children.length && parent2))\n            return;\n          children.forEach((node) => {\n            const innerTreeRowData = {\n              display: parent2.display && parent2.expanded,\n              level: parent2.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false\n            };\n            const childKey = getRowIdentity(node, rowKey.value);\n            if (childKey === void 0 || childKey === null) {\n              throw new Error(\"for nested data item, row-key is required.\");\n            }\n            cur = __spreadValues$4({}, treeData.value[childKey]);\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded;\n              cur.level = cur.level || innerTreeRowData.level;\n              cur.display = !!(cur.expanded && innerTreeRowData.display);\n              if (typeof cur.lazy === \"boolean\") {\n                if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(cur.children && cur.children.length);\n                }\n                innerTreeRowData.loading = cur.loading;\n              }\n            }\n            i++;\n            tmp.push(rowRender(node, $index + i, innerTreeRowData));\n            if (cur) {\n              const nodes2 = lazyTreeNodeMap.value[childKey] || node[childrenColumnName.value];\n              traverse(nodes2, cur);\n            }\n          });\n        };\n        cur.display = true;\n        const nodes = lazyTreeNodeMap.value[key] || row[childrenColumnName.value];\n        traverse(nodes, cur);\n      }\n      return tmp;\n    } else {\n      return rowRender(row, $index, void 0);\n    }\n  };\n  return {\n    wrappedRowRender,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nconst defaultProps = {\n  store: {\n    required: true,\n    type: Object\n  },\n  stripe: Boolean,\n  tooltipEffect: String,\n  context: {\n    default: () => ({}),\n    type: Object\n  },\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  fixed: {\n    type: String,\n    default: \"\"\n  },\n  highlight: Boolean\n};\n\nvar TableBody = defineComponent({\n  name: \"ElTableBody\",\n  props: defaultProps,\n  setup(props) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const { wrappedRowRender, tooltipContent, tooltipTrigger } = useRender(props);\n    const { onColumnsChange, onScrollableChange } = useLayoutObserver(parent);\n    watch(props.store.states.hoverRow, (newVal, oldVal) => {\n      if (!props.store.states.isComplex.value || isServer)\n        return;\n      let raf = window.requestAnimationFrame;\n      if (!raf) {\n        raf = (fn) => window.setTimeout(fn, 16);\n      }\n      raf(() => {\n        const rows = instance.vnode.el.querySelectorAll(\".el-table__row\");\n        const oldRow = rows[oldVal];\n        const newRow = rows[newVal];\n        if (oldRow) {\n          removeClass(oldRow, \"hover-row\");\n        }\n        if (newRow) {\n          addClass(newRow, \"hover-row\");\n        }\n      });\n    });\n    onUnmounted(() => {\n      var _a;\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    onUpdated(() => {\n      var _a;\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    return {\n      onColumnsChange,\n      onScrollableChange,\n      wrappedRowRender,\n      tooltipContent,\n      tooltipTrigger\n    };\n  },\n  render() {\n    const data = this.store.states.data.value || [];\n    return h(\"table\", {\n      class: \"el-table__body\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [\n      hColgroup(this.store.states.columns.value),\n      h(\"tbody\", {}, [\n        data.reduce((acc, row) => {\n          return acc.concat(this.wrappedRowRender(row, acc.length));\n        }, [])\n      ])\n    ]);\n  }\n});\n\nfunction useMapState() {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const leftFixedLeafCount = computed(() => {\n    return store.states.fixedLeafColumnsLength.value;\n  });\n  const rightFixedLeafCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  const columnsCount = computed(() => {\n    return store.states.columns.value.length;\n  });\n  const leftFixedCount = computed(() => {\n    return store.states.fixedColumns.value.length;\n  });\n  const rightFixedCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  return {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns: store.states.columns\n  };\n}\n\nfunction useStyle$1(props) {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns\n  } = useMapState();\n  const hasGutter = computed(() => {\n    return !props.fixed && table.layout.gutterWidth;\n  });\n  const isCellHidden = (index, columns2, column) => {\n    if (props.fixed || props.fixed === \"left\") {\n      return index >= leftFixedLeafCount.value;\n    } else if (props.fixed === \"right\") {\n      let before = 0;\n      for (let i = 0; i < index; i++) {\n        before += columns2[i].colSpan;\n      }\n      return before < columnsCount.value - rightFixedLeafCount.value;\n    } else if (!props.fixed && column.fixed) {\n      return true;\n    } else {\n      return index < leftFixedCount.value || index >= columnsCount.value - rightFixedCount.value;\n    }\n  };\n  const getRowClasses = (column, cellIndex) => {\n    const classes = [column.id, column.align, column.labelClassName];\n    if (column.className) {\n      classes.push(column.className);\n    }\n    if (isCellHidden(cellIndex, store.states.columns.value, column)) {\n      classes.push(\"is-hidden\");\n    }\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n    return classes;\n  };\n  return {\n    hasGutter,\n    getRowClasses,\n    columns\n  };\n}\n\nvar TableFooter = defineComponent({\n  name: \"ElTableFooter\",\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    summaryMethod: Function,\n    sumText: String,\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n  setup(props) {\n    const { hasGutter, getRowClasses, columns } = useStyle$1(props);\n    return {\n      getRowClasses,\n      hasGutter,\n      columns\n    };\n  },\n  render() {\n    let sums = [];\n    if (this.summaryMethod) {\n      sums = this.summaryMethod({\n        columns: this.columns,\n        data: this.store.states.data.value\n      });\n    } else {\n      this.columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = this.sumText;\n          return;\n        }\n        const values = this.store.states.data.value.map((item) => Number(item[column.property]));\n        const precisions = [];\n        let notNumber = true;\n        values.forEach((value) => {\n          if (!isNaN(value)) {\n            notNumber = false;\n            const decimal = (\"\" + value).split(\".\")[1];\n            precisions.push(decimal ? decimal.length : 0);\n          }\n        });\n        const precision = Math.max.apply(null, precisions);\n        if (!notNumber) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            if (!isNaN(value)) {\n              return parseFloat((prev + curr).toFixed(Math.min(precision, 20)));\n            } else {\n              return prev;\n            }\n          }, 0);\n        } else {\n          sums[index] = \"\";\n        }\n      });\n    }\n    return h(\"table\", {\n      class: \"el-table__footer\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [\n      hColgroup(this.columns, this.hasGutter),\n      h(\"tbody\", {\n        class: [{ \"has-gutter\": this.hasGutter }]\n      }, [\n        h(\"tr\", {}, [\n          ...this.columns.map((column, cellIndex) => h(\"td\", {\n            key: cellIndex,\n            colspan: column.colSpan,\n            rowspan: column.rowSpan,\n            class: this.getRowClasses(column, cellIndex)\n          }, [\n            h(\"div\", {\n              class: [\"cell\", column.labelClassName]\n            }, [sums[cellIndex]])\n          ])),\n          this.hasGutter && hGutter()\n        ])\n      ])\n    ]);\n  }\n});\n\nfunction useUtils$1(store) {\n  const setCurrentRow = (row) => {\n    store.commit(\"setCurrentRow\", row);\n  };\n  const toggleRowSelection = (row, selected) => {\n    store.toggleRowSelection(row, selected, false);\n    store.updateAllSelected();\n  };\n  const clearSelection = () => {\n    store.clearSelection();\n  };\n  const clearFilter = (columnKeys) => {\n    store.clearFilter(columnKeys);\n  };\n  const toggleAllSelection = () => {\n    store.commit(\"toggleAllSelection\");\n  };\n  const toggleRowExpansion = (row, expanded) => {\n    store.toggleRowExpansionAdapter(row, expanded);\n  };\n  const clearSort = () => {\n    store.clearSort();\n  };\n  const sort = (prop, order) => {\n    store.commit(\"sort\", { prop, order });\n  };\n  return {\n    setCurrentRow,\n    toggleRowSelection,\n    clearSelection,\n    clearFilter,\n    toggleAllSelection,\n    toggleRowExpansion,\n    clearSort,\n    sort\n  };\n}\n\nfunction useStyle$2(props, layout, store, table) {\n  const $ELEMENT = useGlobalConfig();\n  const isHidden = ref(false);\n  const renderExpanded = ref(null);\n  const resizeProxyVisible = ref(false);\n  const setDragVisible = (visible) => {\n    resizeProxyVisible.value = visible;\n  };\n  const resizeState = ref({\n    width: null,\n    height: null\n  });\n  const isGroup = ref(false);\n  watchEffect(() => {\n    layout.setHeight(props.height);\n  });\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight);\n  });\n  watch(() => [props.currentRowKey, store.states.rowKey], ([currentRowKey, rowKey]) => {\n    if (!unref(rowKey))\n      return;\n    store.setCurrentRowKey(currentRowKey + \"\");\n  }, {\n    immediate: true\n  });\n  watch(() => props.data, (data) => {\n    table.store.commit(\"setData\", data);\n  }, {\n    immediate: true,\n    deep: true\n  });\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys);\n    }\n  });\n  const handleMouseLeave = () => {\n    table.store.commit(\"setHoverRow\", null);\n    if (table.hoverState)\n      table.hoverState = null;\n  };\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const { pixelX, pixelY } = data;\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5;\n    }\n  };\n  const shouldUpdateHeight = computed(() => {\n    return props.height || props.maxHeight || store.states.fixedColumns.value.length > 0 || store.states.rightFixedColumns.value.length > 0;\n  });\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight();\n    }\n    layout.updateColumnsWidth();\n    syncPostion();\n  };\n  onMounted(() => {\n    setScrollClass(\"is-scrolling-left\");\n    bindEvents();\n    store.updateColumns();\n    doLayout();\n    resizeState.value = {\n      width: table.vnode.el.offsetWidth,\n      height: table.vnode.el.offsetHeight\n    };\n    store.states.columns.value.forEach((column) => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit(\"filterChange\", {\n          column,\n          values: column.filteredValue,\n          silent: true\n        });\n      }\n    });\n    table.$ready = true;\n  });\n  const setScrollClassByEl = (el, className) => {\n    if (!el)\n      return;\n    const classList = Array.from(el.classList).filter((item) => !item.startsWith(\"is-scrolling-\"));\n    classList.push(layout.scrollX.value ? className : \"is-scrolling-none\");\n    el.className = classList.join(\" \");\n  };\n  const setScrollClass = (className) => {\n    const { bodyWrapper } = table.refs;\n    setScrollClassByEl(bodyWrapper, className);\n  };\n  const syncPostion = throttle(function() {\n    if (!table.refs.bodyWrapper)\n      return;\n    const {\n      scrollLeft,\n      scrollTop,\n      offsetWidth,\n      scrollWidth\n    } = table.refs.bodyWrapper;\n    const {\n      headerWrapper,\n      footerWrapper,\n      fixedBodyWrapper,\n      rightFixedBodyWrapper\n    } = table.refs;\n    if (headerWrapper)\n      headerWrapper.scrollLeft = scrollLeft;\n    if (footerWrapper)\n      footerWrapper.scrollLeft = scrollLeft;\n    if (fixedBodyWrapper)\n      fixedBodyWrapper.scrollTop = scrollTop;\n    if (rightFixedBodyWrapper)\n      rightFixedBodyWrapper.scrollTop = scrollTop;\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1;\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass(\"is-scrolling-right\");\n    } else if (scrollLeft === 0) {\n      setScrollClass(\"is-scrolling-left\");\n    } else {\n      setScrollClass(\"is-scrolling-middle\");\n    }\n  }, 10);\n  const bindEvents = () => {\n    window.addEventListener(\"resize\", doLayout);\n    table.refs.bodyWrapper.addEventListener(\"scroll\", syncPostion, {\n      passive: true\n    });\n    if (props.fit) {\n      addResizeListener(table.vnode.el, resizeListener);\n    }\n  };\n  onUnmounted(() => {\n    unbindEvents();\n  });\n  const unbindEvents = () => {\n    var _a;\n    (_a = table.refs.bodyWrapper) == null ? void 0 : _a.removeEventListener(\"scroll\", syncPostion, true);\n    window.removeEventListener(\"resize\", doLayout);\n    if (props.fit) {\n      removeResizeListener(table.vnode.el, resizeListener);\n    }\n  };\n  const resizeListener = () => {\n    if (!table.$ready)\n      return;\n    let shouldUpdateLayout = false;\n    const el = table.vnode.el;\n    const { width: oldWidth, height: oldHeight } = resizeState.value;\n    const width = el.offsetWidth;\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true;\n    }\n    const height = el.offsetHeight;\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true;\n    }\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height\n      };\n      doLayout();\n    }\n  };\n  const tableSize = computed(() => {\n    return props.size || $ELEMENT.size;\n  });\n  const bodyWidth = computed(() => {\n    const { bodyWidth: bodyWidth_, scrollY, gutterWidth } = layout;\n    return bodyWidth_.value ? bodyWidth_.value - (scrollY.value ? gutterWidth : 0) + \"px\" : \"\";\n  });\n  const bodyHeight = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0;\n    const bodyHeight2 = layout.bodyHeight.value;\n    const footerHeight = layout.footerHeight.value || 0;\n    if (props.height) {\n      return {\n        height: bodyHeight2 ? bodyHeight2 + \"px\" : \"\"\n      };\n    } else if (props.maxHeight) {\n      const maxHeight = parseHeight(props.maxHeight);\n      if (typeof maxHeight === \"number\") {\n        return {\n          \"max-height\": maxHeight - footerHeight - (props.showHeader ? headerHeight : 0) + \"px\"\n        };\n      }\n    }\n    return {};\n  });\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length)\n      return null;\n    let height = \"100%\";\n    if (layout.appendHeight.value) {\n      height = `calc(100% - ${layout.appendHeight.value}px)`;\n    }\n    return {\n      width: bodyWidth.value,\n      height\n    };\n  });\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper;\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop;\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault();\n      }\n      if (data.pixelY > 0 && bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop) {\n        event.preventDefault();\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5);\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5);\n    }\n  };\n  const fixedHeight = computed(() => {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0\n        };\n      }\n      return {\n        bottom: layout.scrollX.value && props.data.length ? layout.gutterWidth + \"px\" : \"\"\n      };\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value ? layout.tableHeight.value + \"px\" : \"\"\n        };\n      }\n      return {\n        height: layout.viewportHeight.value ? layout.viewportHeight.value + \"px\" : \"\"\n      };\n    }\n  });\n  const fixedBodyHeight = computed(() => {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value ? layout.fixedBodyHeight.value + \"px\" : \"\"\n      };\n    } else if (props.maxHeight) {\n      let maxHeight = parseHeight(props.maxHeight);\n      if (typeof maxHeight === \"number\") {\n        maxHeight = layout.scrollX.value ? maxHeight - layout.gutterWidth : maxHeight;\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value;\n        }\n        maxHeight -= layout.footerHeight.value;\n        return {\n          \"max-height\": maxHeight + \"px\"\n        };\n      }\n    }\n    return {};\n  });\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    bodyHeight,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    fixedHeight,\n    fixedBodyHeight,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout\n  };\n}\n\nvar defaultProps$1 = {\n  data: {\n    type: Array,\n    default: () => {\n      return [];\n    }\n  },\n  size: String,\n  width: [String, Number],\n  height: [String, Number],\n  maxHeight: [String, Number],\n  fit: {\n    type: Boolean,\n    default: true\n  },\n  stripe: Boolean,\n  border: Boolean,\n  rowKey: [String, Function],\n  showHeader: {\n    type: Boolean,\n    default: true\n  },\n  showSummary: Boolean,\n  sumText: String,\n  summaryMethod: Function,\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  cellClassName: [String, Function],\n  cellStyle: [Object, Function],\n  headerRowClassName: [String, Function],\n  headerRowStyle: [Object, Function],\n  headerCellClassName: [String, Function],\n  headerCellStyle: [Object, Function],\n  highlightCurrentRow: Boolean,\n  currentRowKey: [String, Number],\n  emptyText: String,\n  expandRowKeys: Array,\n  defaultExpandAll: Boolean,\n  defaultSort: Object,\n  tooltipEffect: String,\n  spanMethod: Function,\n  selectOnIndeterminate: {\n    type: Boolean,\n    default: true\n  },\n  indent: {\n    type: Number,\n    default: 16\n  },\n  treeProps: {\n    type: Object,\n    default: () => {\n      return {\n        hasChildren: \"hasChildren\",\n        children: \"children\"\n      };\n    }\n  },\n  lazy: Boolean,\n  load: Function,\n  style: {\n    type: Object,\n    default: () => ({})\n  },\n  className: {\n    type: String,\n    default: \"\"\n  }\n};\n\nlet tableIdSeed = 1;\nvar script$1 = defineComponent({\n  name: \"ElTable\",\n  directives: {\n    Mousewheel\n  },\n  components: {\n    TableHeader,\n    TableBody,\n    TableFooter\n  },\n  props: defaultProps$1,\n  emits: [\n    \"select\",\n    \"select-all\",\n    \"selection-change\",\n    \"cell-mouse-enter\",\n    \"cell-mouse-leave\",\n    \"cell-contextmenu\",\n    \"cell-click\",\n    \"cell-dblclick\",\n    \"row-click\",\n    \"row-contextmenu\",\n    \"row-dblclick\",\n    \"header-click\",\n    \"header-contextmenu\",\n    \"sort-change\",\n    \"filter-change\",\n    \"current-change\",\n    \"header-dragend\",\n    \"expand-change\"\n  ],\n  setup(props) {\n    const { t } = useLocaleInject();\n    let table = getCurrentInstance();\n    const store = createStore(table, props);\n    table.store = store;\n    const layout = new TableLayout({\n      store: table.store,\n      table,\n      fit: props.fit,\n      showHeader: props.showHeader\n    });\n    table.layout = layout;\n    const isEmpty = computed(() => (store.states.data.value || []).length === 0);\n    const {\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      sort\n    } = useUtils$1(store);\n    const {\n      isHidden,\n      renderExpanded,\n      setDragVisible,\n      isGroup,\n      handleMouseLeave,\n      handleHeaderFooterMousewheel,\n      tableSize,\n      bodyHeight,\n      emptyBlockStyle,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      resizeProxyVisible,\n      bodyWidth,\n      resizeState,\n      doLayout\n    } = useStyle$2(props, layout, store, table);\n    const debouncedUpdateLayout = debounce(doLayout, 50);\n    const tableId = \"el-table_\" + tableIdSeed++;\n    table.tableId = tableId;\n    table.state = {\n      isGroup,\n      resizeState,\n      doLayout,\n      debouncedUpdateLayout\n    };\n    return {\n      layout,\n      store,\n      handleHeaderFooterMousewheel,\n      handleMouseLeave,\n      tableId,\n      tableSize,\n      isHidden,\n      isEmpty,\n      renderExpanded,\n      resizeProxyVisible,\n      resizeState,\n      isGroup,\n      bodyWidth,\n      bodyHeight,\n      emptyBlockStyle,\n      debouncedUpdateLayout,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort,\n      t,\n      setDragVisible,\n      context: table\n    };\n  }\n});\n\nconst _hoisted_1$1 = {\n  ref: \"hiddenColumns\",\n  class: \"hidden-columns\"\n};\nconst _hoisted_2$1 = {\n  key: 0,\n  ref: \"headerWrapper\",\n  class: \"el-table__header-wrapper\"\n};\nconst _hoisted_3$1 = { class: \"el-table__empty-text\" };\nconst _hoisted_4$1 = {\n  key: 1,\n  ref: \"appendWrapper\",\n  class: \"el-table__append-wrapper\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  ref: \"footerWrapper\",\n  class: \"el-table__footer-wrapper\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  ref: \"fixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  ref: \"fixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  ref: \"rightFixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  ref: \"rightFixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_10 = {\n  ref: \"resizeProxy\",\n  class: \"el-table__column-resize-proxy\"\n};\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_table_header = resolveComponent(\"table-header\");\n  const _component_table_body = resolveComponent(\"table-body\");\n  const _component_table_footer = resolveComponent(\"table-footer\");\n  const _directive_mousewheel = resolveDirective(\"mousewheel\");\n  return openBlock(), createBlock(\"div\", {\n    class: [\n      {\n        \"el-table--fit\": _ctx.fit,\n        \"el-table--striped\": _ctx.stripe,\n        \"el-table--border\": _ctx.border || _ctx.isGroup,\n        \"el-table--hidden\": _ctx.isHidden,\n        \"el-table--group\": _ctx.isGroup,\n        \"el-table--fluid-height\": _ctx.maxHeight,\n        \"el-table--scrollable-x\": _ctx.layout.scrollX.value,\n        \"el-table--scrollable-y\": _ctx.layout.scrollY.value,\n        \"el-table--enable-row-hover\": !_ctx.store.states.isComplex.value,\n        \"el-table--enable-row-transition\": (_ctx.store.states.data.value || []).length !== 0 && (_ctx.store.states.data.value || []).length < 100\n      },\n      _ctx.tableSize ? `el-table--${_ctx.tableSize}` : \"\",\n      _ctx.className,\n      \"el-table\"\n    ],\n    style: _ctx.style,\n    onMouseleave: _cache[1] || (_cache[1] = ($event) => _ctx.handleMouseLeave())\n  }, [\n    createVNode(\"div\", _hoisted_1$1, [\n      renderSlot(_ctx.$slots, \"default\")\n    ], 512),\n    _ctx.showHeader ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_2$1, [\n      createVNode(_component_table_header, {\n        ref: \"tableHeader\",\n        border: _ctx.border,\n        \"default-sort\": _ctx.defaultSort,\n        store: _ctx.store,\n        style: {\n          width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n        },\n        onSetDragVisible: _ctx.setDragVisible\n      }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"onSetDragVisible\"])\n    ], 512)), [\n      [_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    createVNode(\"div\", {\n      ref: \"bodyWrapper\",\n      style: [_ctx.bodyHeight],\n      class: \"el-table__body-wrapper\"\n    }, [\n      createVNode(_component_table_body, {\n        context: _ctx.context,\n        highlight: _ctx.highlightCurrentRow,\n        \"row-class-name\": _ctx.rowClassName,\n        \"tooltip-effect\": _ctx.tooltipEffect,\n        \"row-style\": _ctx.rowStyle,\n        store: _ctx.store,\n        stripe: _ctx.stripe,\n        style: {\n          width: _ctx.bodyWidth\n        }\n      }, null, 8, [\"context\", \"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]),\n      _ctx.isEmpty ? (openBlock(), createBlock(\"div\", {\n        key: 0,\n        ref: \"emptyBlock\",\n        style: _ctx.emptyBlockStyle,\n        class: \"el-table__empty-block\"\n      }, [\n        createVNode(\"span\", _hoisted_3$1, [\n          renderSlot(_ctx.$slots, \"empty\", {}, () => [\n            createTextVNode(toDisplayString(_ctx.emptyText || _ctx.t(\"el.table.emptyText\")), 1)\n          ])\n        ])\n      ], 4)) : createCommentVNode(\"v-if\", true),\n      _ctx.$slots.append ? (openBlock(), createBlock(\"div\", _hoisted_4$1, [\n        renderSlot(_ctx.$slots, \"append\")\n      ], 512)) : createCommentVNode(\"v-if\", true)\n    ], 4),\n    _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_5, [\n      createVNode(_component_table_footer, {\n        border: _ctx.border,\n        \"default-sort\": _ctx.defaultSort,\n        store: _ctx.store,\n        style: {\n          width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n        },\n        \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n        \"summary-method\": _ctx.summaryMethod\n      }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"sum-text\", \"summary-method\"])\n    ], 512)), [\n      [vShow, !_ctx.isEmpty],\n      [_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.store.states.fixedColumns.value.length > 0 ? withDirectives((openBlock(), createBlock(\"div\", {\n      key: 2,\n      ref: \"fixedWrapper\",\n      style: [\n        {\n          width: _ctx.layout.fixedWidth.value ? _ctx.layout.fixedWidth.value + \"px\" : \"\"\n        },\n        _ctx.fixedHeight\n      ],\n      class: \"el-table__fixed\"\n    }, [\n      _ctx.showHeader ? (openBlock(), createBlock(\"div\", _hoisted_6, [\n        createVNode(_component_table_header, {\n          ref: \"fixedTableHeader\",\n          border: _ctx.border,\n          store: _ctx.store,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          fixed: \"left\",\n          onSetDragVisible: _ctx.setDragVisible\n        }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])\n      ], 512)) : createCommentVNode(\"v-if\", true),\n      createVNode(\"div\", {\n        ref: \"fixedBodyWrapper\",\n        style: [\n          {\n            top: _ctx.layout.headerHeight.value + \"px\"\n          },\n          _ctx.fixedBodyHeight\n        ],\n        class: \"el-table__fixed-body-wrapper\"\n      }, [\n        createVNode(_component_table_body, {\n          highlight: _ctx.highlightCurrentRow,\n          \"row-class-name\": _ctx.rowClassName,\n          \"tooltip-effect\": _ctx.tooltipEffect,\n          \"row-style\": _ctx.rowStyle,\n          store: _ctx.store,\n          stripe: _ctx.stripe,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          fixed: \"left\"\n        }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]),\n        _ctx.$slots.append ? (openBlock(), createBlock(\"div\", {\n          key: 0,\n          style: { height: _ctx.layout.appendHeight.value + \"px\" },\n          class: \"el-table__append-gutter\"\n        }, null, 4)) : createCommentVNode(\"v-if\", true)\n      ], 4),\n      _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_7, [\n        createVNode(_component_table_footer, {\n          border: _ctx.border,\n          store: _ctx.store,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n          \"summary-method\": _ctx.summaryMethod,\n          fixed: \"left\"\n        }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])\n      ], 512)), [\n        [vShow, !_ctx.isEmpty]\n      ]) : createCommentVNode(\"v-if\", true)\n    ], 4)), [\n      [_directive_mousewheel, _ctx.handleFixedMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.store.states.rightFixedColumns.value.length > 0 ? withDirectives((openBlock(), createBlock(\"div\", {\n      key: 3,\n      ref: \"rightFixedWrapper\",\n      style: [\n        {\n          width: _ctx.layout.rightFixedWidth.value ? _ctx.layout.rightFixedWidth.value + \"px\" : \"\",\n          right: _ctx.layout.scrollY.value ? (_ctx.border ? _ctx.layout.gutterWidth : _ctx.layout.gutterWidth || 0) + \"px\" : \"\"\n        },\n        _ctx.fixedHeight\n      ],\n      class: \"el-table__fixed-right\"\n    }, [\n      _ctx.showHeader ? (openBlock(), createBlock(\"div\", _hoisted_8, [\n        createVNode(_component_table_header, {\n          ref: \"rightFixedTableHeader\",\n          border: _ctx.border,\n          store: _ctx.store,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          fixed: \"right\",\n          onSetDragVisible: _ctx.setDragVisible\n        }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])\n      ], 512)) : createCommentVNode(\"v-if\", true),\n      createVNode(\"div\", {\n        ref: \"rightFixedBodyWrapper\",\n        style: [{ top: _ctx.layout.headerHeight.value + \"px\" }, _ctx.fixedBodyHeight],\n        class: \"el-table__fixed-body-wrapper\"\n      }, [\n        createVNode(_component_table_body, {\n          highlight: _ctx.highlightCurrentRow,\n          \"row-class-name\": _ctx.rowClassName,\n          \"tooltip-effect\": _ctx.tooltipEffect,\n          \"row-style\": _ctx.rowStyle,\n          store: _ctx.store,\n          stripe: _ctx.stripe,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          fixed: \"right\"\n        }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]),\n        _ctx.$slots.append ? (openBlock(), createBlock(\"div\", {\n          key: 0,\n          style: { height: _ctx.layout.appendHeight.value + \"px\" },\n          class: \"el-table__append-gutter\"\n        }, null, 4)) : createCommentVNode(\"v-if\", true)\n      ], 4),\n      _ctx.showSummary ? withDirectives((openBlock(), createBlock(\"div\", _hoisted_9, [\n        createVNode(_component_table_footer, {\n          border: _ctx.border,\n          store: _ctx.store,\n          style: {\n            width: _ctx.bodyWidth\n          },\n          \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n          \"summary-method\": _ctx.summaryMethod,\n          fixed: \"right\"\n        }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])\n      ], 512)), [\n        [vShow, !_ctx.isEmpty]\n      ]) : createCommentVNode(\"v-if\", true)\n    ], 4)), [\n      [_directive_mousewheel, _ctx.handleFixedMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.store.states.rightFixedColumns.value.length > 0 ? (openBlock(), createBlock(\"div\", {\n      key: 4,\n      ref: \"rightFixedPatch\",\n      style: {\n        width: _ctx.layout.scrollY.value ? _ctx.layout.gutterWidth + \"px\" : \"0\",\n        height: _ctx.layout.headerHeight.value + \"px\"\n      },\n      class: \"el-table__fixed-right-patch\"\n    }, null, 4)) : createCommentVNode(\"v-if\", true),\n    withDirectives(createVNode(\"div\", _hoisted_10, null, 512), [\n      [vShow, _ctx.resizeProxyVisible]\n    ])\n  ], 38);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/table/src/table.vue\";\n\nscript$1.install = (app) => {\n  app.component(script$1.name, script$1);\n};\nconst _Table = script$1;\n\nexport default _Table;\n"]},"metadata":{},"sourceType":"module"}